var V=Object.defineProperty,E=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var B=(e,i,a)=>i in e?V(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a,S=(e,i)=>{for(var a in i||(i={}))U.call(i,a)&&B(e,a,i[a]);if(T)for(var a of T(i))H.call(i,a)&&B(e,a,i[a]);return e},k=(e,i)=>E(e,P(i));import{c as v,r as g,w as M,y as O,h as o,ak as W,S as z,t as D,aP as X,p as h,m as y,V as b,F as Y,a9 as G,n as J,Y as K,a2 as Z,a0 as ee,X as f,f as te,W as ae,a1 as N}from"./index.e5e5ad80.js";import{Q as ie}from"./QSpinner.6600b362.js";import{c as ne,h as re}from"./render.4975c230.js";import{Q as le}from"./QBadge.e5c632ba.js";import{Q as oe}from"./QAvatar.da0a2ba4.js";const se={ratio:[String,Number]};function ue(e,i){return v(()=>{const a=Number(e.ratio||(i!==void 0?i.value:void 0));return isNaN(a)!==!0&&a>0?{paddingBottom:`${100/a}%`}:null})}const ce=16/9;var Ce=ne({name:"QImg",props:k(S({},se),{src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ce},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String}),emits:["load","error"],setup(e,{slots:i,emit:a}){const s=g(e.initialRatio),d=ue(e,s);let n;const r=[g(null),g(e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null)],l=g(0),u=g(!1),m=g(!1),x=v(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),$=v(()=>({width:e.width,height:e.height})),Q=v(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),R=v(()=>k(S({},e.imgStyle),{objectFit:e.fit,objectPosition:e.position}));M(()=>q(),C);function q(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function C(t){if(clearTimeout(n),m.value=!1,t===null){u.value=!1,r[0].value=null,r[1].value=null;return}u.value=!0,r[l.value].value=t}function A({target:t}){n!==null&&(clearTimeout(n),s.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,w(t,1))}function w(t,c){n===null||c===1e3||(t.complete===!0?F(t):n=setTimeout(()=>{w(t,c+1)},50))}function F(t){n!==null&&(l.value=l.value===1?0:1,r[l.value].value=null,u.value=!1,m.value=!1,a("load",t.currentSrc||t.src))}function I(t){clearTimeout(n),u.value=!1,m.value=!0,r[0].value=null,r[1].value=null,a("error",t)}function L(t,c){return o("div",{class:"q-img__container absolute-full",key:t},c)}function p(t){const c=r[t].value,_=S({key:"img_"+t,class:Q.value,style:R.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable},c);return l.value===t?(_.class+=" q-img__image--waiting",Object.assign(_,{onLoad:A,onError:I})):_.class+=" q-img__image--loaded",L("img"+t,o("img",_))}function j(){return u.value!==!0?o("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},re(i[m.value===!0?"error":"default"])):o("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},i.loading!==void 0?i.loading():e.noSpinner===!0?void 0:[o(ie,{color:e.spinnerColor,size:e.spinnerSize})])}return C(q()),O(()=>{clearTimeout(n),n=null}),()=>{const t=[];return d.value!==null&&t.push(o("div",{key:"filler",style:d.value})),m.value!==!0&&(r[0].value!==null&&t.push(p(0)),r[1].value!==null&&t.push(p(1))),t.push(o(W,{name:"q-transition--fade"},j)),o("div",{class:x.value,style:$.value,role:"img","aria-label":e.alt},t)}}});const ge={key:0,class:"tags-wrapper"},we=z({__name:"TagList",props:{tags:null},setup(e){const i=e,{tags:a}=D(i),s=X(),d=n=>{s.setFilters({searchText:n})};return(n,r)=>h(a)?(y(),b("div",ge,[(y(!0),b(Y,null,G(h(a),l=>(y(),J(le,{class:K(["tag q-px-sm q-py-xs",{dark:n.$q.dark.isActive}]),key:l,onClick:u=>d(l),rounded:"",color:n.$q.dark.isActive?"grey-3":"grey-9",outline:"","text-color":n.$q.dark.isActive?"grey-3":"grey-9",size:"2rem",label:l},null,8,["class","onClick","color","text-color","label"]))),128))])):Z("",!0)}}),de={class:"q-mr-md"},me=["src"],fe={class:"col"},ve={class:"text-bold"},he={class:"text-italic"},pe=z({__name:"AuthorInfo",props:{author:null},setup(e){const a=ee(e,"author"),s=()=>window.open(a.value.profileUrl,"_blank");return(d,n)=>(y(),b("div",{onClick:s,class:"row cursor-pointer"},[f("div",de,[te(oe,{size:"40px",class:"q-mx-auto"},{default:ae(()=>[f("img",{src:h(a).avatarUrl},null,8,me)]),_:1})]),f("div",fe,[f("div",ve,N(h(a).nickName),1),f("div",he,N(h(a).email),1)])]))}});export{Ce as Q,pe as _,we as a};
