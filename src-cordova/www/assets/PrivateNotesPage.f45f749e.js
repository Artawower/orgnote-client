import{e as S}from"./PublicNotePreview.920b084c.js";import{k as v,aq as y,aM as k,r as b,e as l,w as I,bl as V,bn as x,o as a,a3 as m,a8 as B,a4 as d,h as t,f as u,a5 as w,ac as n,ab as C,a6 as P}from"./index.ee248633.js";import{N as q}from"./NoteList.b6629b41.js";import{_ as F}from"./ModeLine.326c4d33.js";import"./view.913dc8a4.js";import"./use-dark.6eb9a25b.js";import"./use-checkbox.72934353.js";import"./use-form.49a0a13a.js";import"./QMenu.d1f6c36e.js";import"./focus-manager.387b0375.js";import"./use-tick.3b15ee10.js";import"./use-timeout.54d95478.js";import"./QItemSection.18fcffc9.js";import"./QList.b92d5e2d.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./AsyncItemContainer.61e2c122.js";import"./use-virtual-scroll.cb3ec405.js";import"./rtl.4b414a6d.js";import"./debounce.124e7565.js";import"./QFooter.833c5f21.js";const M={class:"container content"},Q={key:0},se=v({__name:"PrivateNotesPage",setup(T){const e=y(),s=k(),c=b(null),p=()=>{e.setFilters({searchText:s.query.search,userId:s.params.userId})},f=l(()=>e.filters.limit),_=l(()=>e.filters.offset),i=()=>{p(),e.loadNotes()};i(),I(()=>s.params.userId,()=>{var r;((r=e.filters)==null?void 0:r.userId)!=s.params.userId&&i()});const o=V(),N=x(),h=async()=>{await e.deleteNotes(o.selectedNotesIds),N.syncNotes(),o.clearSelectedNotes()},g=l(()=>e.notes.length);return(r,L)=>(a(),m("div",{ref_key:"scrollTarget",ref:c,class:"scroll-container"},[B("div",M,[d(q,{selectable:!0,limit:f.value,offset:_.value,total:t(e).total,"fetch-notes":t(e).fetchNotes,notes:t(e).notes,"scroll-target":c.value},null,8,["limit","offset","total","fetch-notes","notes","scroll-target"]),g.value?(a(),u(F,{key:0,tabMode:!1},{left:w(()=>[d(S,{style:{"margin-left":"-3px"},modelValue:t(o).isAllNotesSelected,size:"sm","onUpdate:modelValue":t(o).toggleBulkNotesSelection},null,8,["modelValue","onUpdate:modelValue"]),t(o).selectedNotesIds.length?(a(),m("div",Q,C(t(o).selectedNotesIds.length),1)):n("",!0),t(o).isSomeNotesSelected?(a(),u(P,{key:1,square:"",class:"themed-button",icon:"delete",flat:"",onClick:h})):n("",!0)]),_:1})):n("",!0)])],512))}});export{se as default};
