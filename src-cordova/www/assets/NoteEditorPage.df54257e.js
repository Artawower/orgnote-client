import{Q as m}from"./QRouteTab.c697a735.js";import{k as U,aM as T,aZ as P,ai as x,a_ as k,w as N,e as D,a$ as Q,au as V,o as h,f as E,a5 as b,ac as $,a4 as u,h as i,ad as p,a6 as C}from"./index.816ed836.js";import{Q as B}from"./QPage.a2eb83a7.js";import{_ as L}from"./ModeLine.96e84c7f.js";import"./QFooter.7f8dce78.js";import"./use-tick.1d64bfca.js";import"./use-timeout.e7de6380.js";import"./rtl.4b414a6d.js";let d;const q=new Uint8Array(16);function F(){if(!d&&(d=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(q)}const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function f(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}const A=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var I={randomUUID:A};function H(e,t,a){if(I.randomUUID&&!t&&!e)return I.randomUUID();e=e||{};const n=e.random||(e.rng||F)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){a=a||0;for(let r=0;r<16;++r)t[a+r]=n[r];return t}return f(n)}function O(){return`:PROPERTIES:
:ID: ${H()}
:END:


#+TITLE: `}const Y=U({__name:"NoteEditorPage",setup(e){const a=T().params.id,n=P(),{specialSymbolsHidden:r}=x(n),v=k(),{currentNote:s,currentOrgTree:R}=x(v),y=()=>{!s.value||(n.setNoteContent(R.value),n.setFilePath(s.value.filePath),n.setCreatedTime(s.value.createdAt))};a?(y(),N(()=>s.value,()=>y())):n.setNoteText(O()),a&&v.selectNoteById(a);const c=D(()=>{var l;return!a||((l=s.value)==null?void 0:l.id)===a}),g=Q(),w=()=>{(c.value?g.loading.hide:g.loading.show)()};return w(),N(()=>c.value,()=>w()),(l,_)=>{const S=V("router-view");return h(),E(B,{class:"q-pa-md height-auto with-modeline"},{default:b(()=>[c.value?(h(),E(S,{key:0})):$("",!0),u(L,null,{default:b(()=>[u(m,{to:{name:i(p).RawEditor,params:{id:i(a)}},exact:!0,icon:"draw",label:"raw"},null,8,["to"]),u(m,{to:{name:i(p).WysiwygEditor,params:{id:i(a)}},exact:!0,icon:"wysiwyg",label:"wysiwyg"},null,8,["to"]),u(m,{to:{name:i(p).PreviewEditor,params:{id:i(a)}},exact:!0,icon:"preview",label:l.$t("preview")},null,8,["to","label"]),u(C,{onClick:i(n).save,icon:"save",flat:""},null,8,["onClick"]),u(C,{icon:i(r)?"visibility_off":"visibility",flat:"",onClick:_[0]||(_[0]=j=>r.value=!i(r))},null,8,["icon"])]),_:1})]),_:1})}}});export{Y as default};
