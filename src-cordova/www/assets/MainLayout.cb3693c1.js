import{j as Ve,i as Kt,k as ot,l as jt,p as Hl,a as d,h as y,m as Ue,n as Me,q as Nn,w as G,s as Hn,v as We,x as Be,y as Kn,z as jn,A as Un,B as Qn,r as L,C as Kl,D as Et,E as _t,F as jl,G as Ut,H as Wn,I as Zn,J as Yn,K as Xn,L as Gn,M as Ul,N as Pt,O as Ql,P as Wl,Q as Ge,R as bl,S as yl,T as Jn,U as xe,V as Nt,g as _e,W as rt,o as K,X as ie,Y as w,Z as R,_ as wt,$ as Ze,a0 as le,a1 as Ct,a2 as Qt,a3 as Wt,a4 as Zl,a5 as ve,a6 as Le,a7 as Yl,a8 as qt,a9 as ea,aa as Xl,ab as ta,d as ce,ac as Te,ad as la,ae as _l,af as Ae,ag as Ke,ah as ft,ai as pl,aj as $t,e as U,ak as Mt,al as Gl,am as re,an as Fe,ao as it,ap as na,aq as je,u as Zt,t as aa,ar as oa,as as ia,at as ua,au as ra,av as sa,aw as ca,ax as dt,ay as da,az as He,aA as fa,aB as va,aC as Jl,aD as Yt,f as Xt,aE as kl,aF as en,aG as tn,aH as ln,aI as nn,aJ as an,aK as on,aL as ma,aM as ha,aN as ga,aO as ba,aP as ya}from"./index.446b2176.js";import{Q as zt,a as un}from"./QFooter.4d1ffcb9.js";import{u as rn,a as sn,b as cn,c as dn,Q as _a,d as we,e as ye,f as ut,g as Gt,r as pa,h as ka,i as Sa,j as xa,k as wa,l as Ca,m as qa,n as Sl,o as xl,p as fn,q as vn,s as $a,t as za,v as Va,w as Ma,x as Ta,y as Fa,C as Aa}from"./ClosePopup.6775e2be.js";import{u as ht,a as gt}from"./selection.f044c102.js";import{T as vt}from"./TouchPan.20c65915.js";import{_ as Oe}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as Ba,H as Ia,a as Ea,c as Pa}from"./ActionBtn.fe20e2cb.js";import{u as Ra,a as La,Q as Oa,_ as Da}from"./AsyncItemContainer.c33b9601.js";const Na=e=>e.endsWith(".org"),Ha=e=>new Promise((t,l)=>{const i=new FileReader;i.onload=()=>{t(i.result)},i.onerror=()=>{l(i.error)},i.readAsText(e)}),mn=async e=>new Promise((t,l)=>{e.file(t,l)}),Ka=async e=>{const t=await mn(e),l=await Ha(t);return{filePath:e.fullPath.slice(1).split("/"),content:l}};function ja(e,t){const l=document.querySelector(e),i=document.querySelector(t);if(!l||!i)return 0;const r=l.getBoundingClientRect().top,u=l.getBoundingClientRect().bottom,s=i.getBoundingClientRect().top;return i.getBoundingClientRect().bottom>u?1:r>=s?-1:0}function Ua(e){const t=document.body;return getComputedStyle(t).getPropertyValue(`--${e}`)}function Qa(e){return+Ua(e).replace(/\D/g,"")}function hn(e,t=[],l=[".git","node_modules","dist","build"]){const i=e.createReader();return new Promise((r,u)=>{const s=[];function a(){i.readEntries(h=>{if(!h.length){r(Promise.all(s).then(v=>v.flat(2)));return}s.push(Promise.all(h.map(v=>{const f=v.name.split(".").pop();return v.isFile&&t.includes(f)?v:v.isFile||l.includes(v.name)?[]:hn(v,t,l)}))),a()},h=>u(h))}a()})}var Wa=Ve({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:l}}=Me(),i=Kt(jt,ot);if(i===ot)return console.error("QPageContainer needs to be child of QLayout"),ot;Hl(Nn,!0);const r=d(()=>{const u={};return i.header.space===!0&&(u.paddingTop=`${i.header.size}px`),i.right.space===!0&&(u[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${i.right.size}px`),i.footer.space===!0&&(u.paddingBottom=`${i.footer.size}px`),i.left.space===!0&&(u[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${i.left.size}px`),u});return()=>y("div",{class:"q-page-container",style:r.value},Ue(t.default))}});const{passive:wl}=jn,Za=["both","horizontal","vertical"];var gn=Ve({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Za.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i=null,r,u;G(()=>e.scrollTarget,()=>{h(),a()});function s(){i!==null&&i();const S=Math.max(0,Un(r)),N=Qn(r),B={top:S-l.position.top,left:N-l.position.left};if(e.axis==="vertical"&&B.top===0||e.axis==="horizontal"&&B.left===0)return;const D=Math.abs(B.top)>=Math.abs(B.left)?B.top<0?"up":"down":B.left<0?"left":"right";l.position={top:S,left:N},l.directionChanged=l.direction!==D,l.delta=B,l.directionChanged===!0&&(l.direction=D,l.inflectionPoint=l.position),t("scroll",{...l})}function a(){r=Hn(u,e.scrollTarget),r.addEventListener("scroll",v,wl),v(!0)}function h(){r!==void 0&&(r.removeEventListener("scroll",v,wl),r=void 0)}function v(S){if(S===!0||e.debounce===0||e.debounce==="0")s();else if(i===null){const[N,B]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];i=()=>{B(N),i=null}}}const{proxy:f}=Me();return G(()=>f.$q.lang.rtl,s),We(()=>{u=f.$el.parentNode,a()}),Be(()=>{i!==null&&i(),h()}),Object.assign(f,{trigger:v,getPosition:()=>l}),Kn}}),Ya=Ve({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:l}){const{proxy:{$q:i}}=Me(),r=L(null),u=L(i.screen.height),s=L(e.container===!0?0:i.screen.width),a=L({position:0,direction:"down",inflectionPoint:0}),h=L(0),v=L(Kl.value===!0?0:Et()),f=d(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),S=d(()=>e.container===!1?{minHeight:i.screen.height+"px"}:null),N=d(()=>v.value!==0?{[i.lang.rtl===!0?"left":"right"]:`${v.value}px`}:null),B=d(()=>v.value!==0?{[i.lang.rtl===!0?"right":"left"]:0,[i.lang.rtl===!0?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null);function D(A){if(e.container===!0||document.qScrollPrevented!==!0){const T={position:A.position.top,direction:A.direction,directionChanged:A.directionChanged,inflectionPoint:A.inflectionPoint.top,delta:A.delta.top};a.value=T,e.onScroll!==void 0&&l("scroll",T)}}function I(A){const{height:T,width:H}=A;let j=!1;u.value!==T&&(j=!0,u.value=T,e.onScrollHeight!==void 0&&l("scrollHeight",T),F()),s.value!==H&&(j=!0,s.value=H),j===!0&&e.onResize!==void 0&&l("resize",A)}function V({height:A}){h.value!==A&&(h.value=A,F())}function F(){if(e.container===!0){const A=u.value>h.value?Et():0;v.value!==A&&(v.value=A)}}let q=null;const Y={instances:{},view:d(()=>e.view),isContainer:d(()=>e.container),rootRef:r,height:u,containerHeight:h,scrollbarWidth:v,totalWidth:d(()=>s.value+v.value),rows:d(()=>{const A=e.view.toLowerCase().split(" ");return{top:A[0].split(""),middle:A[1].split(""),bottom:A[2].split("")}}),header:_t({size:0,offset:0,space:!1}),right:_t({size:300,offset:0,space:!1}),footer:_t({size:0,offset:0,space:!1}),left:_t({size:300,offset:0,space:!1}),scroll:a,animate(){q!==null?clearTimeout(q):document.body.classList.add("q-body--layout-animate"),q=setTimeout(()=>{q=null,document.body.classList.remove("q-body--layout-animate")},155)},update(A,T,H){Y[A][T]=H}};if(Hl(jt,Y),Et()>0){let H=function(){A=null,T.classList.remove("hide-scrollbar")},j=function(){if(A===null){if(T.scrollHeight>i.screen.height)return;T.classList.add("hide-scrollbar")}else clearTimeout(A);A=setTimeout(H,300)},te=function(k){A!==null&&k==="remove"&&(clearTimeout(A),H()),window[`${k}EventListener`]("resize",j)},A=null;const T=document.body;G(()=>e.container!==!0?"add":"remove",te),e.container!==!0&&te("add"),jl(()=>{te("remove")})}return()=>{const A=Ut(t.default,[y(gn,{onScroll:D}),y(zt,{onResize:I})]),T=y("div",{class:f.value,style:S.value,ref:e.container===!0?void 0:r,tabindex:-1},A);return e.container===!0?y("div",{class:"q-layout-container overflow-hidden",ref:r},[y(zt,{onResize:V}),y("div",{class:"absolute-full",style:N.value},[y("div",{class:"scroll",style:B.value},[T])])]):T}}});const Xa=Wn("importStore",()=>{const e=async s=>{if(Na(s.name)){l(s);return}r(s)},t=Zn(),l=async s=>{const a=await Ka(s),h=Xn(Gn(a.content));if(!h.meta.id)return;const v=new Date().toISOString();t.upsertNotesLocally([{content:a.content,id:h.meta.id,createdAt:v,updatedAt:v,filePath:a.filePath,meta:h.meta}])},i=Yn(),r=async s=>{console.log("\u270E: [line 44][import-store.ts] fileEntry: ",s);const a=await mn(s);await i.saveFile(a)};return{uploadFiles:async s=>{s.forEach(async a=>{await e(a)})}}});function Qe(e,t,l){return l<=t?t:Math.min(l,Math.max(t,e))}function Cl(e,t,l){if(l<=t)return t;const i=l-t+1;let r=t+(e-t)%i;return r<t&&(r=i+r),r===0?0:r}const ql=["vertical","horizontal"],Rt={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},$l={prevent:!0,mouse:!0,mouseAllDir:!0},zl=e=>e>=250?50:Math.ceil(e/5);var bn=Ve({name:"QScrollArea",props:{...ht,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:t,emit:l}){const i=L(!1),r=L(!1),u=L(!1),s={vertical:L(0),horizontal:L(0)},a={vertical:{ref:L(null),position:L(0),size:L(0)},horizontal:{ref:L(null),position:L(0),size:L(0)}},{proxy:h}=Me(),v=gt(e,h.$q);let f=null,S;const N=L(null),B=d(()=>"q-scrollarea"+(v.value===!0?" q-scrollarea--dark":""));a.vertical.percentage=d(()=>{const g=a.vertical.size.value-s.vertical.value;if(g<=0)return 0;const c=Qe(a.vertical.position.value/g,0,1);return Math.round(c*1e4)/1e4}),a.vertical.thumbHidden=d(()=>(e.visible===null?u.value:e.visible)!==!0&&i.value===!1&&r.value===!1||a.vertical.size.value<=s.vertical.value+1),a.vertical.thumbStart=d(()=>a.vertical.percentage.value*(s.vertical.value-a.vertical.thumbSize.value)),a.vertical.thumbSize=d(()=>Math.round(Qe(s.vertical.value*s.vertical.value/a.vertical.size.value,zl(s.vertical.value),s.vertical.value))),a.vertical.style=d(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${a.vertical.thumbStart.value}px`,height:`${a.vertical.thumbSize.value}px`})),a.vertical.thumbClass=d(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.vertical.barClass=d(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),a.horizontal.percentage=d(()=>{const g=a.horizontal.size.value-s.horizontal.value;if(g<=0)return 0;const c=Qe(Math.abs(a.horizontal.position.value)/g,0,1);return Math.round(c*1e4)/1e4}),a.horizontal.thumbHidden=d(()=>(e.visible===null?u.value:e.visible)!==!0&&i.value===!1&&r.value===!1||a.horizontal.size.value<=s.horizontal.value+1),a.horizontal.thumbStart=d(()=>a.horizontal.percentage.value*(s.horizontal.value-a.horizontal.thumbSize.value)),a.horizontal.thumbSize=d(()=>Math.round(Qe(s.horizontal.value*s.horizontal.value/a.horizontal.size.value,zl(s.horizontal.value),s.horizontal.value))),a.horizontal.style=d(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[h.$q.lang.rtl===!0?"right":"left"]:`${a.horizontal.thumbStart.value}px`,width:`${a.horizontal.thumbSize.value}px`})),a.horizontal.thumbClass=d(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.horizontal.barClass=d(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const D=d(()=>a.vertical.thumbHidden.value===!0&&a.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),I=[[vt,g=>{j(g,"vertical")},void 0,{vertical:!0,...$l}]],V=[[vt,g=>{j(g,"horizontal")},void 0,{horizontal:!0,...$l}]];function F(){const g={};return ql.forEach(c=>{const E=a[c];g[c+"Position"]=E.position.value,g[c+"Percentage"]=E.percentage.value,g[c+"Size"]=E.size.value,g[c+"ContainerSize"]=s[c].value}),g}const q=Ul(()=>{const g=F();g.ref=h,l("scroll",g)},0);function Y(g,c,E){if(ql.includes(g)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(g==="vertical"?bl:Pt)(N.value,c,E)}function A({height:g,width:c}){let E=!1;s.vertical.value!==g&&(s.vertical.value=g,E=!0),s.horizontal.value!==c&&(s.horizontal.value=c,E=!0),E===!0&&M()}function T({position:g}){let c=!1;a.vertical.position.value!==g.top&&(a.vertical.position.value=g.top,c=!0),a.horizontal.position.value!==g.left&&(a.horizontal.position.value=g.left,c=!0),c===!0&&M()}function H({height:g,width:c}){a.horizontal.size.value!==c&&(a.horizontal.size.value=c,M()),a.vertical.size.value!==g&&(a.vertical.size.value=g,M())}function j(g,c){const E=a[c];if(g.isFirst===!0){if(E.thumbHidden.value===!0)return;S=E.position.value,r.value=!0}else if(r.value!==!0)return;g.isFinal===!0&&(r.value=!1);const oe=Rt[c],b=s[c].value,Z=(E.size.value-b)/(b-E.thumbSize.value),o=g.distance[oe.dist],p=S+(g.direction===oe.dir?1:-1)*o*Z;C(p,c)}function te(g,c){const E=a[c];if(E.thumbHidden.value!==!0){const oe=g[Rt[c].offset];if(oe<E.thumbStart.value||oe>E.thumbStart.value+E.thumbSize.value){const b=oe-E.thumbSize.value/2;C(b/s[c].value*E.size.value,c)}E.ref.value!==null&&E.ref.value.dispatchEvent(new MouseEvent(g.type,g))}}function k(g){te(g,"vertical")}function _(g){te(g,"horizontal")}function M(){i.value=!0,f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,i.value=!1},e.delay),e.onScroll!==void 0&&q()}function C(g,c){N.value[Rt[c].scroll]=g}function Q(){u.value=!0}function W(){u.value=!1}let ee=null;return G(()=>h.$q.lang.rtl,g=>{N.value!==null&&Pt(N.value,Math.abs(a.horizontal.position.value)*(g===!0?-1:1))}),Ql(()=>{ee={top:a.vertical.position.value,left:a.horizontal.position.value}}),Wl(()=>{if(ee===null)return;const g=N.value;g!==null&&(Pt(g,ee.left),bl(g,ee.top))}),Be(q.cancel),Object.assign(h,{getScrollTarget:()=>N.value,getScroll:F,getScrollPosition:()=>({top:a.vertical.position.value,left:a.horizontal.position.value}),getScrollPercentage:()=>({top:a.vertical.percentage.value,left:a.horizontal.percentage.value}),setScrollPosition:Y,setScrollPercentage(g,c,E){Y(g,c*(a[g].size.value-s[g].value)*(g==="horizontal"&&h.$q.lang.rtl===!0?-1:1),E)}}),()=>y("div",{class:B.value,onMouseenter:Q,onMouseleave:W},[y("div",{ref:N,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[y("div",{class:"q-scrollarea__content absolute",style:D.value},Ut(t.default,[y(zt,{debounce:0,onResize:H})])),y(gn,{axis:"both",onScroll:T})]),y(zt,{debounce:0,onResize:A}),y("div",{class:a.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:k}),y("div",{class:a.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:_}),Ge(y("div",{ref:a.vertical.ref,class:a.vertical.thumbClass.value,style:a.vertical.style.value,"aria-hidden":"true"}),I),Ge(y("div",{ref:a.horizontal.ref,class:a.horizontal.thumbClass.value,style:a.horizontal.style.value,"aria-hidden":"true"}),V)])}});function yn(e,t,l){let i;function r(){i!==void 0&&(yl.remove(i),i=void 0)}return Be(()=>{e.value===!0&&r()}),{removeFromHistory:r,addToHistory(){i={condition:()=>l.value===!0,handler:t},yl.add(i)}}}function _n(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Jn(t))}}}const Vl=150;var Ml=Ve({name:"QDrawer",inheritAttrs:!1,props:{...rn,...ht,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...sn,"onLayout","miniState"],setup(e,{slots:t,emit:l,attrs:i}){const r=Me(),{proxy:{$q:u}}=r,s=gt(e,u),{preventBodyScroll:a}=_n(),{registerTimeout:h,removeTimeout:v}=cn(),f=Kt(jt,ot);if(f===ot)return console.error("QDrawer needs to be child of QLayout"),ot;let S,N=null,B;const D=L(e.behavior==="mobile"||e.behavior!=="desktop"&&f.totalWidth.value<=e.breakpoint),I=d(()=>e.mini===!0&&D.value!==!0),V=d(()=>I.value===!0?e.miniWidth:e.width),F=L(e.showIfAbove===!0&&D.value===!1?!0:e.modelValue===!0),q=d(()=>e.persistent!==!0&&(D.value===!0||b.value===!0));function Y(z,ne){if(j(),z!==!1&&f.animate(),pe(0),D.value===!0){const ke=f.instances[g.value];ke!==void 0&&ke.belowBreakpoint===!0&&ke.hide(!1),qe(1),f.isContainer.value!==!0&&a(!0)}else qe(0),z!==!1&&Ee(!1);h(()=>{z!==!1&&Ee(!0),ne!==!0&&l("show",z)},Vl)}function A(z,ne){te(),z!==!1&&f.animate(),qe(0),pe(M.value*V.value),De(),ne!==!0?h(()=>{l("hide",z)},Vl):v()}const{show:T,hide:H}=dn({showing:F,hideOnRouteChange:q,handleShow:Y,handleHide:A}),{addToHistory:j,removeFromHistory:te}=yn(F,H,q),k={belowBreakpoint:D,hide:H},_=d(()=>e.side==="right"),M=d(()=>(u.lang.rtl===!0?-1:1)*(_.value===!0?1:-1)),C=L(0),Q=L(!1),W=L(!1),ee=L(V.value*M.value),g=d(()=>_.value===!0?"left":"right"),c=d(()=>F.value===!0&&D.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:V.value:0),E=d(()=>e.overlay===!0||e.miniToOverlay===!0||f.view.value.indexOf(_.value?"R":"L")>-1||u.platform.is.ios===!0&&f.isContainer.value===!0),oe=d(()=>e.overlay===!1&&F.value===!0&&D.value===!1),b=d(()=>e.overlay===!0&&F.value===!0&&D.value===!1),Z=d(()=>"fullscreen q-drawer__backdrop"+(F.value===!1&&Q.value===!1?" hidden":"")),o=d(()=>({backgroundColor:`rgba(0,0,0,${C.value*.4})`})),p=d(()=>_.value===!0?f.rows.value.top[2]==="r":f.rows.value.top[0]==="l"),m=d(()=>_.value===!0?f.rows.value.bottom[2]==="r":f.rows.value.bottom[0]==="l"),$=d(()=>{const z={};return f.header.space===!0&&p.value===!1&&(E.value===!0?z.top=`${f.header.offset}px`:f.header.space===!0&&(z.top=`${f.header.size}px`)),f.footer.space===!0&&m.value===!1&&(E.value===!0?z.bottom=`${f.footer.offset}px`:f.footer.space===!0&&(z.bottom=`${f.footer.size}px`)),z}),x=d(()=>{const z={width:`${V.value}px`,transform:`translateX(${ee.value}px)`};return D.value===!0?z:Object.assign(z,$.value)}),X=d(()=>"q-drawer__content fit "+(f.isContainer.value!==!0?"scroll":"overflow-auto")),se=d(()=>`q-drawer q-drawer--${e.side}`+(W.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(s.value===!0?" q-drawer--dark q-dark":"")+(Q.value===!0?" no-transition":F.value===!0?"":" q-layout--prevent-focus")+(D.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${I.value===!0?"mini":"standard"}`+(E.value===!0||oe.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(p.value===!0?" q-drawer--top-padding":""))),Ce=d(()=>{const z=u.lang.rtl===!0?e.side:g.value;return[[vt,ae,void 0,{[z]:!0,mouse:!0}]]}),me=d(()=>{const z=u.lang.rtl===!0?g.value:e.side;return[[vt,fe,void 0,{[z]:!0,mouse:!0}]]}),st=d(()=>{const z=u.lang.rtl===!0?g.value:e.side;return[[vt,fe,void 0,{[z]:!0,mouse:!0,mouseAllDir:!0}]]});function Ie(){$e(D,e.behavior==="mobile"||e.behavior!=="desktop"&&f.totalWidth.value<=e.breakpoint)}G(D,z=>{z===!0?(S=F.value,F.value===!0&&H(!1)):e.overlay===!1&&e.behavior!=="mobile"&&S!==!1&&(F.value===!0?(pe(0),qe(0),De()):T(!1))}),G(()=>e.side,(z,ne)=>{f.instances[ne]===k&&(f.instances[ne]=void 0,f[ne].space=!1,f[ne].offset=0),f.instances[z]=k,f[z].size=V.value,f[z].space=oe.value,f[z].offset=c.value}),G(f.totalWidth,()=>{(f.isContainer.value===!0||document.qScrollPrevented!==!0)&&Ie()}),G(()=>e.behavior+e.breakpoint,Ie),G(f.isContainer,z=>{F.value===!0&&a(z!==!0),z===!0&&Ie()}),G(f.scrollbarWidth,()=>{pe(F.value===!0?0:void 0)}),G(c,z=>{he("offset",z)}),G(oe,z=>{l("onLayout",z),he("space",z)}),G(_,()=>{pe()}),G(V,z=>{pe(),Re(e.miniToOverlay,z)}),G(()=>e.miniToOverlay,z=>{Re(z,V.value)}),G(()=>u.lang.rtl,()=>{pe()}),G(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Pe(),f.animate())}),G(I,z=>{l("miniState",z)});function pe(z){z===void 0?xe(()=>{z=F.value===!0?0:V.value,pe(M.value*z)}):(f.isContainer.value===!0&&_.value===!0&&(D.value===!0||Math.abs(z)===V.value)&&(z+=M.value*f.scrollbarWidth.value),ee.value=z)}function qe(z){C.value=z}function Ee(z){const ne=z===!0?"remove":f.isContainer.value!==!0?"add":"";ne!==""&&document.body.classList[ne]("q-body--drawer-toggle")}function Pe(){N!==null&&clearTimeout(N),r.proxy&&r.proxy.$el&&r.proxy.$el.classList.add("q-drawer--mini-animate"),W.value=!0,N=setTimeout(()=>{N=null,W.value=!1,r&&r.proxy&&r.proxy.$el&&r.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function ae(z){if(F.value!==!1)return;const ne=V.value,ke=Qe(z.distance.x,0,ne);if(z.isFinal===!0){ke>=Math.min(75,ne)===!0?T():(f.animate(),qe(0),pe(M.value*ne)),Q.value=!1;return}pe((u.lang.rtl===!0?_.value!==!0:_.value)?Math.max(ne-ke,0):Math.min(0,ke-ne)),qe(Qe(ke/ne,0,1)),z.isFirst===!0&&(Q.value=!0)}function fe(z){if(F.value!==!0)return;const ne=V.value,ke=z.direction===e.side,Ne=(u.lang.rtl===!0?ke!==!0:ke)?Qe(z.distance.x,0,ne):0;if(z.isFinal===!0){Math.abs(Ne)<Math.min(75,ne)===!0?(f.animate(),qe(1),pe(0)):H(),Q.value=!1;return}pe(M.value*Ne),qe(Qe(1-Ne/ne,0,1)),z.isFirst===!0&&(Q.value=!0)}function De(){a(!1),Ee(!0)}function he(z,ne){f.update(e.side,z,ne)}function $e(z,ne){z.value!==ne&&(z.value=ne)}function Re(z,ne){he("size",z===!0?e.miniWidth:ne)}return f.instances[e.side]=k,Re(e.miniToOverlay,V.value),he("space",oe.value),he("offset",c.value),e.showIfAbove===!0&&e.modelValue!==!0&&F.value===!0&&e["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!0),We(()=>{l("onLayout",oe.value),l("miniState",I.value),S=e.showIfAbove===!0;const z=()=>{(F.value===!0?Y:A)(!1,!0)};if(f.totalWidth.value!==0){xe(z);return}B=G(f.totalWidth,()=>{B(),B=void 0,F.value===!1&&e.showIfAbove===!0&&D.value===!1?T(!1):z()})}),Be(()=>{B!==void 0&&B(),N!==null&&(clearTimeout(N),N=null),F.value===!0&&De(),f.instances[e.side]===k&&(f.instances[e.side]=void 0,he("size",0),he("offset",0),he("space",!1))}),()=>{const z=[];D.value===!0&&(e.noSwipeOpen===!1&&z.push(Ge(y("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ce.value)),z.push(Nt("div",{ref:"backdrop",class:Z.value,style:o.value,"aria-hidden":"true",onClick:H},void 0,"backdrop",e.noSwipeBackdrop!==!0&&F.value===!0,()=>st.value)));const ne=I.value===!0&&t.mini!==void 0,ke=[y("div",{...i,key:""+ne,class:[X.value,i.class]},ne===!0?t.mini():Ue(t.default))];return e.elevated===!0&&F.value===!0&&ke.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),z.push(Nt("aside",{ref:"content",class:se.value,style:x.value},ke,"contentclose",e.noSwipeClose!==!0&&D.value===!0,()=>me.value)),y("div",{class:"q-drawer-container"},z)}}});const Ga=le("div",{class:"github-btn btn-iconed"},null,-1),pn=_e({__name:"LoginButtons",props:{vertical:{type:Boolean}},setup(e){const t=e,l=rt(),i=L(t.vertical),r=()=>{l.authViaGithub()};return(u,s)=>(K(),ie("div",{class:Ze(["q-gutter-sm login-button flex flex-center",i.value?"q-py-md":"q-pa-md"])},[w(wt,{onClick:r,round:"",flat:"",outline:""},{default:R(()=>[Ga]),_:1})],2))}});var Ja=Ve({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:l}){let i=!1,r,u,s=null,a=null,h,v;function f(){r&&r(),r=null,i=!1,s!==null&&(clearTimeout(s),s=null),a!==null&&(clearTimeout(a),a=null),u!==void 0&&u.removeEventListener("transitionend",h),h=null}function S(I,V,F){V!==void 0&&(I.style.height=`${V}px`),I.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,i=!0,r=F}function N(I,V){I.style.overflowY=null,I.style.height=null,I.style.transition=null,f(),V!==v&&l(V)}function B(I,V){let F=0;u=I,i===!0?(f(),F=I.offsetHeight===I.scrollHeight?0:void 0):(v="hide",I.style.overflowY="hidden"),S(I,F,V),s=setTimeout(()=>{s=null,I.style.height=`${I.scrollHeight}px`,h=q=>{a=null,(Object(q)!==q||q.target===I)&&N(I,"show")},I.addEventListener("transitionend",h),a=setTimeout(h,e.duration*1.1)},100)}function D(I,V){let F;u=I,i===!0?f():(v="show",I.style.overflowY="hidden",F=I.scrollHeight),S(I,F,V),s=setTimeout(()=>{s=null,I.style.height=0,h=q=>{a=null,(Object(q)!==q||q.target===I)&&N(I,"hide")},I.addEventListener("transitionend",h),a=setTimeout(h,e.duration*1.1)},100)}return Be(()=>{i===!0&&f()}),()=>y(Ct,{css:!1,appear:e.appear,onEnter:B,onLeave:D},t.default)}});const eo=["none","strict","leaf","leaf-filtered"];var to=Ve({name:"QTree",props:{...ht,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>eo.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:t,emit:l}){const{proxy:i}=Me(),{$q:r}=i,u=gt(e,r),s=L({}),a=L(e.ticked||[]),h=L(e.expanded||[]);let v={};Qt(()=>{v={}});const f=d(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(u.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),S=d(()=>e.selected!==void 0),N=d(()=>e.icon||r.iconSet.tree.icon),B=d(()=>e.controlColor||e.color),D=d(()=>e.textColor!==void 0?` text-${e.textColor}`:""),I=d(()=>{const o=e.selectedColor||e.color;return o?` text-${o}`:""}),V=d(()=>e.filterMethod!==void 0?e.filterMethod:(o,p)=>{const m=p.toLowerCase();return o[e.labelKey]&&o[e.labelKey].toLowerCase().indexOf(m)>-1}),F=d(()=>{const o={},p=(m,$)=>{const x=m.tickStrategy||($?$.tickStrategy:e.tickStrategy),X=m[e.nodeKey],se=m[e.childrenKey]&&Array.isArray(m[e.childrenKey])&&m[e.childrenKey].length!==0,Ce=m.disabled!==!0&&S.value===!0&&m.selectable!==!1,me=m.disabled!==!0&&m.expandable!==!1,st=x!=="none",Ie=x==="strict",pe=x==="leaf-filtered",qe=x==="leaf"||x==="leaf-filtered";let Ee=m.disabled!==!0&&m.tickable!==!1;qe===!0&&Ee===!0&&$&&$.tickable!==!0&&(Ee=!1);let Pe=m.lazy;Pe===!0&&s.value[X]!==void 0&&Array.isArray(m[e.childrenKey])===!0&&(Pe=s.value[X]);const ae={key:X,parent:$,isParent:se,lazy:Pe,disabled:m.disabled,link:m.disabled!==!0&&(Ce===!0||me===!0&&(se===!0||Pe===!0)),children:[],matchesFilter:e.filter?V.value(m,e.filter):!0,selected:X===e.selected&&Ce===!0,selectable:Ce,expanded:se===!0?h.value.includes(X):!1,expandable:me,noTick:m.noTick===!0||Ie!==!0&&Pe&&Pe!=="loaded",tickable:Ee,tickStrategy:x,hasTicking:st,strictTicking:Ie,leafFilteredTicking:pe,leafTicking:qe,ticked:Ie===!0?a.value.includes(X):se===!0?!1:a.value.includes(X)};if(o[X]=ae,se===!0&&(ae.children=m[e.childrenKey].map(fe=>p(fe,ae)),e.filter&&(ae.matchesFilter!==!0?ae.matchesFilter=ae.children.some(fe=>fe.matchesFilter):ae.noTick!==!0&&ae.disabled!==!0&&ae.tickable===!0&&pe===!0&&ae.children.every(fe=>fe.matchesFilter!==!0||fe.noTick===!0||fe.tickable!==!0)===!0&&(ae.tickable=!1)),ae.matchesFilter===!0&&(ae.noTick!==!0&&Ie!==!0&&ae.children.every(fe=>fe.noTick)===!0&&(ae.noTick=!0),qe))){if(ae.ticked=!1,ae.indeterminate=ae.children.some(fe=>fe.indeterminate===!0),ae.tickable=ae.tickable===!0&&ae.children.some(fe=>fe.tickable),ae.indeterminate!==!0){const fe=ae.children.reduce((De,he)=>he.ticked===!0?De+1:De,0);fe===ae.children.length?ae.ticked=!0:fe>0&&(ae.indeterminate=!0)}ae.indeterminate===!0&&(ae.indeterminateNextState=ae.children.every(fe=>fe.tickable!==!0||fe.ticked!==!0))}return ae};return e.nodes.forEach(m=>p(m,null)),o});G(()=>e.ticked,o=>{a.value=o}),G(()=>e.expanded,o=>{h.value=o});function q(o){const p=[].reduce,m=($,x)=>{if($||!x)return $;if(Array.isArray(x)===!0)return p.call(Object(x),m,$);if(x[e.nodeKey]===o)return x;if(x[e.childrenKey])return m(null,x[e.childrenKey])};return m(null,e.nodes)}function Y(){return a.value.map(o=>q(o))}function A(){return h.value.map(o=>q(o))}function T(o){return o&&F.value[o]?F.value[o].expanded:!1}function H(){e.expanded!==void 0?l("update:expanded",[]):h.value=[]}function j(){const o=[],p=m=>{m[e.childrenKey]&&m[e.childrenKey].length!==0&&m.expandable!==!1&&m.disabled!==!0&&(o.push(m[e.nodeKey]),m[e.childrenKey].forEach(p))};e.nodes.forEach(p),e.expanded!==void 0?l("update:expanded",o):h.value=o}function te(o,p,m=q(o),$=F.value[o]){if($.lazy&&$.lazy!=="loaded"){if($.lazy==="loading")return;s.value[o]="loading",Array.isArray(m[e.childrenKey])!==!0&&(m[e.childrenKey]=[]),l("lazyLoad",{node:m,key:o,done:x=>{s.value[o]="loaded",m[e.childrenKey]=Array.isArray(x)===!0?x:[],xe(()=>{const X=F.value[o];X&&X.isParent===!0&&k(o,!0)})},fail:()=>{delete s.value[o],m[e.childrenKey].length===0&&delete m[e.childrenKey]}})}else $.isParent===!0&&$.expandable===!0&&k(o,p)}function k(o,p){let m=h.value;const $=e.expanded!==void 0;if($===!0&&(m=m.slice()),p){if(e.accordion&&F.value[o]){const x=[];F.value[o].parent?F.value[o].parent.children.forEach(X=>{X.key!==o&&X.expandable===!0&&x.push(X.key)}):e.nodes.forEach(X=>{const se=X[e.nodeKey];se!==o&&x.push(se)}),x.length!==0&&(m=m.filter(X=>x.includes(X)===!1))}m=m.concat([o]).filter((x,X,se)=>se.indexOf(x)===X)}else m=m.filter(x=>x!==o);$===!0?l("update:expanded",m):h.value=m}function _(o){return o&&F.value[o]?F.value[o].ticked:!1}function M(o,p){let m=a.value;const $=e.ticked!==void 0;$===!0&&(m=m.slice()),p?m=m.concat(o).filter((x,X,se)=>se.indexOf(x)===X):m=m.filter(x=>o.includes(x)===!1),$===!0&&l("update:ticked",m)}function C(o,p,m){const $={tree:i,node:o,key:m,color:e.color,dark:u.value};return qt($,"expanded",()=>p.expanded,x=>{x!==p.expanded&&te(m,x)}),qt($,"ticked",()=>p.ticked,x=>{x!==p.ticked&&M([m],x)}),$}function Q(o){return(e.filter?o.filter(p=>F.value[p[e.nodeKey]].matchesFilter):o).map(p=>c(p))}function W(o){if(o.icon!==void 0)return y(ve,{class:"q-tree__icon q-mr-sm",name:o.icon,color:o.iconColor});const p=o.img||o.avatar;if(p)return y("img",{class:`q-tree__${o.img?"img":"avatar"} q-mr-sm`,src:p})}function ee(){l("afterShow")}function g(){l("afterHide")}function c(o){const p=o[e.nodeKey],m=F.value[p],$=o.header&&t[`header-${o.header}`]||t["default-header"],x=m.isParent===!0?Q(o[e.childrenKey]):[],X=x.length!==0||m.lazy&&m.lazy!=="loaded";let se=o.body&&t[`body-${o.body}`]||t["default-body"];const Ce=$!==void 0||se!==void 0?C(o,m,p):null;return se!==void 0&&(se=y("div",{class:"q-tree__node-body relative-position"},[y("div",{class:D.value},[se(Ce)])])),y("div",{key:p,class:`q-tree__node relative-position q-tree__node--${X===!0?"parent":"child"}`},[y("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(m.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(m.selected===!0?" q-tree__node--selected":"")+(m.disabled===!0?" q-tree__node--disabled":""),tabindex:m.link===!0?0:-1,onClick:me=>{oe(o,m,me)},onKeypress(me){Wt(me)!==!0&&(me.keyCode===13?oe(o,m,me,!0):me.keyCode===32&&b(o,m,me,!0))}},[y("div",{class:"q-focus-helper",tabindex:-1,ref:me=>{v[m.key]=me}}),m.lazy==="loading"?y(Zl,{class:"q-tree__spinner",color:B.value}):X===!0?y(ve,{class:"q-tree__arrow"+(m.expanded===!0?" q-tree__arrow--rotate":""),name:N.value,onClick(me){b(o,m,me)}}):null,m.hasTicking===!0&&m.noTick!==!0?y(_a,{class:"q-tree__tickbox",modelValue:m.indeterminate===!0?null:m.ticked,color:B.value,dark:u.value,dense:!0,keepColor:!0,disable:m.tickable!==!0,onKeydown:Le,"onUpdate:modelValue":me=>{Z(m,me)}}):null,y("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(m.selected===!0?I.value:D.value)},[$?$(Ce):[W(o),y("div",o[e.labelKey])]])]),X===!0?e.noTransition===!0?m.expanded===!0?y("div",{class:"q-tree__node-collapsible"+D.value,key:`${p}__q`},[se,y("div",{class:"q-tree__children"+(m.disabled===!0?" q-tree__node--disabled":"")},x)]):null:y(Ja,{duration:e.duration,onShow:ee,onHide:g},()=>Ge(y("div",{class:"q-tree__node-collapsible"+D.value,key:`${p}__q`},[se,y("div",{class:"q-tree__children"+(m.disabled===!0?" q-tree__node--disabled":"")},x)]),[[Yl,m.expanded]])):se])}function E(o){const p=v[o];p&&p.focus()}function oe(o,p,m,$){$!==!0&&p.selectable!==!1&&E(p.key),S.value&&p.selectable?e.noSelectionUnset===!1?l("update:selected",p.key!==e.selected?p.key:null):p.key!==e.selected&&l("update:selected",p.key===void 0?null:p.key):b(o,p,m,$),typeof o.handler=="function"&&o.handler(o)}function b(o,p,m,$){m!==void 0&&Le(m),$!==!0&&p.selectable!==!1&&E(p.key),te(p.key,!p.expanded,o,p)}function Z(o,p){if(o.indeterminate===!0&&(p=o.indeterminateNextState),o.strictTicking)M([o.key],p);else if(o.leafTicking){const m=[],$=x=>{x.isParent?(p!==!0&&x.noTick!==!0&&x.tickable===!0&&m.push(x.key),x.leafTicking===!0&&x.children.forEach($)):x.noTick!==!0&&x.tickable===!0&&(x.leafFilteredTicking!==!0||x.matchesFilter===!0)&&m.push(x.key)};$(o),M(m,p)}}return e.defaultExpandAll===!0&&j(),Object.assign(i,{getNodeByKey:q,getTickedNodes:Y,getExpandedNodes:A,isExpanded:T,collapseAll:H,expandAll:j,setExpanded:te,isTicked:_,setTicked:M}),()=>{const o=Q(e.nodes);return y("div",{class:f.value},o.length===0?e.filter?e.noResultsLabel||r.lang.tree.noResults:e.noNodesLabel||r.lang.tree.noNodes:o)}}});const lo=_e({__name:"IconBtn",props:{name:{},size:{default:"sm"},hoverable:{type:Boolean,default:!0}},setup(e){return(t,l)=>(K(),ie("div",{role:"button",class:Ze(["icon-btn cursor-pointer",{hoverable:t.hoverable}])},[w(ve,{name:t.name,size:t.size},null,8,["name","size"])],2))}});var at=Oe(lo,[["__scopeId","data-v-8f749680"]]);const no={class:"file-info"},ao=["readonly","onKeydown"],oo={class:"actions"},io=_e({__name:"FileManagerItem",props:{fileNode:{}},emits:["expand"],setup(e,{emit:t}){const l=e,i=L(l.fileNode.name),r=l.fileNode.type==="file",u=rt(),s=()=>{A.value&&v.push({name:ft.UserNotes,params:{userId:u.user.id}}),S.deleteFile(l.fileNode)},a=async()=>{await S.createFolder(l.fileNode),t("expand",l.fileNode.id)},h=async()=>{await S.createFile(pl(l.fileNode)),t("expand",l.fileNode.id),console.log("\u270E: [line 79][FileManagerItem.vue] props.fileNode.id: ",l.fileNode.id)},v=ea(),f=()=>{l.fileNode.type==="file"&&v.push({name:ft.RawEditor,params:{id:l.fileNode.id}})},S=Xl(),N=L(!1),B=L(),D=()=>{N.value=!0},I=async()=>{N.value=!1,await S.renameFile(pl(l.fileNode),i.value),S.stopEdit()},V=()=>{!N.value||(S.stopEdit(),N.value=!1,i.value=l.fileNode.name)},F=()=>{!N.value||!B.value||setTimeout(()=>{B.value.focus(),B.value.setSelectionRange(0,l.fileNode.name.length-4,"forward")})};G(()=>N.value,()=>F()),G(()=>S.editedFileItem,()=>q());const q=()=>{var T,H;N.value=((T=S.editedFileItem)==null?void 0:T.name)&&((H=S.editedFileItem)==null?void 0:H.name)===l.fileNode.name};q(),We(()=>F());const Y=ta(),A=d(()=>{var T;return Y.currentNote&&((T=Y.currentNote)==null?void 0:T.id)===l.fileNode.id});return(T,H)=>(K(),ie("div",{onClick:f,class:Ze(["file-item q-py-xs q-px-sm full-width cursor-pointer",{"edit-mode":N.value,active:A.value}])},[le("div",no,[r?Te("",!0):(K(),ce(ve,{key:0,size:"xs",name:"folder"})),Ge(le("input",{ref_key:"fileNameInput",ref:B,"onUpdate:modelValue":H[0]||(H[0]=j=>i.value=j),readonly:!N.value,class:"file-name",onFocusout:V,onKeydown:[_l(Ke(I,["stop"]),["enter"]),_l(V,["escape"])]},null,40,ao),[[la,i.value]])]),le("div",oo,[r?Te("",!0):(K(),ie(Ae,{key:0},[w(at,{onClick:Ke(h,["stop"]),name:"note_add",hoverable:!1},null,8,["onClick"]),w(at,{onClick:Ke(a,["stop"]),name:"add_box",hoverable:!1},null,8,["onClick"])],64)),w(at,{onClick:Ke(s,["stop"]),name:"delete",hoverable:!1},null,8,["onClick"]),w(at,{onClick:Ke(D,["stop"]),name:"edit",hoverable:!1},null,8,["onClick"])])],2))}});var uo=Oe(io,[["__scopeId","data-v-3deacbcd"]]);const ro={},so={class:"wrapper q-pa-md fit"};function co(e,t){return K(),ie("div",so,[$t(e.$slots,"default")])}var fo=Oe(ro,[["render",co]]);const vo={class:"text-capitalize"},mo=_e({__name:"FileManagerSideBar",setup(e){const t=Xl(),l=()=>{t.createFolder()},i=L(""),r=L(),u=L(!1),s=()=>{var h,v;u.value?(h=r.value)==null||h.collapseAll():(v=r.value)==null||v.expandAll(),u.value=!u.value},a=h=>{var v;return(v=r.value)==null?void 0:v.setExpanded(h,!0)};return(h,v)=>(K(),ce(fo,null,{default:R(()=>[w(Ia,null,{header:R(()=>[le("div",vo,[w(Ba,{modelValue:i.value,"onUpdate:modelValue":v[0]||(v[0]=f=>i.value=f),placeholder:"files"},null,8,["modelValue"])])]),actions:R(()=>[w(at,{onClick:s,name:u.value?"unfold_less":"unfold_more"},null,8,["name"]),w(at,{onClick:l,name:"add_box"})]),_:1}),w(U(to),{nodes:U(t).fileManager,filter:i.value,ref_key:"qTreeRef",ref:r,dense:"","node-key":"id","label-key":"name",class:"q-mt-md"},{"default-header":R(f=>[w(uo,{"file-node":f.node,onExpand:a},null,8,["file-node"])]),_:1},8,["nodes","filter"])]),_:1}))}}),kn="0.8.19";var ho="assets/google-play.3a23d09f.svg";const go={class:"download-links"},bo=le("img",{src:ho,height:"26"},null,-1),yo=[bo],_o=_e({__name:"DownloadLinks",setup(e){const t=`/builds/orgnote-${kn}.apk`;return(l,i)=>(K(),ie("div",go,[le("a",{href:t,target:"_blank"},yo)]))}}),po={};function ko(e,t){return" Share your knowledge. It is a way to achieve immortality (Dalai Lama) "}var So=Oe(po,[["render",ko]]);const xo={key:0,src:"/icons/brain.png"},wo=["src"],Co={class:"text-center q-mt-lg"},qo={class:"text-center subtitle text-weight-light text-italic"},$o=le("br",null,null,-1),zo={class:"text-center subtitle text-weight-light text-italic"},Vo={class:"text-center q-mt-lg full-width"},Sn=_e({__name:"ProfileSideBar",setup(e){const t=rt(),{user:l}=Mt(t),i=()=>{window.open(l.value.profileUrl,"_blank")},r=()=>t.logout();return(u,s)=>(K(),ce(bn,{class:"fit"},{default:R(()=>[w(ut,null,{default:R(()=>[U(l)?(K(),ce(we,{key:0,clickable:"",class:"column justify-center avatar-item",onClick:i},{default:R(()=>[w(Gl,{size:"160px",class:"q-mx-auto"},{default:R(()=>[U(l).isAnonymous?(K(),ie("img",xo)):(K(),ie("img",{key:1,src:U(l).avatarUrl},null,8,wo))]),_:1}),le("div",Co,re(U(l).nickName),1),le("div",qo,re(U(l).email),1),$o,le("div",zo,[w(So)])]),_:1})):Te("",!0),U(l).isAnonymous?(K(),ie(Ae,{key:1},[w(we,null,{default:R(()=>[le("div",Vo,re(u.$t("login to create your first note")),1)]),_:1}),w(pn)],64)):(K(),ce(we,{key:2,onClick:r,clickable:""},{default:R(()=>[w(ye,{avatar:""},{default:R(()=>[w(ve,{name:"logout"})]),_:1}),w(ye,{class:"text-capitalize"},{default:R(()=>[Fe(re(u.$t("logout")),1)]),_:1})]),_:1}))]),_:1}),w(ut,null,{default:R(()=>[w(we,{class:"text-italic flex-center"},{default:R(()=>[Fe(re(U(kn)),1)]),_:1}),w(we,null,{default:R(()=>[w(_o)]),_:1})]),_:1})]),_:1}))}}),Lt=_e({__name:"SidePanelItems",props:{items:{}},emits:["executeAction"],setup(e,{emit:t}){return(l,i)=>(K(!0),ie(Ae,null,it(l.items,r=>(K(),ce(we,{clickable:"",onClick:u=>t("executeAction",r.handler),key:r.name},{default:R(()=>[w(ye,{avatar:""},{default:R(()=>[w(ve,{name:r.icon},null,8,["name"])]),_:2},1024),w(ye,null,{default:R(()=>[Fe(re(l.$t(r.name)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))}});var Jt=Ve({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const l=d(()=>parseInt(e.lines,10)),i=d(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(l.value===1?" ellipsis":"")),r=d(()=>e.lines!==void 0&&l.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":l.value}:null);return()=>y("div",{style:r.value,class:i.value},Ue(t.default))}});function Mo({validate:e,resetValidation:t,requiresQForm:l}){const i=Kt(na,!1);if(i!==!1){const{props:r,proxy:u}=Me();Object.assign(u,{validate:e,resetValidation:t}),G(()=>r.disable,s=>{s===!0?(typeof t=="function"&&t(),i.unbindComponent(u)):i.bindComponent(u)}),We(()=>{r.disable!==!0&&i.bindComponent(u)}),Be(()=>{r.disable!==!0&&i.unbindComponent(u)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const Tl=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Fl=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Al=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,pt=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,kt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Ot={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Tl.test(e),hexaColor:e=>Fl.test(e),hexOrHexaColor:e=>Al.test(e),rgbColor:e=>pt.test(e),rgbaColor:e=>kt.test(e),rgbOrRgbaColor:e=>pt.test(e)||kt.test(e),hexOrRgbColor:e=>Tl.test(e)||pt.test(e),hexaOrRgbaColor:e=>Fl.test(e)||kt.test(e),anyColor:e=>Al.test(e)||pt.test(e)||kt.test(e)},To=[!0,!1,"ondemand"],Fo={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>To.includes(e)}};function Ao(e,t){const{props:l,proxy:i}=Me(),r=L(!1),u=L(null),s=L(null);Mo({validate:D,resetValidation:B});let a=0,h;const v=d(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),f=d(()=>l.disable!==!0&&v.value===!0),S=d(()=>l.error===!0||r.value===!0),N=d(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:u.value);G(()=>l.modelValue,()=>{I()}),G(()=>l.reactiveRules,F=>{F===!0?h===void 0&&(h=G(()=>l.rules,()=>{I(!0)})):h!==void 0&&(h(),h=void 0)},{immediate:!0}),G(e,F=>{F===!0?s.value===null&&(s.value=!1):s.value===!1&&(s.value=!0,f.value===!0&&l.lazyRules!=="ondemand"&&t.value===!1&&V())});function B(){a++,t.value=!1,s.value=null,r.value=!1,u.value=null,V.cancel()}function D(F=l.modelValue){if(f.value!==!0)return!0;const q=++a,Y=t.value!==!0?()=>{s.value=!0}:()=>{},A=(H,j)=>{H===!0&&Y(),r.value=H,u.value=j||null,t.value=!1},T=[];for(let H=0;H<l.rules.length;H++){const j=l.rules[H];let te;if(typeof j=="function"?te=j(F,Ot):typeof j=="string"&&Ot[j]!==void 0&&(te=Ot[j](F)),te===!1||typeof te=="string")return A(!0,te),!1;te!==!0&&te!==void 0&&T.push(te)}return T.length===0?(A(!1),!0):(t.value=!0,Promise.all(T).then(H=>{if(H===void 0||Array.isArray(H)===!1||H.length===0)return q===a&&A(!1),!0;const j=H.find(te=>te===!1||typeof te=="string");return q===a&&A(j!==void 0,j),j===void 0},H=>(q===a&&(console.error(H),A(!0)),!1)))}function I(F){f.value===!0&&l.lazyRules!=="ondemand"&&(s.value===!0||l.lazyRules!==!0&&F!==!0)&&V()}const V=Ul(D,0);return Be(()=>{h!==void 0&&h(),V.cancel()}),Object.assign(i,{resetValidation:B,validate:D}),qt(i,"hasError",()=>S.value),{isDirtyModel:s,hasRules:v,hasError:S,errorMessage:N,validate:D,resetValidation:B}}const Bl=/^on[A-Z]/;function Bo(e,t){const l={listeners:L({}),attributes:L({})};function i(){const r={},u={};for(const s in e)s!=="class"&&s!=="style"&&Bl.test(s)===!1&&(r[s]=e[s]);for(const s in t.props)Bl.test(s)===!0&&(u[s]=t.props[s]);l.attributes.value=r,l.listeners.value=u}return Qt(i),i(),l}let Dt,St=0;const Se=new Array(256);for(let e=0;e<256;e++)Se[e]=(e+256).toString(16).substring(1);const Io=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const l=new Uint8Array(t);return e.getRandomValues(l),l}}return t=>{const l=[];for(let i=t;i>0;i--)l.push(Math.floor(Math.random()*256));return l}})(),Il=4096;function Eo(){(Dt===void 0||St+16>Il)&&(St=0,Dt=Io(Il));const e=Array.prototype.slice.call(Dt,St,St+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Se[e[0]]+Se[e[1]]+Se[e[2]]+Se[e[3]]+"-"+Se[e[4]]+Se[e[5]]+"-"+Se[e[6]]+Se[e[7]]+"-"+Se[e[8]]+Se[e[9]]+"-"+Se[e[10]]+Se[e[11]]+Se[e[12]]+Se[e[13]]+Se[e[14]]+Se[e[15]]}function Ht(e){return e===void 0?`f_${Eo()}`:e}function mt(e){return e!=null&&(""+e).length!==0}const Tt={...ht,...Fo,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},el=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function tl(){const{props:e,attrs:t,proxy:l,vnode:i}=Me();return{isDark:gt(e,l.$q),editable:d(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:L(!1),focused:L(!1),hasPopupOpen:!1,splitAttrs:Bo(t,i),targetUid:L(Ht(e.for)),rootRef:L(null),targetRef:L(null),controlRef:L(null)}}function ll(e){const{props:t,emit:l,slots:i,attrs:r,proxy:u}=Me(),{$q:s}=u;let a=null;e.hasValue===void 0&&(e.hasValue=d(()=>mt(t.modelValue))),e.emitValue===void 0&&(e.emitValue=c=>{l("update:modelValue",c)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:k,onFocusout:_}),Object.assign(e,{clearValue:M,onControlFocusin:k,onControlFocusout:_,focus:j}),e.computedCounter===void 0&&(e.computedCounter=d(()=>{if(t.counter!==!1){const c=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,E=t.maxlength!==void 0?t.maxlength:t.maxValues;return c+(E!==void 0?" / "+E:"")}}));const{isDirtyModel:h,hasRules:v,hasError:f,errorMessage:S,resetValidation:N}=Ao(e.focused,e.innerLoading),B=e.floatingLabel!==void 0?d(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):d(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),D=d(()=>t.bottomSlots===!0||t.hint!==void 0||v.value===!0||t.counter===!0||t.error!==null),I=d(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),V=d(()=>`q-field row no-wrap items-start q-field--${I.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(B.value===!0?" q-field--float":"")+(q.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(f.value===!0?" q-field--error":"")+(f.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&D.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),F=d(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(f.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),q=d(()=>t.labelSlot===!0||t.label!==void 0),Y=d(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&f.value!==!0?` text-${t.labelColor}`:"")),A=d(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:B.value,modelValue:t.modelValue,emitValue:e.emitValue})),T=d(()=>{const c={for:e.targetUid.value};return t.disable===!0?c["aria-disabled"]="true":t.readonly===!0&&(c["aria-readonly"]="true"),c});G(()=>t.for,c=>{e.targetUid.value=Ht(c)});function H(){const c=document.activeElement;let E=e.targetRef!==void 0&&e.targetRef.value;E&&(c===null||c.id!==e.targetUid.value)&&(E.hasAttribute("tabindex")===!0||(E=E.querySelector("[tabindex]")),E&&E!==c&&E.focus({preventScroll:!0}))}function j(){Gt(H)}function te(){pa(H);const c=document.activeElement;c!==null&&e.rootRef.value.contains(c)&&c.blur()}function k(c){a!==null&&(clearTimeout(a),a=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",c))}function _(c,E){a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",c)),E!==void 0&&E())})}function M(c){Le(c),s.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),l("clear",t.modelValue),xe(()=>{N(),s.platform.is.mobile!==!0&&(h.value=!1)})}function C(){const c=[];return i.prepend!==void 0&&c.push(y("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:je},i.prepend())),c.push(y("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},Q())),f.value===!0&&t.noErrorIcon===!1&&c.push(ee("error",[y(ve,{name:s.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?c.push(ee("inner-loading-append",i.loading!==void 0?i.loading():[y(Zl,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&c.push(ee("inner-clearable-append",[y(ve,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||s.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:M})])),i.append!==void 0&&c.push(y("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:je},i.append())),e.getInnerAppend!==void 0&&c.push(ee("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&c.push(e.getControlChild()),c}function Q(){const c=[];return t.prefix!==void 0&&t.prefix!==null&&c.push(y("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&c.push(e.getShadowControl()),e.getControl!==void 0?c.push(e.getControl()):i.rawControl!==void 0?c.push(i.rawControl()):i.control!==void 0&&c.push(y("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},i.control(A.value))),q.value===!0&&c.push(y("div",{class:Y.value},Ue(i.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&c.push(y("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),c.concat(Ue(i.default))}function W(){let c,E;f.value===!0?S.value!==null?(c=[y("div",{role:"alert"},S.value)],E=`q--slot-error-${S.value}`):(c=Ue(i.error),E="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(c=[y("div",t.hint)],E=`q--slot-hint-${t.hint}`):(c=Ue(i.hint),E="q--slot-hint"));const oe=t.counter===!0||i.counter!==void 0;if(t.hideBottomSpace===!0&&oe===!1&&c===void 0)return;const b=y("div",{key:E,class:"q-field__messages col"},c);return y("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:je},[t.hideBottomSpace===!0?b:y(Ct,{name:"q-transition--field-message"},()=>b),oe===!0?y("div",{class:"q-field__counter"},i.counter!==void 0?i.counter():e.computedCounter.value):null])}function ee(c,E){return E===null?null:y("div",{key:c,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},E)}let g=!1;return Ql(()=>{g=!0}),Wl(()=>{g===!0&&t.autofocus===!0&&u.focus()}),We(()=>{Kl.value===!0&&t.for===void 0&&(e.targetUid.value=Ht()),t.autofocus===!0&&u.focus()}),Be(()=>{a!==null&&clearTimeout(a)}),Object.assign(u,{focus:j,blur:te}),function(){const E=e.getControl===void 0&&i.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...T.value}:T.value;return y("label",{ref:e.rootRef,class:[V.value,r.class],style:r.style,...E},[i.before!==void 0?y("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:je},i.before()):null,y("div",{class:"q-field__inner relative-position col self-stretch"},[y("div",{ref:e.controlRef,class:F.value,tabindex:-1,...e.controlEvents},C()),D.value===!0?W():null]),i.after!==void 0?y("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:je},i.after()):null])}}var xn=Ve({name:"QField",inheritAttrs:!1,props:Tt,emits:el,setup(){return ll(tl())}});const Po={class:"full-width"},Ro={class:"text-h5 q-pb-lg"},Lo={class:"token-actions row"},Oo={class:"self-center full-width no-outline",tabindex:"0"},Do=_e({__name:"ApiSettingsPage",setup(e){const t=Zt(),{tokens:l}=aa(t);t.getApiTokens();const i=r=>{Pa(r.token)};return(r,u)=>(K(),ie("div",Po,[le("h5",Ro,"API "+re(r.$t("keys")),1),(K(!0),ie(Ae,null,it(U(l),s=>(K(),ce(xn,{key:s==null?void 0:s.id,color:"teal",outlined:"",label:r.$t("key"),"stack-label":"",class:"token-field"},{append:R(()=>[le("div",Lo,[w(wt,{onClick:a=>U(t).removeToken(s),icon:"delete",class:"btn-flat delete-btn q-mr-xs"},null,8,["onClick"]),w(Ea,{icon:"content_copy","active-icon":"done",onClick:a=>i(s)},null,8,["onClick"])])]),control:R(()=>[le("div",Oo,re(s.token),1)]),_:2},1032,["label"]))),128)),w(wt,{onClick:U(t).createNewToken,flat:"",color:"black",class:"full-width",label:r.$t("Create new token")},null,8,["onClick","label"])]))}}),No={xs:8,sm:10,md:14,lg:20,xl:24};var Ho=Ve({name:"QChip",props:{...ht,...oa,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:l}){const{proxy:{$q:i}}=Me(),r=gt(e,i),u=ia(e,No),s=d(()=>e.selected===!0||e.icon!==void 0),a=d(()=>e.selected===!0?e.iconSelected||i.iconSet.chip.selected:e.icon),h=d(()=>e.iconRemove||i.iconSet.chip.remove),v=d(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),f=d(()=>{const V=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(V?` text-${V} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(v.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),S=d(()=>{const V=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},F={...V,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||i.lang.label.remove};return{chip:V,remove:F}});function N(V){V.keyCode===13&&B(V)}function B(V){e.disable||(l("update:selected",!e.selected),l("click",V))}function D(V){(V.keyCode===void 0||V.keyCode===13)&&(Le(V),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function I(){const V=[];v.value===!0&&V.push(y("div",{class:"q-focus-helper"})),s.value===!0&&V.push(y(ve,{class:"q-chip__icon q-chip__icon--left",name:a.value}));const F=e.label!==void 0?[y("div",{class:"ellipsis"},[e.label])]:void 0;return V.push(y("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ua(t.default,F))),e.iconRight&&V.push(y(ve,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&V.push(y(ve,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...S.value.remove,onClick:D,onKeyup:D})),V}return()=>{if(e.modelValue===!1)return;const V={class:f.value,style:u.value};return v.value===!0&&Object.assign(V,S.value.chip,{onClick:B,onKeyup:N}),Nt("div",V,I(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ra,e.ripple]])}}});let xt=0;const Ko={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},El={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var wn=Ve({name:"QDialog",inheritAttrs:!1,props:{...rn,...ka,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...sn,"shake","click","escapeKey"],setup(e,{slots:t,emit:l,attrs:i}){const r=Me(),u=L(null),s=L(!1),a=L(!1);let h=null,v=null,f,S;const N=d(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:B}=_n(),{registerTimeout:D}=cn(),{registerTick:I,removeTick:V}=Sa(),{transitionProps:F,transitionStyle:q}=xa(e,()=>El[e.position][0],()=>El[e.position][1]),{showPortal:Y,hidePortal:A,portalIsAccessible:T,renderPortal:H}=wa(r,u,m,"dialog"),{hide:j}=dn({showing:s,hideOnRouteChange:N,handleShow:W,handleHide:ee,processOnMount:!0}),{addToHistory:te,removeFromHistory:k}=yn(s,j,N),_=d(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Ko[e.position]}`+(a.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),M=d(()=>s.value===!0&&e.seamless!==!0),C=d(()=>e.autoClose===!0?{onClick:Z}:{}),Q=d(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${M.value===!0?"modal":"seamless"}`,i.class]);G(()=>e.maximized,$=>{s.value===!0&&b($)}),G(M,$=>{B($),$===!0?(Ca(p),qa(E)):(Sl(p),xl(E))});function W($){te(),v=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,b(e.maximized),Y(),a.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),I(g)):V(),D(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:x,bottom:X}=document.activeElement.getBoundingClientRect(),{innerHeight:se}=window,Ce=window.visualViewport!==void 0?window.visualViewport.height:se;x>0&&X>Ce/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ce,X>=se?1/0:Math.ceil(document.scrollingElement.scrollTop+X-Ce/2))),document.activeElement.scrollIntoView()}S=!0,u.value.click(),S=!1}Y(!0),a.value=!1,l("show",$)},e.transitionDuration)}function ee($){V(),k(),oe(!0),a.value=!0,A(),v!==null&&((($&&$.type.indexOf("key")===0?v.closest('[tabindex]:not([tabindex^="-"])'):void 0)||v).focus(),v=null),D(()=>{A(!0),a.value=!1,l("hide",$)},e.transitionDuration)}function g($){Gt(()=>{let x=u.value;x===null||x.contains(document.activeElement)===!0||(x=($!==""?x.querySelector($):null)||x.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||x.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||x.querySelector("[autofocus], [data-autofocus]")||x,x.focus({preventScroll:!0}))})}function c($){$&&typeof $.focus=="function"?$.focus({preventScroll:!0}):g(),l("shake");const x=u.value;x!==null&&(x.classList.remove("q-animate--scale"),x.classList.add("q-animate--scale"),h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,u.value!==null&&(x.classList.remove("q-animate--scale"),g())},170))}function E(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&c():(l("escapeKey"),j()))}function oe($){h!==null&&(clearTimeout(h),h=null),($===!0||s.value===!0)&&(b(!1),e.seamless!==!0&&(B(!1),Sl(p),xl(E))),$!==!0&&(v=null)}function b($){$===!0?f!==!0&&(xt<1&&document.body.classList.add("q-body--dialog"),xt++,f=!0):f===!0&&(xt<2&&document.body.classList.remove("q-body--dialog"),xt--,f=!1)}function Z($){S!==!0&&(j($),l("click",$))}function o($){e.persistent!==!0&&e.noBackdropDismiss!==!0?j($):e.noShake!==!0&&c()}function p($){e.allowFocusOutside!==!0&&T.value===!0&&sa(u.value,$.target)!==!0&&g('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:g,shake:c,__updateRefocusTarget($){v=$||null}}),Be(oe);function m(){return y("div",{role:"dialog","aria-modal":M.value===!0?"true":"false",...i,class:Q.value},[y(Ct,{name:"q-transition--fade",appear:!0},()=>M.value===!0?y("div",{class:"q-dialog__backdrop fixed-full",style:q.value,"aria-hidden":"true",tabindex:-1,onClick:o}):null),y(Ct,F.value,()=>s.value===!0?y("div",{ref:u,class:_.value,style:q.value,tabindex:-1,...C.value},Ue(t.default)):null)])}return H}});const jo=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Uo=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Qo=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Wo=/[a-z0-9_ -]$/i;function Cn(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(ca.is.firefox===!0?Wo.test(l.data)===!1:jo.test(l.data)===!0||Uo.test(l.data)===!0||Qo.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}const Pl=e=>["add","add-unique","toggle"].includes(e),Zo=".*+?^${}()|[]\\",Yo=Object.keys(Tt);var qn=Ve({name:"QSelect",inheritAttrs:!1,props:{...Ra,...fn,...Tt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Pl},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...el,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:l}){const{proxy:i}=Me(),{$q:r}=i,u=L(!1),s=L(!1),a=L(-1),h=L(""),v=L(!1),f=L(!1);let S=null,N,B,D,I=null,V,F,q,Y;const A=L(null),T=L(null),H=L(null),j=L(null),te=L(null),k=vn(e),_=Cn(fl),M=d(()=>Array.isArray(e.options)?e.options.length:0),C=d(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Q,virtualScrollSliceSizeComputed:W,localResetVirtualScroll:ee,padVirtualScroll:g,onVirtualScrollEvt:c,scrollTo:E,setVirtualScrollSize:oe}=La({virtualScrollLength:M,getVirtualScrollTarget:Vn,getVirtualScrollEl:cl,virtualScrollItemSizeComputed:C}),b=tl(),Z=d(()=>{const n=e.mapOptions===!0&&e.multiple!==!0,O=e.modelValue!==void 0&&(e.modelValue!==null||n===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const P=e.mapOptions===!0&&N!==void 0?N:[],J=O.map(de=>zn(de,P));return e.modelValue===null&&n===!0?J.filter(de=>de!==null):J}return O}),o=d(()=>{const n={};return Yo.forEach(O=>{const P=e[O];P!==void 0&&(n[O]=P)}),n}),p=d(()=>e.optionsDark===null?b.isDark.value:e.optionsDark),m=d(()=>mt(Z.value)),$=d(()=>{let n="q-field__input q-placeholder col";return e.hideSelected===!0||Z.value.length===0?[n,e.inputClass]:(n+=" q-field__input--padding",e.inputClass===void 0?n:[n,e.inputClass])}),x=d(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),X=d(()=>M.value===0),se=d(()=>Z.value.map(n=>$e.value(n)).join(", ")),Ce=d(()=>e.displayValue!==void 0?e.displayValue:se.value),me=d(()=>e.optionsHtml===!0?()=>!0:n=>n!=null&&n.html===!0),st=d(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||Z.value.some(me.value))),Ie=d(()=>b.focused.value===!0?e.tabindex:-1),pe=d(()=>{const n={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${b.targetUid.value}_lb`};return a.value>=0&&(n["aria-activedescendant"]=`${b.targetUid.value}_${a.value}`),n}),qe=d(()=>({id:`${b.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ee=d(()=>Z.value.map((n,O)=>({index:O,opt:n,html:me.value(n),selected:!0,removeAtIndex:nl,toggleOption:Ye,tabindex:Ie.value}))),Pe=d(()=>{if(M.value===0)return[];const{from:n,to:O}=Q.value;return e.options.slice(n,O).map((P,J)=>{const de=Re.value(P)===!0,ue=n+J,ge={clickable:!0,active:!1,activeClass:De.value,manualFocus:!0,focused:!1,disable:de,tabindex:-1,dense:e.optionsDense,dark:p.value,role:"option",id:`${b.targetUid.value}_${ue}`,onClick:()=>{Ye(P)}};return de!==!0&&(At(P)===!0&&(ge.active=!0),a.value===ue&&(ge.focused=!0),ge["aria-selected"]=ge.active===!0?"true":"false",r.platform.is.desktop===!0&&(ge.onMousemove=()=>{u.value===!0&&Je(ue)})),{index:ue,opt:P,html:me.value(P),label:$e.value(P),selected:ge.active,focused:ge.focused,toggleOption:Ye,setOptionIndex:Je,itemProps:ge}})}),ae=d(()=>e.dropdownIcon!==void 0?e.dropdownIcon:r.iconSet.arrow.dropdown),fe=d(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),De=d(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),he=d(()=>Ft(e.optionValue,"value")),$e=d(()=>Ft(e.optionLabel,"label")),Re=d(()=>Ft(e.optionDisable,"disable")),z=d(()=>Z.value.map(n=>he.value(n))),ne=d(()=>{const n={onInput:fl,onChange:_,onKeydown:sl,onKeyup:ul,onKeypress:rl,onFocus:ol,onClick(O){B===!0&&He(O)}};return n.onCompositionstart=n.onCompositionupdate=n.onCompositionend=_,n});G(Z,n=>{N=n,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&b.innerLoading.value!==!0&&(s.value!==!0&&u.value!==!0||m.value!==!0)&&(D!==!0&&nt(),(s.value===!0||u.value===!0)&&et(""))},{immediate:!0}),G(()=>e.fillInput,nt),G(u,Bt),G(M,Dn);function ke(n){return e.emitValue===!0?he.value(n):n}function Ne(n){if(n>-1&&n<Z.value.length)if(e.multiple===!0){const O=e.modelValue.slice();l("remove",{index:n,value:O.splice(n,1)[0]}),l("update:modelValue",O)}else l("update:modelValue",null)}function nl(n){Ne(n),b.focus()}function al(n,O){const P=ke(n);if(e.multiple!==!0){e.fillInput===!0&&ct($e.value(n),!0,!0),l("update:modelValue",P);return}if(Z.value.length===0){l("add",{index:0,value:P}),l("update:modelValue",e.multiple===!0?[P]:P);return}if(O===!0&&At(n)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const J=e.modelValue.slice();l("add",{index:J.length,value:P}),J.push(P),l("update:modelValue",J)}function Ye(n,O){if(b.editable.value!==!0||n===void 0||Re.value(n)===!0)return;const P=he.value(n);if(e.multiple!==!0){O!==!0&&(ct(e.fillInput===!0?$e.value(n):"",!0,!0),Xe()),T.value!==null&&T.value.focus(),(Z.value.length===0||dt(he.value(Z.value[0]),P)!==!0)&&l("update:modelValue",e.emitValue===!0?P:n);return}if((B!==!0||v.value===!0)&&b.focus(),ol(),Z.value.length===0){const ue=e.emitValue===!0?P:n;l("add",{index:0,value:ue}),l("update:modelValue",e.multiple===!0?[ue]:ue);return}const J=e.modelValue.slice(),de=z.value.findIndex(ue=>dt(ue,P));if(de>-1)l("remove",{index:de,value:J.splice(de,1)[0]});else{if(e.maxValues!==void 0&&J.length>=e.maxValues)return;const ue=e.emitValue===!0?P:n;l("add",{index:J.length,value:ue}),J.push(ue)}l("update:modelValue",J)}function Je(n){if(r.platform.is.desktop!==!0)return;const O=n>-1&&n<M.value?n:-1;a.value!==O&&(a.value=O)}function bt(n=1,O){if(u.value===!0){let P=a.value;do P=Cl(P+n,-1,M.value-1);while(P!==-1&&P!==a.value&&Re.value(e.options[P])===!0);a.value!==P&&(Je(P),E(P),O!==!0&&e.useInput===!0&&e.fillInput===!0&&yt(P>=0?$e.value(e.options[P]):V))}}function zn(n,O){const P=J=>dt(he.value(J),n);return e.options.find(P)||O.find(P)||n}function Ft(n,O){const P=n!==void 0?n:O;return typeof P=="function"?P:J=>J!==null&&typeof J=="object"&&P in J?J[P]:J}function At(n){const O=he.value(n);return z.value.find(P=>dt(P,O))!==void 0}function ol(n){e.useInput===!0&&T.value!==null&&(n===void 0||T.value===n.target&&n.target.value===se.value)&&T.value.select()}function il(n){fa(n,27)===!0&&u.value===!0&&(He(n),Xe(),nt()),l("keyup",n)}function ul(n){const{value:O}=n.target;if(n.keyCode!==void 0){il(n);return}if(n.target.value="",S!==null&&(clearTimeout(S),S=null),nt(),typeof O=="string"&&O.length!==0){const P=O.toLocaleLowerCase(),J=ue=>{const ge=e.options.find(ze=>ue.value(ze).toLocaleLowerCase()===P);return ge===void 0?!1:(Z.value.indexOf(ge)===-1?Ye(ge):Xe(),!0)},de=ue=>{J(he)!==!0&&(J($e)===!0||ue===!0||et(O,!0,()=>de(!0)))};de()}else b.clearValue(n)}function rl(n){l("keypress",n)}function sl(n){if(l("keydown",n),Wt(n)===!0)return;const O=h.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),P=n.shiftKey!==!0&&e.multiple!==!0&&(a.value>-1||O===!0);if(n.keyCode===27){je(n);return}if(n.keyCode===9&&P===!1){tt();return}if(n.target===void 0||n.target.id!==b.targetUid.value||b.editable.value!==!0)return;if(n.keyCode===40&&b.innerLoading.value!==!0&&u.value===!1){Le(n),lt();return}if(n.keyCode===8&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ne(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(n.keyCode===35||n.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(Le(n),a.value=-1,bt(n.keyCode===36?1:-1,e.multiple)),(n.keyCode===33||n.keyCode===34)&&W.value!==void 0&&(Le(n),a.value=Math.max(-1,Math.min(M.value,a.value+(n.keyCode===33?-1:1)*W.value.view)),bt(n.keyCode===33?1:-1,e.multiple)),(n.keyCode===38||n.keyCode===40)&&(Le(n),bt(n.keyCode===38?-1:1,e.multiple));const J=M.value;if((q===void 0||Y<Date.now())&&(q=""),J>0&&e.useInput!==!0&&n.key!==void 0&&n.key.length===1&&n.altKey===!1&&n.ctrlKey===!1&&n.metaKey===!1&&(n.keyCode!==32||q.length!==0)){u.value!==!0&&lt(n);const de=n.key.toLocaleLowerCase(),ue=q.length===1&&q[0]===de;Y=Date.now()+1500,ue===!1&&(Le(n),q+=de);const ge=new RegExp("^"+q.split("").map(It=>Zo.indexOf(It)>-1?"\\"+It:It).join(".*"),"i");let ze=a.value;if(ue===!0||ze<0||ge.test($e.value(e.options[ze]))!==!0)do ze=Cl(ze+1,-1,J-1);while(ze!==a.value&&(Re.value(e.options[ze])===!0||ge.test($e.value(e.options[ze]))!==!0));a.value!==ze&&xe(()=>{Je(ze),E(ze),ze>=0&&e.useInput===!0&&e.fillInput===!0&&yt($e.value(e.options[ze]))});return}if(!(n.keyCode!==13&&(n.keyCode!==32||e.useInput===!0||q!=="")&&(n.keyCode!==9||P===!1))){if(n.keyCode!==9&&Le(n),a.value>-1&&a.value<J){Ye(e.options[a.value]);return}if(O===!0){const de=(ue,ge)=>{if(ge){if(Pl(ge)!==!0)return}else ge=e.newValueMode;if(ct("",e.multiple!==!0,!0),ue==null)return;(ge==="toggle"?Ye:al)(ue,ge==="add-unique"),e.multiple!==!0&&(T.value!==null&&T.value.focus(),Xe())};if(e.onNewValue!==void 0?l("newValue",h.value,de):de(h.value),e.multiple!==!0)return}u.value===!0?tt():b.innerLoading.value!==!0&&lt()}}function cl(){return B===!0?te.value:H.value!==null&&H.value.contentEl!==null?H.value.contentEl:void 0}function Vn(){return cl()}function Mn(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Ee.value.map(n=>t["selected-item"](n)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Ee.value.map((n,O)=>y(Ho,{key:"option-"+O,removable:b.editable.value===!0&&Re.value(n.opt)!==!0,dense:!0,textColor:e.color,tabindex:Ie.value,onRemove(){n.removeAtIndex(O)}},()=>y("span",{class:"ellipsis",[n.html===!0?"innerHTML":"textContent"]:$e.value(n.opt)}))):[y("span",{[st.value===!0?"innerHTML":"textContent"]:Ce.value})]}function dl(){if(X.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:h.value}):void 0;const n=t.option!==void 0?t.option:P=>y(we,{key:P.index,...P.itemProps},()=>y(ye,()=>y(Jt,()=>y("span",{[P.html===!0?"innerHTML":"textContent"]:P.label}))));let O=g("div",Pe.value.map(n));return t["before-options"]!==void 0&&(O=t["before-options"]().concat(O)),Ut(t["after-options"],O)}function Tn(n,O){const P=O===!0?{...pe.value,...b.splitAttrs.attributes.value}:void 0,J={ref:O===!0?T:void 0,key:"i_t",class:$.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...P,id:O===!0?b.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":n===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ne.value};return n!==!0&&B===!0&&(Array.isArray(J.class)===!0?J.class=[...J.class,"no-pointer-events"]:J.class+=" no-pointer-events"),y("input",J)}function fl(n){S!==null&&(clearTimeout(S),S=null),!(n&&n.target&&n.target.qComposing===!0)&&(yt(n.target.value||""),D=!0,V=h.value,b.focused.value!==!0&&(B!==!0||v.value===!0)&&b.focus(),e.onFilter!==void 0&&(S=setTimeout(()=>{S=null,et(h.value)},e.inputDebounce)))}function yt(n){h.value!==n&&(h.value=n,l("inputValue",n))}function ct(n,O,P){D=P!==!0,e.useInput===!0&&(yt(n),(O===!0||P!==!0)&&(V=n),O!==!0&&et(n))}function et(n,O,P){if(e.onFilter===void 0||O!==!0&&b.focused.value!==!0)return;b.innerLoading.value===!0?l("filterAbort"):(b.innerLoading.value=!0,f.value=!0),n!==""&&e.multiple!==!0&&Z.value.length!==0&&D!==!0&&n===$e.value(Z.value[0])&&(n="");const J=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);I!==null&&clearTimeout(I),I=J,l("filter",n,(de,ue)=>{(O===!0||b.focused.value===!0)&&I===J&&(clearTimeout(I),typeof de=="function"&&de(),f.value=!1,xe(()=>{b.innerLoading.value=!1,b.editable.value===!0&&(O===!0?u.value===!0&&Xe():u.value===!0?Bt(!0):u.value=!0),typeof ue=="function"&&xe(()=>{ue(i)}),typeof P=="function"&&xe(()=>{P(i)})}))},()=>{b.focused.value===!0&&I===J&&(clearTimeout(I),b.innerLoading.value=!1,f.value=!1),u.value===!0&&(u.value=!1)})}function Fn(){return y($a,{ref:H,class:x.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&X.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:p.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:fe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...qe.value,onScrollPassive:c,onBeforeShow:ml,onBeforeHide:An,onShow:Bn},dl)}function An(n){hl(n),tt()}function Bn(){oe()}function In(n){He(n),T.value!==null&&T.value.focus(),v.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function En(n){He(n),xe(()=>{v.value=!1})}function Pn(){const n=[y(xn,{class:`col-auto ${b.fieldClass.value}`,...o.value,for:b.targetUid.value,dark:p.value,square:!0,loading:f.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...b.splitAttrs.listeners.value,onFocus:In,onBlur:En},{...t,rawControl:()=>b.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&n.push(y("div",{ref:te,class:x.value+" scroll",style:e.popupContentStyle,...qe.value,onClick:je,onScrollPassive:c},dl())),y(wn,{ref:j,modelValue:s.value,position:e.useInput===!0?"top":void 0,transitionShow:F,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:ml,onBeforeHide:Rn,onHide:Ln,onShow:On},()=>y("div",{class:"q-select__dialog"+(p.value===!0?" q-select__dialog--dark q-dark":"")+(v.value===!0?" q-select__dialog--focused":"")},n))}function Rn(n){hl(n),j.value!==null&&j.value.__updateRefocusTarget(b.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),b.focused.value=!1}function Ln(n){Xe(),b.focused.value===!1&&l("blur",n),nt()}function On(){const n=document.activeElement;(n===null||n.id!==b.targetUid.value)&&T.value!==null&&T.value!==n&&T.value.focus(),oe()}function tt(){s.value!==!0&&(a.value=-1,u.value===!0&&(u.value=!1),b.focused.value===!1&&(I!==null&&(clearTimeout(I),I=null),b.innerLoading.value===!0&&(l("filterAbort"),b.innerLoading.value=!1,f.value=!1)))}function lt(n){b.editable.value===!0&&(B===!0?(b.onControlFocusin(n),s.value=!0,xe(()=>{b.focus()})):b.focus(),e.onFilter!==void 0?et(h.value):(X.value!==!0||t["no-option"]!==void 0)&&(u.value=!0))}function Xe(){s.value=!1,tt()}function nt(){e.useInput===!0&&ct(e.multiple!==!0&&e.fillInput===!0&&Z.value.length!==0&&$e.value(Z.value[0])||"",!0,!0)}function Bt(n){let O=-1;if(n===!0){if(Z.value.length!==0){const P=he.value(Z.value[0]);O=e.options.findIndex(J=>dt(he.value(J),P))}ee(O)}Je(O)}function Dn(n,O){u.value===!0&&b.innerLoading.value===!1&&(ee(-1,!0),xe(()=>{u.value===!0&&b.innerLoading.value===!1&&(n>O?ee():Bt(!0))}))}function vl(){s.value===!1&&H.value!==null&&H.value.updatePosition()}function ml(n){n!==void 0&&He(n),l("popupShow",n),b.hasPopupOpen=!0,b.onControlFocusin(n)}function hl(n){n!==void 0&&He(n),l("popupHide",n),b.hasPopupOpen=!1,b.onControlFocusout(n)}function gl(){B=r.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||X.value===!1:!0),F=r.platform.is.ios===!0&&B===!0&&e.useInput===!0?"fade":e.transitionShow}return Qt(gl),da(vl),gl(),Be(()=>{S!==null&&clearTimeout(S)}),Object.assign(i,{showPopup:lt,hidePopup:Xe,removeAtIndex:Ne,add:al,toggleOption:Ye,getOptionIndex:()=>a.value,setOptionIndex:Je,moveOptionSelection:bt,filter:et,updateMenuPosition:vl,updateInputValue:ct,isOptionSelected:At,getEmittingOptionValue:ke,isOptionDisabled:(...n)=>Re.value.apply(null,n)===!0,getOptionValue:(...n)=>he.value.apply(null,n),getOptionLabel:(...n)=>$e.value.apply(null,n)}),Object.assign(b,{innerValue:Z,fieldClass:d(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:A,targetRef:T,hasValue:m,showPopup:lt,floatingLabel:d(()=>e.hideSelected!==!0&&m.value===!0||typeof h.value=="number"||h.value.length!==0||mt(e.displayValue)),getControlChild:()=>{if(b.editable.value!==!1&&(s.value===!0||X.value!==!0||t["no-option"]!==void 0))return B===!0?Pn():Fn();b.hasPopupOpen===!0&&(b.hasPopupOpen=!1)},controlEvents:{onFocusin(n){b.onControlFocusin(n)},onFocusout(n){b.onControlFocusout(n,()=>{nt(),tt()})},onClick(n){if(je(n),B!==!0&&u.value===!0){tt(),T.value!==null&&T.value.focus();return}lt(n)}},getControl:n=>{const O=Mn(),P=n===!0||s.value!==!0||B!==!0;if(e.useInput===!0)O.push(Tn(n,P));else if(b.editable.value===!0){const de=P===!0?pe.value:void 0;O.push(y("input",{ref:P===!0?T:void 0,key:"d_t",class:"q-select__focus-target",id:P===!0?b.targetUid.value:void 0,value:Ce.value,readonly:!0,"data-autofocus":n===!0||e.autofocus===!0||void 0,...de,onKeydown:sl,onKeyup:il,onKeypress:rl})),P===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&O.push(y("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:ul}))}if(k.value!==void 0&&e.disable!==!0&&z.value.length!==0){const de=z.value.map(ue=>y("option",{value:ue,selected:!0}));O.push(y("select",{class:"hidden",name:k.value,multiple:e.multiple},de))}const J=e.useInput===!0||P!==!0?void 0:b.splitAttrs.attributes.value;return y("div",{class:"q-field__native row items-center",...J,...b.splitAttrs.listeners.value},O)},getInnerAppend:()=>e.loading!==!0&&f.value!==!0&&e.hideDropdownIcon!==!0?[y(ve,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:ae.value})]:null}),ll(b)}});const Xo=_e({__name:"LanguageSwitcher",setup(e){const{locale:t}=va({useScope:"global"}),l=Zt();G(()=>t.value,r=>{l.setLocale(r)});const i=[{value:"en-US",label:"English"},{value:"ru-RU",label:"Russian"}];return(r,u)=>(K(),ce(qn,{class:"language-select",modelValue:U(t),"onUpdate:modelValue":u[0]||(u[0]=s=>Jl(t)?t.value=s:null),options:i,label:r.$t("pick language"),dense:"",borderless:"","emit-value":"","map-options":"","options-dense":""},null,8,["modelValue","label"]))}}),Go={class:"full-width"},Jo={class:"text-h5 q-pb-lg text-capitalize"},ei=_e({__name:"CommonSettingsPage",setup(e){return(t,l)=>(K(),ie("div",Go,[le("h5",Jo,re(t.$t("common settings")),1),w(Xo)]))}}),ti={class:"full-width"},li={class:"text-h5 q-pb-lg text-capitalize"},ni={class:"full-width"},ai={class:"text-uppercase text-bold"},oi={class:"text-bold text-italic"},ii=_e({__name:"KeybindingsPage",setup(e){const t=Yt();return(l,i)=>(K(),ie(Ae,null,[le("div",ti,[le("h5",li,re(l.$t("keybindings")),1)]),le("div",ni,[(K(!0),ie(Ae,null,it(U(t).groupedKeybindings,(r,u)=>(K(),ie(Ae,{key:u},[le("div",ai,re(u),1),w(ut,{class:""},{default:R(()=>[(K(!0),ie(Ae,null,it(r,s=>(K(),ce(we,{key:s.command,class:"flex row"},{default:R(()=>[w(ye,null,{default:R(()=>[w(Jt,null,{default:R(()=>[Fe(re(s.command)+" ",1),le("span",oi,"("+re(s.keySequence)+")",1)]),_:2},1024)]),_:2},1024),w(ye,{class:"text-italic"},{default:R(()=>[Fe(re(s.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)],64))),128))])],64))}});var ui=Ve({name:"QToggle",props:{...za,icon:String,iconColor:String},emits:Va,setup(e){function t(l,i){const r=d(()=>(l.value===!0?e.checkedIcon:i.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),u=d(()=>l.value===!0?e.iconColor:null);return()=>[y("div",{class:"q-toggle__track"}),y("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},r.value!==void 0?[y(ve,{name:r.value,color:u.value})]:void 0)]}return Ma("toggle",t)}});const ri={class:"full-width"},si={class:"text-h5 q-pb-lg text-capitalize"},ci={key:0},di={key:1},fi={key:2},Rl=_e({__name:"ViewSettingsPage",setup(e){const t=Zt(),l=Mt(t),i=[{label:"Light",value:!1},{label:"Dark",value:!0},{label:"System",value:"auto"}],r=u=>{t.setDarkMode(u)};return(u,s)=>(K(),ie("div",ri,[le("h4",si,re(u.$t("view settings")),1),w(ui,{modelValue:U(t).showUserProfiles,"onUpdate:modelValue":s[0]||(s[0]=a=>U(t).showUserProfiles=a),label:u.$t("Show author profile info")},null,8,["modelValue","label"]),w(qn,{standout:"","onUpdate:modelValue":[r,s[1]||(s[1]=a=>U(l).darkMode=a)],modelValue:U(l).darkMode,options:i,label:"Dark mode","emit-value":"","map-options":""},{selected:R(()=>[U(l).darkMode==="auto"?(K(),ie("span",ci,"System")):U(l).darkMode?(K(),ie("span",di,"Dark mode")):(K(),ie("span",fi,"Light mode"))]),_:1},8,["modelValue"])]))}});const vi={class:"settings flex cols"},mi={class:"configs q-pl-md"},hi=_e({__name:"SettingsPage",setup(e){const t=rt(),l=[{name:"visual",icon:"tune",component:Rl},{name:"common",icon:"settings",component:ei},{name:"keybindings",icon:"keyboard",component:ii},{name:"api",icon:"generating_tokens",disabled:t.user.isAnonymous,component:Do}],i=L(Rl),r=u=>{i.value=u};return(u,s)=>(K(),ie("div",vi,[w(ut,{class:"settings-groups"},{default:R(()=>[(K(),ie(Ae,null,it(l,a=>w(we,{onClick:h=>r(a.component),disable:a==null?void 0:a.disabled,key:a.name,active:i.value.__name===a.component.__name,clickable:"",class:"rounded-borders justify-start"},{default:R(()=>[w(ye,{avatar:""},{default:R(()=>[w(ve,{name:a.icon},null,8,["name"])]),_:2},1024),w(ye,null,{default:R(()=>[w(Jt,{class:"text-capitalize"},{default:R(()=>[Fe(re(u.$t(a.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","disable","active"])),64))]),_:1}),le("div",mi,[(K(),ce(Xt(i.value)))])]))}});var gi=Oe(hi,[["__scopeId","data-v-5e7083c5"]]);const bi=["src"],yi=_e({__name:"ActionSidePanel",props:{user:{},fullWidth:{type:Boolean}},emits:["opened"],setup(e,{emit:t}){const l=e,i=rt(),r=kl(l,"user"),u=kl(l,"fullWidth"),s=L(!0),a=en(),h=()=>{t("opened",!1),a.close()},v=()=>{!u.value||h()},f=L(window.innerWidth),S=()=>{f.value=window.innerWidth},N=()=>{!u.value||a.open()};tn(()=>N()),We(()=>window.addEventListener("resize",S)),jl(()=>window.removeEventListener("resize",S));const B=d(()=>u.value?f.value:360),D=ln(),I=q=>{v(),q()},V=nn(),F=()=>{V.open(gi,{title:"settings"})};return(q,Y)=>(K(),ie(Ae,null,[w(Ml,{class:"composite-bar","show-if-above":"",mini:!0,modelValue:s.value,"onUpdate:modelValue":Y[2]||(Y[2]=A=>s.value=A),breakpoint:0,overlay:u.value,"no-swipe-backdrop":"",bordered:""},{default:R(()=>[w(bn,{class:"fit"},{default:R(()=>[w(ut,null,{default:R(()=>{var A;return[w(we,{onClick:Y[0]||(Y[0]=T=>U(a).toggleWithComponent(Sn)),clickable:"",class:"flex items-center justify-center"},{default:R(()=>[w(Gl,{size:"24px",class:"profile-icon"},{default:R(()=>{var T;return[(T=r.value)!=null&&T.avatarUrl?(K(),ie("img",{key:0,src:r.value.avatarUrl},null,8,bi)):(K(),ce(ve,{key:1,name:"account_circle",size:"sm"}))]}),_:1})]),_:1}),w(we,{onClick:Y[1]||(Y[1]=T=>U(a).toggleWithComponent(mo)),clickable:"",class:"flex items-center justify-center"},{default:R(()=>[w(ye,{avatar:""},{default:R(()=>[w(ve,{name:"folder"})]),_:1})]),_:1}),u.value?(K(),ce(Lt,{key:0,items:U(D).hiddenActions.filter(T=>T.sidebarPosition==="top"),onExecuteAction:I},null,8,["items"])):Te("",!0),u.value?Te("",!0):(K(),ce(Lt,{key:1,items:U(D).allActions.filter(T=>T.sidebarPosition==="top"),onExecuteAction:I},null,8,["items"])),w(we,{onClick:v,to:{name:U(ft).NoteList},clickable:"",exact:""},{default:R(()=>[w(ye,{avatar:""},{default:R(()=>[w(ve,{name:"feed"})]),_:1}),w(ye,null,{default:R(()=>[Fe(re(q.$t("All articles")),1)]),_:1})]),_:1},8,["to"]),w(we,{onClick:v,clickable:"",to:{name:U(ft).UserGraph,params:{userId:U(i).user.id}}},{default:R(()=>[w(ye,{avatar:""},{default:R(()=>[w(ve,{name:"hub"})]),_:1}),w(ye,null,{default:R(()=>[Fe(re(q.$t("Graph")),1)]),_:1})]),_:1},8,["to"]),w(we,{class:"hidden",onClick:v,to:{name:U(ft).Extensions},clickable:""},{default:R(()=>[w(ye,{avatar:""},{default:R(()=>[w(ve,{name:"extension"})]),_:1}),w(ye,{class:"text-capitalize"},{default:R(()=>[Fe(re(q.$t("extensions")),1)]),_:1})]),_:1},8,["to"]),(A=r.value)!=null&&A.isAnonymous?(K(),ce(pn,{key:2,vertical:!0})):Te("",!0)]}),_:1}),w(ut,null,{default:R(()=>[w(Ta),u.value?Te("",!0):(K(),ce(Lt,{key:0,items:U(D).allActions.filter(A=>A.sidebarPosition==="bottom"),onExecuteAction:I},null,8,["items"])),w(we,{onClick:F,clickable:""},{default:R(()=>[w(ye,{avatar:""},{default:R(()=>[w(ve,{name:"settings"})]),_:1}),w(ye,{class:"text-capitalize"},{default:R(()=>[Fe(re(q.$t("settings")),1)]),_:1})]),_:1}),u.value?(K(),ce(we,{key:1,onClick:h,clickable:""},{default:R(()=>[w(ye,{avatar:""},{default:R(()=>[w(ve,{name:"arrow_circle_left"})]),_:1}),w(ye,{class:"text-capitalize"},{default:R(()=>[Fe(re(q.$t("toggle sidebar")),1)]),_:1})]),_:1})):Te("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","overlay"]),Ge(w(Ml,{width:B.value-U(Qa)("sidebar-width"),bordered:"",overlay:u.value,breakpoint:0,"no-swipe-backdrop":"",modelValue:U(a).opened,"onUpdate:modelValue":Y[3]||(Y[3]=A=>U(a).opened=A)},{default:R(()=>[(K(),ce(Xt(U(a).component)))]),_:1},8,["width","overlay","modelValue"]),[[Yl,U(a).opened]])],64))}}),Ll={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Vt={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},$n=Object.keys(Vt);$n.forEach(e=>{Vt[e].regex=new RegExp(Vt[e].pattern)});const _i=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+$n.join("")+"])|(.)","g"),Ol=/[.*+?^${}()|[\]\\]/g,be=String.fromCharCode(1),pi={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function ki(e,t,l,i){let r,u,s,a,h,v;const f=L(null),S=L(B());function N(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}G(()=>e.type+e.autogrow,I),G(()=>e.mask,k=>{if(k!==void 0)V(S.value,!0);else{const _=j(S.value);I(),e.modelValue!==_&&t("update:modelValue",_)}}),G(()=>e.fillMask+e.reverseFillMask,()=>{f.value===!0&&V(S.value,!0)}),G(()=>e.unmaskedValue,()=>{f.value===!0&&V(S.value)});function B(){if(I(),f.value===!0){const k=T(j(e.modelValue));return e.fillMask!==!1?te(k):k}return e.modelValue}function D(k){if(k<r.length)return r.slice(-k);let _="",M=r;const C=M.indexOf(be);if(C>-1){for(let Q=k-M.length;Q>0;Q--)_+=be;M=M.slice(0,C)+_+M.slice(C)}return M}function I(){if(f.value=e.mask!==void 0&&e.mask.length!==0&&N(),f.value===!1){a=void 0,r="",u="";return}const k=Ll[e.mask]===void 0?e.mask:Ll[e.mask],_=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",M=_.replace(Ol,"\\$&"),C=[],Q=[],W=[];let ee=e.reverseFillMask===!0,g="",c="";k.replace(_i,(Z,o,p,m,$)=>{if(m!==void 0){const x=Vt[m];W.push(x),c=x.negate,ee===!0&&(Q.push("(?:"+c+"+)?("+x.pattern+"+)?(?:"+c+"+)?("+x.pattern+"+)?"),ee=!1),Q.push("(?:"+c+"+)?("+x.pattern+")?")}else if(p!==void 0)g="\\"+(p==="\\"?"":p),W.push(p),C.push("([^"+g+"]+)?"+g+"?");else{const x=o!==void 0?o:$;g=x==="\\"?"\\\\\\\\":x.replace(Ol,"\\\\$&"),W.push(x),C.push("([^"+g+"]+)?"+g+"?")}});const E=new RegExp("^"+C.join("")+"("+(g===""?".":"[^"+g+"]")+"+)?"+(g===""?"":"["+g+"]*")+"$"),oe=Q.length-1,b=Q.map((Z,o)=>o===0&&e.reverseFillMask===!0?new RegExp("^"+M+"*"+Z):o===oe?new RegExp("^"+Z+"("+(c===""?".":c)+"+)?"+(e.reverseFillMask===!0?"$":M+"*")):new RegExp("^"+Z));s=W,a=Z=>{const o=E.exec(e.reverseFillMask===!0?Z:Z.slice(0,W.length+1));o!==null&&(Z=o.slice(1).join(""));const p=[],m=b.length;for(let $=0,x=Z;$<m;$++){const X=b[$].exec(x);if(X===null)break;x=x.slice(X.shift().length),p.push(...X)}return p.length!==0?p.join(""):Z},r=W.map(Z=>typeof Z=="string"?Z:be).join(""),u=r.split(be).join(_)}function V(k,_,M){const C=i.value,Q=C.selectionEnd,W=C.value.length-Q,ee=j(k);_===!0&&I();const g=T(ee),c=e.fillMask!==!1?te(g):g,E=S.value!==c;C.value!==c&&(C.value=c),E===!0&&(S.value=c),document.activeElement===C&&xe(()=>{if(c===u){const b=e.reverseFillMask===!0?u.length:0;C.setSelectionRange(b,b,"forward");return}if(M==="insertFromPaste"&&e.reverseFillMask!==!0){const b=C.selectionEnd;let Z=Q-1;for(let o=h;o<=Z&&o<b;o++)r[o]!==be&&Z++;q.right(C,Z);return}if(["deleteContentBackward","deleteContentForward"].indexOf(M)>-1){const b=e.reverseFillMask===!0?Q===0?c.length>g.length?1:0:Math.max(0,c.length-(c===u?0:Math.min(g.length,W)+1))+1:Q;C.setSelectionRange(b,b,"forward");return}if(e.reverseFillMask===!0)if(E===!0){const b=Math.max(0,c.length-(c===u?0:Math.min(g.length,W+1)));b===1&&Q===1?C.setSelectionRange(b,b,"forward"):q.rightReverse(C,b)}else{const b=c.length-W;C.setSelectionRange(b,b,"backward")}else if(E===!0){const b=Math.max(0,r.indexOf(be),Math.min(g.length,Q)-1);q.right(C,b)}else{const b=Q-1;q.right(C,b)}});const oe=e.unmaskedValue===!0?j(c):c;String(e.modelValue)!==oe&&l(oe,!0)}function F(k,_,M){const C=T(j(k.value));_=Math.max(0,r.indexOf(be),Math.min(C.length,_)),h=_,k.setSelectionRange(_,M,"forward")}const q={left(k,_){const M=r.slice(_-1).indexOf(be)===-1;let C=Math.max(0,_-1);for(;C>=0;C--)if(r[C]===be){_=C,M===!0&&_++;break}if(C<0&&r[_]!==void 0&&r[_]!==be)return q.right(k,0);_>=0&&k.setSelectionRange(_,_,"backward")},right(k,_){const M=k.value.length;let C=Math.min(M,_+1);for(;C<=M;C++)if(r[C]===be){_=C;break}else r[C-1]===be&&(_=C);if(C>M&&r[_-1]!==void 0&&r[_-1]!==be)return q.left(k,M);k.setSelectionRange(_,_,"forward")},leftReverse(k,_){const M=D(k.value.length);let C=Math.max(0,_-1);for(;C>=0;C--)if(M[C-1]===be){_=C;break}else if(M[C]===be&&(_=C,C===0))break;if(C<0&&M[_]!==void 0&&M[_]!==be)return q.rightReverse(k,0);_>=0&&k.setSelectionRange(_,_,"backward")},rightReverse(k,_){const M=k.value.length,C=D(M),Q=C.slice(0,_+1).indexOf(be)===-1;let W=Math.min(M,_+1);for(;W<=M;W++)if(C[W-1]===be){_=W,_>0&&Q===!0&&_--;break}if(W>M&&C[_-1]!==void 0&&C[_-1]!==be)return q.leftReverse(k,M);k.setSelectionRange(_,_,"forward")}};function Y(k){t("click",k),v=void 0}function A(k){if(t("keydown",k),Wt(k)===!0||k.altKey===!0)return;const _=i.value,M=_.selectionStart,C=_.selectionEnd;if(k.shiftKey||(v=void 0),k.keyCode===37||k.keyCode===39){k.shiftKey&&v===void 0&&(v=_.selectionDirection==="forward"?M:C);const Q=q[(k.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(k.preventDefault(),Q(_,v===M?C:M),k.shiftKey){const W=_.selectionStart;_.setSelectionRange(Math.min(v,W),Math.max(v,W),"forward")}}else k.keyCode===8&&e.reverseFillMask!==!0&&M===C?(q.left(_,M),_.setSelectionRange(_.selectionStart,C,"backward")):k.keyCode===46&&e.reverseFillMask===!0&&M===C&&(q.rightReverse(_,C),_.setSelectionRange(M,_.selectionEnd,"forward"))}function T(k){if(k==null||k==="")return"";if(e.reverseFillMask===!0)return H(k);const _=s;let M=0,C="";for(let Q=0;Q<_.length;Q++){const W=k[M],ee=_[Q];if(typeof ee=="string")C+=ee,W===ee&&M++;else if(W!==void 0&&ee.regex.test(W))C+=ee.transform!==void 0?ee.transform(W):W,M++;else return C}return C}function H(k){const _=s,M=r.indexOf(be);let C=k.length-1,Q="";for(let W=_.length-1;W>=0&&C>-1;W--){const ee=_[W];let g=k[C];if(typeof ee=="string")Q=ee+Q,g===ee&&C--;else if(g!==void 0&&ee.regex.test(g))do Q=(ee.transform!==void 0?ee.transform(g):g)+Q,C--,g=k[C];while(M===W&&g!==void 0&&ee.regex.test(g));else return Q}return Q}function j(k){return typeof k!="string"||a===void 0?typeof k=="number"?a(""+k):k:a(k)}function te(k){return u.length-k.length<=0?k:e.reverseFillMask===!0&&k.length!==0?u.slice(0,-k.length)+k:k+u.slice(k.length)}return{innerValue:S,hasMask:f,moveCursorForPaste:F,updateMaskValue:V,onMaskedKeydown:A,onMaskedClick:Y}}function Si(e,t){function l(){const i=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(i)===i&&("length"in i?Array.from(i):[i]).forEach(u=>{r.items.add(u)}),{files:r.files}}catch{return{files:void 0}}}return t===!0?d(()=>{if(e.type==="file")return l()}):d(l)}var xi=Ve({name:"QInput",inheritAttrs:!1,props:{...Tt,...pi,...fn,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...el,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:l}){const{proxy:i}=Me(),{$q:r}=i,u={};let s=NaN,a,h,v=null,f;const S=L(null),N=vn(e),{innerValue:B,hasMask:D,moveCursorForPaste:I,updateMaskValue:V,onMaskedKeydown:F,onMaskedClick:q}=ki(e,t,g,S),Y=Si(e,!0),A=d(()=>mt(B.value)),T=Cn(W),H=tl(),j=d(()=>e.type==="textarea"||e.autogrow===!0),te=d(()=>j.value===!0||["text","search","url","tel","password"].includes(e.type)),k=d(()=>{const o={...H.splitAttrs.listeners.value,onInput:W,onPaste:Q,onChange:E,onBlur:oe,onFocus:He};return o.onCompositionstart=o.onCompositionupdate=o.onCompositionend=T,D.value===!0&&(o.onKeydown=F,o.onClick=q),e.autogrow===!0&&(o.onAnimationend=ee),o}),_=d(()=>{const o={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:N.value,...H.splitAttrs.attributes.value,id:H.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return j.value===!1&&(o.type=e.type),e.autogrow===!0&&(o.rows=1),o});G(()=>e.type,()=>{S.value&&(S.value.value=e.modelValue)}),G(()=>e.modelValue,o=>{if(D.value===!0){if(h===!0&&(h=!1,String(o)===s))return;V(o)}else B.value!==o&&(B.value=o,e.type==="number"&&u.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete u.value));e.autogrow===!0&&xe(c)}),G(()=>e.autogrow,o=>{o===!0?xe(c):S.value!==null&&l.rows>0&&(S.value.style.height="auto")}),G(()=>e.dense,()=>{e.autogrow===!0&&xe(c)});function M(){Gt(()=>{const o=document.activeElement;S.value!==null&&S.value!==o&&(o===null||o.id!==H.targetUid.value)&&S.value.focus({preventScroll:!0})})}function C(){S.value!==null&&S.value.select()}function Q(o){if(D.value===!0&&e.reverseFillMask!==!0){const p=o.target;I(p,p.selectionStart,p.selectionEnd)}t("paste",o)}function W(o){if(!o||!o.target)return;if(e.type==="file"){t("update:modelValue",o.target.files);return}const p=o.target.value;if(o.target.qComposing===!0){u.value=p;return}if(D.value===!0)V(p,!1,o.inputType);else if(g(p),te.value===!0&&o.target===document.activeElement){const{selectionStart:m,selectionEnd:$}=o.target;m!==void 0&&$!==void 0&&xe(()=>{o.target===document.activeElement&&p.indexOf(o.target.value)===0&&o.target.setSelectionRange(m,$)})}e.autogrow===!0&&c()}function ee(o){t("animationend",o),c()}function g(o,p){f=()=>{v=null,e.type!=="number"&&u.hasOwnProperty("value")===!0&&delete u.value,e.modelValue!==o&&s!==o&&(s=o,p===!0&&(h=!0),t("update:modelValue",o),xe(()=>{s===o&&(s=NaN)})),f=void 0},e.type==="number"&&(a=!0,u.value=o),e.debounce!==void 0?(v!==null&&clearTimeout(v),u.value=o,v=setTimeout(f,e.debounce)):f()}function c(){requestAnimationFrame(()=>{const o=S.value;if(o!==null){const p=o.parentNode.style,{scrollTop:m}=o,{overflowY:$,maxHeight:x}=r.platform.is.firefox===!0?{}:window.getComputedStyle(o),X=$!==void 0&&$!=="scroll";X===!0&&(o.style.overflowY="hidden"),p.marginBottom=o.scrollHeight-1+"px",o.style.height="1px",o.style.height=o.scrollHeight+"px",X===!0&&(o.style.overflowY=parseInt(x,10)<o.scrollHeight?"auto":"hidden"),p.marginBottom="",o.scrollTop=m}})}function E(o){T(o),v!==null&&(clearTimeout(v),v=null),f!==void 0&&f(),t("change",o.target.value)}function oe(o){o!==void 0&&He(o),v!==null&&(clearTimeout(v),v=null),f!==void 0&&f(),a=!1,h=!1,delete u.value,e.type!=="file"&&setTimeout(()=>{S.value!==null&&(S.value.value=B.value!==void 0?B.value:"")})}function b(){return u.hasOwnProperty("value")===!0?u.value:B.value!==void 0?B.value:""}Be(()=>{oe()}),We(()=>{e.autogrow===!0&&c()}),Object.assign(H,{innerValue:B,fieldClass:d(()=>`q-${j.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:d(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:S,emitValue:g,hasValue:A,floatingLabel:d(()=>A.value===!0&&(e.type!=="number"||isNaN(B.value)===!1)||mt(e.displayValue)),getControl:()=>y(j.value===!0?"textarea":"input",{ref:S,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,..._.value,...k.value,...e.type!=="file"?{value:b()}:Y.value}),getShadowControl:()=>y("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(j.value===!0?"":" text-no-wrap")},[y("span",{class:"invisible"},b()),y("span",e.shadowText)])});const Z=ll(H);return Object.assign(i,{focus:M,select:C,getNativeElement:()=>S.value}),qt(i,"nativeEl",()=>S.value),Z}});const wi={class:"flex column items-start justify-start fit no-wrap"},Ci={class:"q-px-md full-width completion-input"},qi={class:"text-bold"},$i={class:"text-italic"},zi={class:"completion-footer full-width q-px-md q-py-xs text-center color-reverse"},Vi={class:"text-capitalize"},Dl=48,Nl=_e({__name:"CompletionResult",setup(e){const t=L(),l=an(),{candidates:i,filter:r,selectedIndex:u,total:s,candidateSelectedByDirection:a,placeholder:h}=Mt(l),v=on(),f=Yt();tn(()=>v.registerDynamicCommands()),Be(()=>v.unregisterDynamicCommands());const S=L(null);We(()=>setTimeout(()=>{var q;return(q=S.value)==null?void 0:q.focus()}));const N=ma(l.search,300),B=(q,Y)=>{const A=Object.freeze(new Array(Y).fill(null));return N(Y,q),A};G(()=>a.value,()=>{var A;const q=ja(".completion-scroll",".completion-item.selected");if(!q)return;const Y=q===-1?"end":"start";(A=t.value)==null||A.scrollTo(u.value,Y)});let I=[0,0];const V=(q,Y)=>{(I[0]!==q.clientX||I[1]!==q.clientY)&&(I=[q.clientX,q.clientY],l.focusCandidate(Y))},F=q=>{f.executeCommand({command:q.command}),l.closeCompletion()};return(q,Y)=>(K(),ie("div",wi,[le("div",Ci,[w(xi,{modelValue:U(r),"onUpdate:modelValue":Y[0]||(Y[0]=A=>Jl(r)?r.value=A:null),ref_key:"completionInput",ref:S,borderless:"",placeholder:q.$t(U(h))},{prepend:R(()=>[w(ve,{name:"keyboard_arrow_right"})]),_:1},8,["modelValue","placeholder"])]),w(U(Oa),{ref_key:"scrollTarget",ref:t,"items-size":U(s),"virtual-scroll-slice-size":U(ha)*3,"virtual-scroll-item-size":Dl,"items-fn":B,"scroll-target":t.value,class:"completion-scroll full-width flex-1"},{default:R(({index:A})=>[w(Da,{"items-list":U(i),index:A,height:Dl},{default:R(({item:T,index:H})=>[(K(),ce(we,{key:T.command,class:Ze(["flex column completion-item",{selected:H===U(u)}]),clickable:!0,onClick:j=>F(T),onMouseover:j=>V(j,H)},{default:R(()=>[le("div",null,[T.icon?(K(),ce(ve,{key:0,name:T.icon,class:"q-pr-md"},null,8,["name"])):Te("",!0),le("span",qi,"["+re(T.group)+"]: ",1),le("span",null,re(T.command),1)]),le("div",null,[le("span",$i,re(T.description),1)])]),_:2},1032,["class","onClick","onMouseover"]))]),_:2},1032,["items-list","index"])]),_:1},8,["items-size","virtual-scroll-slice-size","scroll-target"]),le("div",zi,[le("span",Vi,re(q.$t("items")),1),Fe(": "+re(U(u)+1)+"/"+re(U(s)),1)])]))}});const Mi=_e({__name:"CompletionPromt",setup(e){const t=an(),{opened:l}=Mt(t),i=Fa();return(r,u)=>U(l)?(K(),ie(Ae,{key:0},[U(i).completionPosition==="bottom"?(K(),ce(ga,{key:0,to:"#mini-buffer"},[w(Nl)])):(K(),ie("div",{key:1,class:Ze(["completion-container",{mobile:r.$q.screen.lt.sm}])},[w(Nl)],2))],64)):Te("",!0)}}),Ti=["ase","art","bmp","blp","cd5","cit","cpt","cr2","cut","dds","dib","djvu","egt","exif","gif","gpl","grf","icns","ico","iff","jng","jpeg","jpg","jfif","jp2","jps","lbm","max","miff","mng","msp","nef","nitf","ota","pbm","pc1","pc2","pc3","pcf","pcx","pdn","pgm","PI1","PI2","PI3","pict","pct","pnm","pns","ppm","psb","psd","pdd","psp","px","pxm","pxr","qfx","raw","rle","sct","sgi","rgb","int","bw","tga","tiff","tif","vtf","xbm","xcf","xpm","3dv","amf","ai","awg","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","gbr","odg","svg","stl","vrml","x3d","sxd","v2d","vnd","wmf","emf","art","xar","png","webp","jxr","hdp","wdp","cur","ecw","iff","lbm","liff","nrrd","pam","pcx","pgf","sgi","rgb","rgba","bw","int","inta","sid","ras","sun","tga","heic","heif"];const Fi=["onDrop","onDragenter","onDragleave"],Ai={key:0,class:"upload-overlay fit q-p-xl"},Bi={class:"uploader-info fit flex justify-center items-center text-h1"},Ii=_e({__name:"FileUploader",props:{accept:{default:()=>["org",...Ti]},multiple:{type:Boolean},directory:{type:Boolean}},emits:["uploaded","dropped"],setup(e,{emit:t}){const l=e,i=L(0),r=d(()=>i.value>0),u=v=>Array.from(v).reduce(async(f,S)=>{const N=await f,B=S.webkitGetAsEntry();if(!B)return N;if(B.isFile)return N.push(B),N;const D=await hn(B,l.accept);return N.push(...D),N},Promise.resolve([])),s=async v=>{var S;t("dropped"),i.value=0,v.preventDefault(),console.time("File uploading");const f=await u((S=v.dataTransfer)==null?void 0:S.items);console.timeEnd("File uploading"),t("uploaded",f)},a=v=>{i.value+=1,v.preventDefault()},h=v=>{i.value-=1,v.preventDefault()};return window.addEventListener("dragover",function(v){v=v||event,v.preventDefault()},!1),window.addEventListener("drop",function(v){v=v||event,v.preventDefault()},!1),(v,f)=>(K(),ie("div",{onDrop:Ke(s,["prevent"]),onDragenter:Ke(a,["prevent"]),onDragleave:Ke(h,["prevent"]),class:Ze(["file-uploader",{"drag-target":r.value}])},[r.value?(K(),ie("div",Ai,[le("div",Bi,re(v.$t("Drag&drop your notes here!")),1)])):Te("",!0),$t(v.$slots,"default",{},void 0,!0)],42,Fi))}});var Ei=Oe(Ii,[["__scopeId","data-v-742c185f"]]);const Pi={},Ri={class:"modal-container q-pa-md"},Li={class:"modal-title full-width text-capitalize color-secondary text-h5"},Oi={class:"modal-content full-width"};function Di(e,t){return K(),ie("div",Ri,[Ge(w(wt,{class:"close-btn color-secondary",icon:"close",flat:"",rounded:"",size:"sm"},null,512),[[Aa]]),le("div",Li,[$t(e.$slots,"title",{},void 0,!0)]),le("div",Oi,[$t(e.$slots,"content",{},void 0,!0)])])}var Ni=Oe(Pi,[["render",Di],["__scopeId","data-v-d5be5f18"]]);const Hi=_e({__name:"ModalWindow",setup(e){const t=nn();return(l,i)=>(K(),ce(wn,{modelValue:U(t).opened,"onUpdate:modelValue":i[0]||(i[0]=r=>U(t).opened=r),maximized:l.$q.screen.lt.sm},{default:R(()=>[w(Ni,null,ba({content:R(()=>[(K(),ce(Xt(U(t).component)))]),_:2},[U(t).title?{name:"title",fn:R(()=>[Fe(re(l.$t(U(t).title)),1)]),key:"0"}:void 0]),1024)]),_:1},8,["modelValue","maximized"]))}});const Ki={class:"footer-wrapper fit flex rows justify-between items-center"},ji=["onClick"],Ui=_e({__name:"ToolBar",setup(e){const t=ln();return(l,i)=>(K(),ce(un,{class:"toolbar",reveal:""},{default:R(()=>[le("div",Ki,[(K(!0),ie(Ae,null,it(U(t).actions,(r,u)=>(K(),ie("div",{key:r.name,class:Ze(["flex toolbar-action justify-center items-center cursor-pointer",{"main-action":u===2}]),onClick:r.handler},[w(ve,{class:"color-main",name:r.icon,size:"md"},null,8,["name"])],10,ji))),128))])]),_:1}))}});var Qi=Oe(Ui,[["__scopeId","data-v-909d8ba4"]]);const Wi={},Zi=le("div",{id:"mini-buffer"},null,-1);function Yi(e,t){return K(),ce(un,{class:"mini-buffer"},{default:R(()=>[Zi]),_:1})}var Xi=Oe(Wi,[["render",Yi]]);const Gi=_e({__name:"MainLayout",setup(e){const t=en(),l=rt(),i=d(()=>l.user);l.verifyUser();const{registerKeybindings:r}=Yt();on().register(),r([{handler:()=>t.toggleWithFallback(Sn),command:"toggleActionSidePanel",keySequence:"o p",description:"Toggle left sidebar"}]);const u=Xa();return(s,a)=>{const h=ya("router-view");return K(),ce(Ya,{view:"lHh Lpr lFf"},{default:R(()=>[w(Ei,{class:"main-content",onUploaded:U(u).uploadFiles},{default:R(()=>[s.$q.screen.gt.xs||U(t).opened?(K(),ce(yi,{key:0,"full-width":s.$q.screen.lt.sm,user:i.value},null,8,["full-width","user"])):Te("",!0),w(Wa,{class:Ze(["height-max-dynamic",{"with-composite-bar":s.$q.screen.gt.xs}])},{default:R(()=>[w(Hi),w(h)]),_:1},8,["class"]),w(Xi),w(Mi),s.$q.screen.lt.sm?(K(),ce(Qi,{key:1})):Te("",!0)]),_:1},8,["onUploaded"])]),_:1})}}});var uu=Oe(Gi,[["__scopeId","data-v-a77457be"]]);export{uu as default};
