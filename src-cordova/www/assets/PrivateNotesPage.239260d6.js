import{e as S}from"./PublicNotePreview.a26a84e6.js";import{k as v,aq as y,aM as k,r as b,e as l,w as I,bl as V,bn as x,o as a,a3 as m,a8 as B,a4 as d,h as t,f as u,a5 as w,ac as n,ab as C,a6 as P}from"./index.816ed836.js";import{N as q}from"./NoteList.8d0c9898.js";import{_ as F}from"./ModeLine.96e84c7f.js";import"./view.9ba803d1.js";import"./use-dark.c0d4b15f.js";import"./use-checkbox.29c9f21a.js";import"./use-form.c4f07f8e.js";import"./QMenu.2c92c01d.js";import"./focus-manager.387b0375.js";import"./use-tick.1d64bfca.js";import"./use-timeout.e7de6380.js";import"./QItemSection.778821b6.js";import"./QList.ddb6ee58.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./AsyncItemContainer.9709dcfe.js";import"./use-virtual-scroll.da17981c.js";import"./rtl.4b414a6d.js";import"./debounce.124e7565.js";import"./QFooter.7f8dce78.js";const M={class:"container content"},Q={key:0},se=v({__name:"PrivateNotesPage",setup(T){const e=y(),s=k(),c=b(null),p=()=>{e.setFilters({searchText:s.query.search,userId:s.params.userId})},f=l(()=>e.filters.limit),_=l(()=>e.filters.offset),i=()=>{p(),e.loadNotes()};i(),I(()=>s.params.userId,()=>{var r;((r=e.filters)==null?void 0:r.userId)!=s.params.userId&&i()});const o=V(),N=x(),h=async()=>{await e.deleteNotes(o.selectedNotesIds),N.syncNotes(),o.clearSelectedNotes()},g=l(()=>e.notes.length);return(r,L)=>(a(),m("div",{ref_key:"scrollTarget",ref:c,class:"scroll-container"},[B("div",M,[d(q,{selectable:!0,limit:f.value,offset:_.value,total:t(e).total,"fetch-notes":t(e).fetchNotes,notes:t(e).notes,"scroll-target":c.value},null,8,["limit","offset","total","fetch-notes","notes","scroll-target"]),g.value?(a(),u(F,{key:0,tabMode:!1},{left:w(()=>[d(S,{style:{"margin-left":"-3px"},modelValue:t(o).isAllNotesSelected,size:"sm","onUpdate:modelValue":t(o).toggleBulkNotesSelection},null,8,["modelValue","onUpdate:modelValue"]),t(o).selectedNotesIds.length?(a(),m("div",Q,C(t(o).selectedNotesIds.length),1)):n("",!0),t(o).isSomeNotesSelected?(a(),u(P,{key:1,square:"",class:"themed-button",icon:"delete",flat:"",onClick:h})):n("",!0)]),_:1})):n("",!0)])],512))}});export{se as default};
