var J=Object.defineProperty,W=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var T=(t,o,e)=>o in t?J(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,f=(t,o)=>{for(var e in o||(o={}))Y.call(o,e)&&T(t,e,o[e]);if(w)for(var e of w(o))Z.call(o,e)&&T(t,e,o[e]);return t},k=(t,o)=>W(t,X(o));import{b as ee,u as te,Q as B}from"./QBtn.fd72d8fa.js";import{u as le,j as oe,Q as ne}from"./use-form.1864fc39.js";import{f as ae,d as se,a as re,u as ue,c as ie,Q as ce}from"./QSpinner.34ccac42.js";import{r as O,c as s,h as d,an as v,g as de,s as P,_ as fe,ao as ve,t as me,j as x,a0 as Q,a2 as m,af as y,F as A,ap as ge,u as b,f as h,k as be,a1 as F}from"./index.1402a66b.js";import{_ as pe,c as ke}from"./CopyBtn.bcb032c5.js";function he(t,o){const e=O(null),u=s(()=>t.disable===!0?null:d("span",{ref:e,class:"no-outline",tabindex:-1}));function a(r){const n=o.value;r!==void 0&&r.type.indexOf("key")===0?n!==null&&document.activeElement!==n&&n.contains(document.activeElement)===!0&&n.focus():e.value!==null&&(r===void 0||n!==null&&n.contains(r.target)===!0)&&e.value.focus()}return{refocusTargetEl:u,refocusTarget:a}}var _e={xs:30,sm:35,md:40,lg:50,xl:60};const Ve=k(f(f(f({},te),ue),le),{modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),Ce=["update:modelValue"];function xe(t,o){const{props:e,slots:u,emit:a,proxy:r}=de(),{$q:n}=r,_=ee(e,n),S=O(null),{refocusTargetEl:I,refocusTarget:j}=he(e,S),E=ae(e,_e),g=s(()=>e.val!==void 0&&Array.isArray(e.modelValue)),V=s(()=>{const l=v(e.val);return g.value===!0?e.modelValue.findIndex(c=>v(c)===l):-1}),i=s(()=>g.value===!0?V.value>-1:v(e.modelValue)===v(e.trueValue)),p=s(()=>g.value===!0?V.value===-1:v(e.modelValue)===v(e.falseValue)),$=s(()=>i.value===!1&&p.value===!1),N=s(()=>e.disable===!0?-1:e.tabindex||0),R=s(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(_.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),z=s(()=>{const l=i.value===!0?"truthy":p.value===!0?"falsy":"indet",c=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?i.value===!0:p.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${l}${c}`}),D=s(()=>{const l={type:"checkbox"};return e.name!==void 0&&Object.assign(l,{"^checked":i.value===!0?"checked":void 0,name:e.name,value:g.value===!0?e.val:e.trueValue}),l}),L=oe(D),U=s(()=>{const l={tabindex:N.value,role:"checkbox","aria-label":e.label,"aria-checked":$.value===!0?"mixed":i.value===!0?"true":"false"};return e.disable===!0&&(l["aria-disabled"]="true"),l});function C(l){l!==void 0&&(P(l),j(l)),e.disable!==!0&&a("update:modelValue",K(),l)}function K(){if(g.value===!0){if(i.value===!0){const l=e.modelValue.slice();return l.splice(V.value,1),l}return e.modelValue.concat([e.val])}if(i.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(p.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function M(l){(l.keyCode===13||l.keyCode===32)&&P(l)}function G(l){(l.keyCode===13||l.keyCode===32)&&C(l)}const H=o(i,$);return Object.assign(r,{toggle:C}),()=>{const l=H();e.disable!==!0&&L(l,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const c=[d("div",{class:z.value,style:E.value},l)];I.value!==null&&c.push(I.value);const q=e.label!==void 0?se(u.default,[e.label]):re(u.default);return q!==void 0&&c.push(d("div",{class:`q-${t}__label q-anchor--skip`},q)),d("div",k(f({ref:S,class:R.value},U.value),{onClick:C,onKeydown:M,onKeyup:G}),c)}}var ye=ie({name:"QToggle",props:k(f({},Ve),{icon:String,iconColor:String}),emits:Ce,setup(t){function o(e,u){const a=s(()=>(e.value===!0?t.checkedIcon:u.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),r=s(()=>e.value===!0?t.iconColor:null);return()=>[d("div",{class:"q-toggle__track"}),d("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},a.value!==void 0?[d(ce,{name:a.value,color:r.value})]:void 0)]}return xe("toggle",o)}});const Se={class:"col-12"},Ie={class:"text-h4"},$e={class:"token-actions row"},qe={class:"self-center full-width no-outline",tabindex:"0"},we={class:"col-12"},Te={class:"text-h4"},je=fe({__name:"SettingsPage",setup(t){const o=ve();o.getApiTokens();const{tokens:e}=me(o),u=a=>{ke(a.token)};return(a,r)=>(x(),Q(A,null,[m("div",Se,[m("h4",Ie,"API "+y(a.$t("keys")),1),(x(!0),Q(A,null,ge(b(e),n=>(x(),be(ne,{key:n==null?void 0:n.id,color:"teal",outlined:"",label:a.$t("key"),"stack-label":"",class:"token-field"},{append:F(()=>[m("div",$e,[h(B,{onClick:_=>b(o).removeToken(n),icon:"delete",class:"flat-btn delete-btn q-mr-xs"},null,8,["onClick"]),h(pe,{onCopied:_=>u(n)},null,8,["onCopied"])])]),control:F(()=>[m("div",qe,y(n.token),1)]),_:2},1032,["label"]))),128)),h(B,{onClick:b(o).createNewToken,flat:"",color:"black",class:"full-width",label:a.$t("Create new token")},null,8,["onClick","label"])]),m("div",we,[m("h4",Te,y(a.$t("View settings")),1),h(ye,{modelValue:b(o).showUserProfiles,"onUpdate:modelValue":r[0]||(r[0]=n=>b(o).showUserProfiles=n),label:a.$t("Show author profile info")},null,8,["modelValue","label"])])],64))}});export{je as default};
