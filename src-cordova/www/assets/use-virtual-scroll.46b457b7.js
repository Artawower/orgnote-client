var xe=Object.defineProperty,qe=Object.defineProperties;var Ae=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var fe=(e,t,l)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,H=(e,t)=>{for(var l in t||(t={}))Ve.call(t,l)&&fe(e,l,t[l]);if(ue)for(var l of ue(t))He.call(t,l)&&fe(e,l,t[l]);return e},de=(e,t)=>qe(e,Ae(t));import{c as Te,a as Re}from"./QSpinner.34ccac42.js";import{u as ke,b as Be,e as Oe,f as ve}from"./QBtn.fd72d8fa.js";import{c as P,h as q,g as we,v as Le,r as T,w as Se,p as Fe,H as We,aj as Ce,I as Pe,J as _e,q as Ne}from"./index.1402a66b.js";var Ze=Te({name:"QList",props:de(H({},ke),{bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean}),setup(e,{slots:t}){const l=we(),a=Be(e,l.proxy.$q),d=P(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>q("div",{class:d.value},Re(t.default))}});const Xe=[null,document,document.body,document.scrollingElement,document.documentElement];function Ie(e,t){let l=Oe(t);if(l===void 0){if(e==null)return window;l=e.closest(".scroll,.scroll-y,.overflow-auto")}return Xe.includes(l)?window:l}function Ye(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function $e(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function pe(e,t,l=0){const a=arguments[3]===void 0?performance.now():arguments[3],d=Ye(e);if(l<=0){d!==t&&ee(e,t);return}requestAnimationFrame(n=>{const g=n-a,p=d+(t-d)/Math.max(g,l)*g;ee(e,p),p!==t&&pe(e,t,l-g,n)})}function he(e,t,l=0){const a=arguments[3]===void 0?performance.now():arguments[3],d=$e(e);if(l<=0){d!==t&&te(e,t);return}requestAnimationFrame(n=>{const g=n-a,p=d+(t-d)/Math.max(g,l)*g;te(e,p),p!==t&&he(e,t,l-g,n)})}function ee(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function te(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function et(e,t,l){if(l){pe(e,t,l);return}ee(e,t)}function tt(e,t,l){if(l){he(e,t,l);return}te(e,t)}let j;function lt(){if(j!==void 0)return j;const e=document.createElement("p"),t=document.createElement("div");ve(e,{width:"100%",height:"200px"}),ve(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const l=e.offsetWidth;t.style.overflow="scroll";let a=e.offsetWidth;return l===a&&(a=t.clientWidth),t.remove(),j=l-a,j}function ot(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let Q=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Q=e.scrollLeft>=0,e.remove()}const M=1e3,je=["start","center","end","start-force","center-force","end-force"],ge=Array.prototype.filter,Qe=window.getComputedStyle(document.body).overflowAnchor===void 0?Le:function(e,t){e!==null&&(cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;const l=e.children||[];ge.call(l,d=>d.dataset&&d.dataset.qVsAnchor!==void 0).forEach(d=>{delete d.dataset.qVsAnchor});const a=l[t];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function O(e,t){return e+t}function I(e,t,l,a,d,n,g,p){const z=e===window?document.scrollingElement||document.documentElement:e,E=d===!0?"offsetWidth":"offsetHeight",r={scrollStart:0,scrollViewSize:-g-p,scrollMaxSize:0,offsetStart:-g,offsetEnd:-p};if(d===!0?(e===window?(r.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r.scrollViewSize+=document.documentElement.clientWidth):(r.scrollStart=z.scrollLeft,r.scrollViewSize+=z.clientWidth),r.scrollMaxSize=z.scrollWidth,n===!0&&(r.scrollStart=(Q===!0?r.scrollMaxSize-r.scrollViewSize:0)-r.scrollStart)):(e===window?(r.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,r.scrollViewSize+=document.documentElement.clientHeight):(r.scrollStart=z.scrollTop,r.scrollViewSize+=z.clientHeight),r.scrollMaxSize=z.scrollHeight),l!==null)for(let m=l.previousElementSibling;m!==null;m=m.previousElementSibling)m.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetStart+=m[E]);if(a!==null)for(let m=a.nextElementSibling;m!==null;m=m.nextElementSibling)m.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetEnd+=m[E]);if(t!==e){const m=z.getBoundingClientRect(),h=t.getBoundingClientRect();d===!0?(r.offsetStart+=h.left-m.left,r.offsetEnd-=h.width):(r.offsetStart+=h.top-m.top,r.offsetEnd-=h.height),e!==window&&(r.offsetStart+=r.scrollStart),r.offsetEnd+=r.scrollMaxSize-r.offsetStart}return r}function me(e,t,l,a){t==="end"&&(t=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(a===!0&&(t=(Q===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):l===!0?(a===!0&&(t=(Q===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function C(e,t,l,a){if(l>=a)return 0;const d=t.length,n=Math.floor(l/M),g=Math.floor((a-1)/M)+1;let p=e.slice(n,g).reduce(O,0);return l%M!==0&&(p-=t.slice(n*M,l).reduce(O,0)),a%M!==0&&a!==d&&(p-=t.slice(a,g*M).reduce(O,0)),p}const De={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},it=H({virtualScrollHorizontal:Boolean,onVirtualScroll:Function},De);function rt({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:l,virtualScrollItemSizeComputed:a}){const d=we(),{props:n,emit:g,proxy:p}=d,{$q:z}=p;let E,r,m,h=[],v;const A=T(0),R=T(0),L=T({}),F=T(null),W=T(null),k=T(null),w=T({from:0,to:0}),le=P(()=>n.tableColspan!==void 0?n.tableColspan:100);a===void 0&&(a=P(()=>n.virtualScrollItemSize));const oe=P(()=>a.value+";"+n.virtualScrollHorizontal),ye=P(()=>oe.value+";"+n.virtualScrollSliceRatioBefore+";"+n.virtualScrollSliceRatioAfter);Se(ye,()=>{B()}),Se(oe,D);function D(){U(r,!0)}function ie(o){U(o===void 0?r:o)}function _(o,i){const s=t();if(s==null||s.nodeType===8)return;const S=I(s,l(),F.value,W.value,n.virtualScrollHorizontal,z.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd);m!==S.scrollViewSize&&B(S.scrollViewSize),N(s,S,Math.min(e.value-1,Math.max(0,parseInt(o,10)||0)),0,je.indexOf(i)>-1?i:r>-1&&o>r?"end":"start")}function ze(){const o=t();if(o==null||o.nodeType===8)return;const i=I(o,l(),F.value,W.value,n.virtualScrollHorizontal,z.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd),s=e.value-1,S=i.scrollMaxSize-i.offsetStart-i.offsetEnd-R.value;if(E===i.scrollStart)return;if(i.scrollMaxSize<=0){N(o,i,0,0);return}m!==i.scrollViewSize&&B(i.scrollViewSize),J(w.value.from);const y=Math.floor(i.scrollMaxSize-Math.max(i.scrollViewSize,i.offsetEnd)-Math.min(v[s],i.scrollViewSize/2));if(y>0&&Math.ceil(i.scrollStart)>=y){N(o,i,s,i.scrollMaxSize-i.offsetEnd-h.reduce(O,0));return}let f=0,u=i.scrollStart-i.offsetStart,b=u;if(u<=S&&u+i.scrollViewSize>=A.value)u-=A.value,f=w.value.from,b=u;else for(let c=0;u>=h[c]&&f<s;c++)u-=h[c],f+=M;for(;u>0&&f<s;)u-=v[f],u>-i.scrollViewSize?(f++,b=u):b=v[f]+u;N(o,i,f,b)}function N(o,i,s,S,y){const f=typeof y=="string"&&y.indexOf("-force")>-1,u=f===!0?y.replace("-force",""):y,b=u!==void 0?u:"start";let c=Math.max(0,s-L.value[b]),x=c+L.value.total;x>e.value&&(x=e.value,c=Math.max(0,x-L.value.total)),E=i.scrollStart;const X=c!==w.value.from||x!==w.value.to;if(X===!1&&u===void 0){ne(s);return}const{activeElement:ce}=document,V=k.value;X===!0&&V!==null&&V!==ce&&V.contains(ce)===!0&&(V.addEventListener("focusout",re),setTimeout(()=>{V!==null&&V.removeEventListener("focusout",re)})),Qe(V,s-c);const Ee=u!==void 0?v.slice(c,s).reduce(O,0):0;if(X===!0){const Y=x>=w.value.from&&c<=w.value.to?w.value.to:x;w.value={from:c,to:Y},A.value=C(h,v,0,c),R.value=C(h,v,x,e.value),requestAnimationFrame(()=>{w.value.to!==x&&E===i.scrollStart&&(w.value={from:w.value.from,to:x},R.value=C(h,v,x,e.value))})}requestAnimationFrame(()=>{if(E!==i.scrollStart)return;X===!0&&J(c);const Y=v.slice(c,s).reduce(O,0),$=Y+i.offsetStart+A.value,ae=$+v[s];let K=$+S;if(u!==void 0){const Me=Y-Ee,Z=i.scrollStart+Me;K=f!==!0&&Z<$&&ae<Z+i.scrollViewSize?Z:u==="end"?ae-i.scrollViewSize:$-(u==="start"?0:Math.round((i.scrollViewSize-v[s])/2))}E=K,me(o,K,n.virtualScrollHorizontal,z.lang.rtl),ne(s)})}function J(o){const i=k.value;if(i){const s=ge.call(i.children,c=>c.classList&&c.classList.contains("q-virtual-scroll--skip")===!1),S=s.length,y=n.virtualScrollHorizontal===!0?c=>c.getBoundingClientRect().width:c=>c.offsetHeight;let f=o,u,b;for(let c=0;c<S;){for(u=y(s[c]),c++;c<S&&s[c].classList.contains("q-virtual-scroll--with-prev")===!0;)u+=y(s[c]),c++;b=u-v[f],b!==0&&(v[f]+=b,h[Math.floor(f/M)]+=b),f++}}}function re(){k.value!==null&&k.value!==void 0&&k.value.focus()}function U(o,i){const s=1*a.value;(i===!0||Array.isArray(v)===!1)&&(v=[]);const S=v.length;v.length=e.value;for(let f=e.value-1;f>=S;f--)v[f]=s;const y=Math.floor((e.value-1)/M);h=[];for(let f=0;f<=y;f++){let u=0;const b=Math.min((f+1)*M,e.value);for(let c=f*M;c<b;c++)u+=v[c];h.push(u)}r=-1,E=void 0,A.value=C(h,v,0,w.value.from),R.value=C(h,v,w.value.to,e.value),o>=0?(J(w.value.from),Fe(()=>{_(o)})):G()}function B(o){if(o===void 0&&typeof window!="undefined"){const u=t();u!=null&&u.nodeType!==8&&(o=I(u,l(),F.value,W.value,n.virtualScrollHorizontal,z.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd).scrollViewSize)}m=o;const i=parseFloat(n.virtualScrollSliceRatioBefore)||0,s=parseFloat(n.virtualScrollSliceRatioAfter)||0,S=1+i+s,y=o===void 0||o<=0?1:Math.ceil(o/a.value),f=Math.max(1,y,Math.ceil((n.virtualScrollSliceSize>0?n.virtualScrollSliceSize:10)/S));L.value={total:Math.ceil(f*S),start:Math.ceil(f*i),center:Math.ceil(f*(.5+i)),end:Math.ceil(f*(1+i)),view:y}}function be(o,i){const s=n.virtualScrollHorizontal===!0?"width":"height",S={["--q-virtual-scroll-item-"+s]:a.value+"px"};return[o==="tbody"?q(o,{class:"q-virtual-scroll__padding",key:"before",ref:F},[q("tr",[q("td",{style:H({[s]:`${A.value}px`},S),colspan:le.value})])]):q(o,{class:"q-virtual-scroll__padding",key:"before",ref:F,style:H({[s]:`${A.value}px`},S)}),q(o,{class:"q-virtual-scroll__content",key:"content",ref:k,tabindex:-1},i.flat()),o==="tbody"?q(o,{class:"q-virtual-scroll__padding",key:"after",ref:W},[q("tr",[q("td",{style:H({[s]:`${R.value}px`},S),colspan:le.value})])]):q(o,{class:"q-virtual-scroll__padding",key:"after",ref:W,style:H({[s]:`${R.value}px`},S)})]}function ne(o){r!==o&&(n.onVirtualScroll!==void 0&&g("virtual-scroll",{index:o,from:w.value.from,to:w.value.to-1,direction:o<r?"decrease":"increase",ref:p}),r=o)}B();const G=We(ze,z.platform.is.ios===!0?120:35);Ce(()=>{B()});let se=!1;return Pe(()=>{se=!0}),_e(()=>{if(se!==!0)return;const o=t();E!==void 0&&o!==void 0&&o!==null&&o.nodeType!==8?me(o,E,n.virtualScrollHorizontal,z.lang.rtl):_(r)}),Ne(()=>{G.cancel()}),Object.assign(p,{scrollTo:_,reset:D,refresh:ie}),{virtualScrollSliceRange:w,virtualScrollSliceSizeComputed:L,setVirtualScrollSize:B,onVirtualScrollEvt:G,localResetVirtualScroll:U,padVirtualScroll:be,scrollTo:_,reset:D,refresh:ie}}export{Ze as Q,Ye as a,$e as b,tt as c,lt as d,rt as e,Ie as g,ot as h,et as s,it as u};
