var Re=Object.defineProperty;var Le=(s,a,l)=>a in s?Re(s,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[a]=l;var Ee=(s,a,l)=>(Le(s,typeof a!="symbol"?a+"":a,l),l);const scriptRel=function(){const a=document.createElement("link").relList;return a&&a.supports&&a.supports("modulepreload")?"modulepreload":"preload"}(),seen={},base="",__vitePreload=function(a,l){return!l||l.length===0?a():Promise.all(l.map(c=>{if(c=`${base}${c}`,c in seen)return;seen[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":scriptRel,u||(f.as="script",f.crossOrigin=""),f.href=c,document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>a())};function makeMap(s,a){const l=Object.create(null),c=s.split(",");for(let u=0;u<c.length;u++)l[c[u]]=!0;return a?u=>!!l[u.toLowerCase()]:u=>!!l[u]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=s=>onRE.test(s),isModelListener=s=>s.startsWith("onUpdate:"),extend$2=Object.assign,remove=(s,a)=>{const l=s.indexOf(a);l>-1&&s.splice(l,1)},hasOwnProperty$3=Object.prototype.hasOwnProperty,hasOwn$2=(s,a)=>hasOwnProperty$3.call(s,a),isArray$4=Array.isArray,isMap=s=>toTypeString$1(s)==="[object Map]",isSet=s=>toTypeString$1(s)==="[object Set]",isFunction$2=s=>typeof s=="function",isString$3=s=>typeof s=="string",isSymbol=s=>typeof s=="symbol",isObject$6=s=>s!==null&&typeof s=="object",isPromise=s=>isObject$6(s)&&isFunction$2(s.then)&&isFunction$2(s.catch),objectToString$1=Object.prototype.toString,toTypeString$1=s=>objectToString$1.call(s),toRawType=s=>toTypeString$1(s).slice(8,-1),isPlainObject$3=s=>toTypeString$1(s)==="[object Object]",isIntegerKey=s=>isString$3(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=s=>{const a=Object.create(null);return l=>a[l]||(a[l]=s(l))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(s=>s.replace(camelizeRE,(a,l)=>l?l.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(s=>s.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(s=>s.charAt(0).toUpperCase()+s.slice(1)),toHandlerKey=cacheStringFunction(s=>s?`on${capitalize$1(s)}`:""),hasChanged=(s,a)=>!Object.is(s,a),invokeArrayFns=(s,a)=>{for(let l=0;l<s.length;l++)s[l](a)},def=(s,a,l)=>{Object.defineProperty(s,a,{configurable:!0,enumerable:!1,value:l})},looseToNumber=s=>{const a=parseFloat(s);return isNaN(a)?s:a},toNumber=s=>{const a=isString$3(s)?Number(s):NaN;return isNaN(a)?s:a};let _globalThis$1;const getGlobalThis$1=()=>_globalThis$1||(_globalThis$1=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function normalizeStyle(s){if(isArray$4(s)){const a={};for(let l=0;l<s.length;l++){const c=s[l],u=isString$3(c)?parseStringStyle(c):normalizeStyle(c);if(u)for(const d in u)a[d]=u[d]}return a}else{if(isString$3(s))return s;if(isObject$6(s))return s}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(s){const a={};return s.replace(styleCommentRE,"").split(listDelimiterRE).forEach(l=>{if(l){const c=l.split(propertyDelimiterRE);c.length>1&&(a[c[0].trim()]=c[1].trim())}}),a}function normalizeClass(s){let a="";if(isString$3(s))a=s;else if(isArray$4(s))for(let l=0;l<s.length;l++){const c=normalizeClass(s[l]);c&&(a+=c+" ")}else if(isObject$6(s))for(const l in s)s[l]&&(a+=l+" ");return a.trim()}function normalizeProps(s){if(!s)return null;let{class:a,style:l}=s;return a&&!isString$3(a)&&(s.class=normalizeClass(a)),l&&(s.style=normalizeStyle(l)),s}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(s){return!!s||s===""}const toDisplayString$1=s=>isString$3(s)?s:s==null?"":isArray$4(s)||isObject$6(s)&&(s.toString===objectToString$1||!isFunction$2(s.toString))?JSON.stringify(s,replacer,2):String(s),replacer=(s,a)=>a&&a.__v_isRef?replacer(s,a.value):isMap(a)?{[`Map(${a.size})`]:[...a.entries()].reduce((l,[c,u])=>(l[`${c} =>`]=u,l),{})}:isSet(a)?{[`Set(${a.size})`]:[...a.values()]}:isObject$6(a)&&!isArray$4(a)&&!isPlainObject$3(a)?String(a):a;let activeEffectScope;class EffectScope{constructor(a=!1){this.detached=a,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!a&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(a){if(this._active){const l=activeEffectScope;try{return activeEffectScope=this,a()}finally{activeEffectScope=l}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(a){if(this._active){let l,c;for(l=0,c=this.effects.length;l<c;l++)this.effects[l].stop();for(l=0,c=this.cleanups.length;l<c;l++)this.cleanups[l]();if(this.scopes)for(l=0,c=this.scopes.length;l<c;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!a){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(s){return new EffectScope(s)}function recordEffectScope(s,a=activeEffectScope){a&&a.active&&a.effects.push(s)}function getCurrentScope(){return activeEffectScope}const createDep=s=>{const a=new Set(s);return a.w=0,a.n=0,a},wasTracked=s=>(s.w&trackOpBit)>0,newTracked=s=>(s.n&trackOpBit)>0,initDepMarkers=({deps:s})=>{if(s.length)for(let a=0;a<s.length;a++)s[a].w|=trackOpBit},finalizeDepMarkers=s=>{const{deps:a}=s;if(a.length){let l=0;for(let c=0;c<a.length;c++){const u=a[c];wasTracked(u)&&!newTracked(u)?u.delete(s):a[l++]=u,u.w&=~trackOpBit,u.n&=~trackOpBit}a.length=l}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(a,l=null,c){this.fn=a,this.scheduler=l,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,c)}run(){if(!this.active)return this.fn();let a=activeEffect,l=shouldTrack;for(;a;){if(a===this)return;a=a.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=l,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(s){const{deps:a}=s;if(a.length){for(let l=0;l<a.length;l++)a[l].delete(s);a.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const s=trackStack.pop();shouldTrack=s===void 0?!0:s}function track(s,a,l){if(shouldTrack&&activeEffect){let c=targetMap.get(s);c||targetMap.set(s,c=new Map);let u=c.get(l);u||c.set(l,u=createDep()),trackEffects(u)}}function trackEffects(s,a){let l=!1;effectTrackDepth<=maxMarkerBits?newTracked(s)||(s.n|=trackOpBit,l=!wasTracked(s)):l=!s.has(activeEffect),l&&(s.add(activeEffect),activeEffect.deps.push(s))}function trigger(s,a,l,c,u,d){const f=targetMap.get(s);if(!f)return;let m=[];if(a==="clear")m=[...f.values()];else if(l==="length"&&isArray$4(s)){const g=Number(c);f.forEach((v,y)=>{(y==="length"||y>=g)&&m.push(v)})}else switch(l!==void 0&&m.push(f.get(l)),a){case"add":isArray$4(s)?isIntegerKey(l)&&m.push(f.get("length")):(m.push(f.get(ITERATE_KEY)),isMap(s)&&m.push(f.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$4(s)||(m.push(f.get(ITERATE_KEY)),isMap(s)&&m.push(f.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(s)&&m.push(f.get(ITERATE_KEY));break}if(m.length===1)m[0]&&triggerEffects(m[0]);else{const g=[];for(const v of m)v&&g.push(...v);triggerEffects(createDep(g))}}function triggerEffects(s,a){const l=isArray$4(s)?s:[...s];for(const c of l)c.computed&&triggerEffect(c);for(const c of l)c.computed||triggerEffect(c)}function triggerEffect(s,a){(s!==activeEffect||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}function getDepFromReactive(s,a){var l;return(l=targetMap.get(s))==null?void 0:l.get(a)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const s={};return["includes","indexOf","lastIndexOf"].forEach(a=>{s[a]=function(...l){const c=toRaw(this);for(let d=0,f=this.length;d<f;d++)track(c,"get",d+"");const u=c[a](...l);return u===-1||u===!1?c[a](...l.map(toRaw)):u}}),["push","pop","shift","unshift","splice"].forEach(a=>{s[a]=function(...l){pauseTracking();const c=toRaw(this)[a].apply(this,l);return resetTracking(),c}}),s}function hasOwnProperty$2(s){const a=toRaw(this);return track(a,"has",s),a.hasOwnProperty(s)}function createGetter(s=!1,a=!1){return function(c,u,d){if(u==="__v_isReactive")return!s;if(u==="__v_isReadonly")return s;if(u==="__v_isShallow")return a;if(u==="__v_raw"&&d===(s?a?shallowReadonlyMap:readonlyMap:a?shallowReactiveMap:reactiveMap).get(c))return c;const f=isArray$4(c);if(!s){if(f&&hasOwn$2(arrayInstrumentations,u))return Reflect.get(arrayInstrumentations,u,d);if(u==="hasOwnProperty")return hasOwnProperty$2}const m=Reflect.get(c,u,d);return(isSymbol(u)?builtInSymbols.has(u):isNonTrackableKeys(u))||(s||track(c,"get",u),a)?m:isRef(m)?f&&isIntegerKey(u)?m:m.value:isObject$6(m)?s?readonly(m):reactive(m):m}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(s=!1){return function(l,c,u,d){let f=l[c];if(isReadonly(f)&&isRef(f)&&!isRef(u))return!1;if(!s&&(!isShallow(u)&&!isReadonly(u)&&(f=toRaw(f),u=toRaw(u)),!isArray$4(l)&&isRef(f)&&!isRef(u)))return f.value=u,!0;const m=isArray$4(l)&&isIntegerKey(c)?Number(c)<l.length:hasOwn$2(l,c),g=Reflect.set(l,c,u,d);return l===toRaw(d)&&(m?hasChanged(u,f)&&trigger(l,"set",c,u):trigger(l,"add",c,u)),g}}function deleteProperty(s,a){const l=hasOwn$2(s,a);s[a];const c=Reflect.deleteProperty(s,a);return c&&l&&trigger(s,"delete",a,void 0),c}function has$1(s,a){const l=Reflect.has(s,a);return(!isSymbol(a)||!builtInSymbols.has(a))&&track(s,"has",a),l}function ownKeys(s){return track(s,"iterate",isArray$4(s)?"length":ITERATE_KEY),Reflect.ownKeys(s)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(s,a){return!0},deleteProperty(s,a){return!0}},shallowReactiveHandlers=extend$2({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=s=>s,getProto$1=s=>Reflect.getPrototypeOf(s);function get$2(s,a,l=!1,c=!1){s=s.__v_raw;const u=toRaw(s),d=toRaw(a);l||(a!==d&&track(u,"get",a),track(u,"get",d));const{has:f}=getProto$1(u),m=c?toShallow:l?toReadonly:toReactive;if(f.call(u,a))return m(s.get(a));if(f.call(u,d))return m(s.get(d));s!==u&&s.get(a)}function has(s,a=!1){const l=this.__v_raw,c=toRaw(l),u=toRaw(s);return a||(s!==u&&track(c,"has",s),track(c,"has",u)),s===u?l.has(s):l.has(s)||l.has(u)}function size$1(s,a=!1){return s=s.__v_raw,!a&&track(toRaw(s),"iterate",ITERATE_KEY),Reflect.get(s,"size",s)}function add(s){s=toRaw(s);const a=toRaw(this);return getProto$1(a).has.call(a,s)||(a.add(s),trigger(a,"add",s,s)),this}function set$2(s,a){a=toRaw(a);const l=toRaw(this),{has:c,get:u}=getProto$1(l);let d=c.call(l,s);d||(s=toRaw(s),d=c.call(l,s));const f=u.call(l,s);return l.set(s,a),d?hasChanged(a,f)&&trigger(l,"set",s,a):trigger(l,"add",s,a),this}function deleteEntry(s){const a=toRaw(this),{has:l,get:c}=getProto$1(a);let u=l.call(a,s);u||(s=toRaw(s),u=l.call(a,s)),c&&c.call(a,s);const d=a.delete(s);return u&&trigger(a,"delete",s,void 0),d}function clear(){const s=toRaw(this),a=s.size!==0,l=s.clear();return a&&trigger(s,"clear",void 0,void 0),l}function createForEach(s,a){return function(c,u){const d=this,f=d.__v_raw,m=toRaw(f),g=a?toShallow:s?toReadonly:toReactive;return!s&&track(m,"iterate",ITERATE_KEY),f.forEach((v,y)=>c.call(u,g(v),g(y),d))}}function createIterableMethod(s,a,l){return function(...c){const u=this.__v_raw,d=toRaw(u),f=isMap(d),m=s==="entries"||s===Symbol.iterator&&f,g=s==="keys"&&f,v=u[s](...c),y=l?toShallow:a?toReadonly:toReactive;return!a&&track(d,"iterate",g?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:b,done:_}=v.next();return _?{value:b,done:_}:{value:m?[y(b[0]),y(b[1])]:y(b),done:_}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(s){return function(...a){return s==="delete"?!1:this}}function createInstrumentations(){const s={get(d){return get$2(this,d)},get size(){return size$1(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},a={get(d){return get$2(this,d,!1,!0)},get size(){return size$1(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},l={get(d){return get$2(this,d,!0)},get size(){return size$1(this,!0)},has(d){return has.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},c={get(d){return get$2(this,d,!0,!0)},get size(){return size$1(this,!0)},has(d){return has.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{s[d]=createIterableMethod(d,!1,!1),l[d]=createIterableMethod(d,!0,!1),a[d]=createIterableMethod(d,!1,!0),c[d]=createIterableMethod(d,!0,!0)}),[s,l,a,c]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(s,a){const l=a?s?shallowReadonlyInstrumentations:shallowInstrumentations:s?readonlyInstrumentations:mutableInstrumentations;return(c,u,d)=>u==="__v_isReactive"?!s:u==="__v_isReadonly"?s:u==="__v_raw"?c:Reflect.get(hasOwn$2(l,u)&&u in c?l:c,u,d)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(s){return s.__v_skip||!Object.isExtensible(s)?0:targetTypeMap(toRawType(s))}function reactive(s){return isReadonly(s)?s:createReactiveObject(s,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(s){return createReactiveObject(s,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(s){return createReactiveObject(s,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(s,a,l,c,u){if(!isObject$6(s)||s.__v_raw&&!(a&&s.__v_isReactive))return s;const d=u.get(s);if(d)return d;const f=getTargetType(s);if(f===0)return s;const m=new Proxy(s,f===2?c:l);return u.set(s,m),m}function isReactive(s){return isReadonly(s)?isReactive(s.__v_raw):!!(s&&s.__v_isReactive)}function isReadonly(s){return!!(s&&s.__v_isReadonly)}function isShallow(s){return!!(s&&s.__v_isShallow)}function isProxy(s){return isReactive(s)||isReadonly(s)}function toRaw(s){const a=s&&s.__v_raw;return a?toRaw(a):s}function markRaw(s){return def(s,"__v_skip",!0),s}const toReactive=s=>isObject$6(s)?reactive(s):s,toReadonly=s=>isObject$6(s)?readonly(s):s;function trackRefValue(s){shouldTrack&&activeEffect&&(s=toRaw(s),trackEffects(s.dep||(s.dep=createDep())))}function triggerRefValue(s,a){s=toRaw(s);const l=s.dep;l&&triggerEffects(l)}function isRef(s){return!!(s&&s.__v_isRef===!0)}function ref(s){return createRef(s,!1)}function shallowRef(s){return createRef(s,!0)}function createRef(s,a){return isRef(s)?s:new RefImpl(s,a)}class RefImpl{constructor(a,l){this.__v_isShallow=l,this.dep=void 0,this.__v_isRef=!0,this._rawValue=l?a:toRaw(a),this._value=l?a:toReactive(a)}get value(){return trackRefValue(this),this._value}set value(a){const l=this.__v_isShallow||isShallow(a)||isReadonly(a);a=l?a:toRaw(a),hasChanged(a,this._rawValue)&&(this._rawValue=a,this._value=l?a:toReactive(a),triggerRefValue(this))}}function unref(s){return isRef(s)?s.value:s}const shallowUnwrapHandlers={get:(s,a,l)=>unref(Reflect.get(s,a,l)),set:(s,a,l,c)=>{const u=s[a];return isRef(u)&&!isRef(l)?(u.value=l,!0):Reflect.set(s,a,l,c)}};function proxyRefs(s){return isReactive(s)?s:new Proxy(s,shallowUnwrapHandlers)}function toRefs(s){const a=isArray$4(s)?new Array(s.length):{};for(const l in s)a[l]=propertyToRef(s,l);return a}class ObjectRefImpl{constructor(a,l,c){this._object=a,this._key=l,this._defaultValue=c,this.__v_isRef=!0}get value(){const a=this._object[this._key];return a===void 0?this._defaultValue:a}set value(a){this._object[this._key]=a}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(a){this._getter=a,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(s,a,l){return isRef(s)?s:isFunction$2(s)?new GetterRefImpl(s):isObject$6(s)&&arguments.length>1?propertyToRef(s,a,l):ref(s)}function propertyToRef(s,a,l){const c=s[a];return isRef(c)?c:new ObjectRefImpl(s,a,l)}class ComputedRefImpl{constructor(a,l,c,u){this._setter=l,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(a,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=c}get value(){const a=toRaw(this);return trackRefValue(a),(a._dirty||!a._cacheable)&&(a._dirty=!1,a._value=a.effect.run()),a._value}set value(a){this._setter(a)}}function computed$1(s,a,l=!1){let c,u;const d=isFunction$2(s);return d?(c=s,u=NOOP):(c=s.get,u=s.set),new ComputedRefImpl(c,u,d||!u,l)}function warn$1(s,...a){}function callWithErrorHandling(s,a,l,c){let u;try{u=c?s(...c):s()}catch(d){handleError(d,a,l)}return u}function callWithAsyncErrorHandling(s,a,l,c){if(isFunction$2(s)){const d=callWithErrorHandling(s,a,l,c);return d&&isPromise(d)&&d.catch(f=>{handleError(f,a,l)}),d}const u=[];for(let d=0;d<s.length;d++)u.push(callWithAsyncErrorHandling(s[d],a,l,c));return u}function handleError(s,a,l,c=!0){const u=a?a.vnode:null;if(a){let d=a.parent;const f=a.proxy,m=l;for(;d;){const v=d.ec;if(v){for(let y=0;y<v.length;y++)if(v[y](s,f,m)===!1)return}d=d.parent}const g=a.appContext.config.errorHandler;if(g){callWithErrorHandling(g,null,10,[s,f,m]);return}}logError$1(s,l,u,c)}function logError$1(s,a,l,c=!0){console.error(s)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(s){const a=currentFlushPromise||resolvedPromise;return s?a.then(this?s.bind(this):s):a}function findInsertionIndex(s){let a=flushIndex+1,l=queue.length;for(;a<l;){const c=a+l>>>1;getId(queue[c])<s?a=c+1:l=c}return a}function queueJob(s){(!queue.length||!queue.includes(s,isFlushing&&s.allowRecurse?flushIndex+1:flushIndex))&&(s.id==null?queue.push(s):queue.splice(findInsertionIndex(s.id),0,s),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(s){const a=queue.indexOf(s);a>flushIndex&&queue.splice(a,1)}function queuePostFlushCb(s){isArray$4(s)?pendingPostFlushCbs.push(...s):(!activePostFlushCbs||!activePostFlushCbs.includes(s,s.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(s),queueFlush()}function flushPreFlushCbs(s,a=isFlushing?flushIndex+1:0){for(;a<queue.length;a++){const l=queue[a];l&&l.pre&&(queue.splice(a,1),a--,l())}}function flushPostFlushCbs(s){if(pendingPostFlushCbs.length){const a=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...a);return}for(activePostFlushCbs=a,activePostFlushCbs.sort((l,c)=>getId(l)-getId(c)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=s=>s.id==null?1/0:s.id,comparator=(s,a)=>{const l=getId(s)-getId(a);if(l===0){if(s.pre&&!a.pre)return-1;if(a.pre&&!s.pre)return 1}return l};function flushJobs(s){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const a=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const l=queue[flushIndex];l&&l.active!==!1&&callWithErrorHandling(l,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(s,a,...l){if(s.isUnmounted)return;const c=s.vnode.props||EMPTY_OBJ;let u=l;const d=a.startsWith("update:"),f=d&&a.slice(7);if(f&&f in c){const y=`${f==="modelValue"?"model":f}Modifiers`,{number:b,trim:_}=c[y]||EMPTY_OBJ;_&&(u=l.map(T=>isString$3(T)?T.trim():T)),b&&(u=l.map(looseToNumber))}let m,g=c[m=toHandlerKey(a)]||c[m=toHandlerKey(camelize(a))];!g&&d&&(g=c[m=toHandlerKey(hyphenate(a))]),g&&callWithAsyncErrorHandling(g,s,6,u);const v=c[m+"Once"];if(v){if(!s.emitted)s.emitted={};else if(s.emitted[m])return;s.emitted[m]=!0,callWithAsyncErrorHandling(v,s,6,u)}}function normalizeEmitsOptions(s,a,l=!1){const c=a.emitsCache,u=c.get(s);if(u!==void 0)return u;const d=s.emits;let f={},m=!1;if(!isFunction$2(s)){const g=v=>{const y=normalizeEmitsOptions(v,a,!0);y&&(m=!0,extend$2(f,y))};!l&&a.mixins.length&&a.mixins.forEach(g),s.extends&&g(s.extends),s.mixins&&s.mixins.forEach(g)}return!d&&!m?(isObject$6(s)&&c.set(s,null),null):(isArray$4(d)?d.forEach(g=>f[g]=null):extend$2(f,d),isObject$6(s)&&c.set(s,f),f)}function isEmitListener(s,a){return!s||!isOn(a)?!1:(a=a.slice(2).replace(/Once$/,""),hasOwn$2(s,a[0].toLowerCase()+a.slice(1))||hasOwn$2(s,hyphenate(a))||hasOwn$2(s,a))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(s){const a=currentRenderingInstance;return currentRenderingInstance=s,currentScopeId=s&&s.type.__scopeId||null,a}function pushScopeId(s){currentScopeId=s}function popScopeId(){currentScopeId=null}function withCtx(s,a=currentRenderingInstance,l){if(!a||s._n)return s;const c=(...u)=>{c._d&&setBlockTracking(-1);const d=setCurrentRenderingInstance(a);let f;try{f=s(...u)}finally{setCurrentRenderingInstance(d),c._d&&setBlockTracking(1)}return f};return c._n=!0,c._c=!0,c._d=!0,c}function markAttrsAccessed(){}function renderComponentRoot(s){const{type:a,vnode:l,proxy:c,withProxy:u,props:d,propsOptions:[f],slots:m,attrs:g,emit:v,render:y,renderCache:b,data:_,setupState:T,ctx:E,inheritAttrs:P}=s;let C,S;const N=setCurrentRenderingInstance(s);try{if(l.shapeFlag&4){const x=u||c;C=normalizeVNode(y.call(x,x,b,d,T,_,E)),S=g}else{const x=a;C=normalizeVNode(x.length>1?x(d,{attrs:g,slots:m,emit:v}):x(d,null)),S=a.props?g:getFunctionalFallthrough(g)}}catch(x){blockStack.length=0,handleError(x,s,1),C=createVNode(Comment)}let O=C;if(S&&P!==!1){const x=Object.keys(S),{shapeFlag:A}=O;x.length&&A&7&&(f&&x.some(isModelListener)&&(S=filterModelListeners(S,f)),O=cloneVNode(O,S))}return l.dirs&&(O=cloneVNode(O),O.dirs=O.dirs?O.dirs.concat(l.dirs):l.dirs),l.transition&&(O.transition=l.transition),C=O,setCurrentRenderingInstance(N),C}const getFunctionalFallthrough=s=>{let a;for(const l in s)(l==="class"||l==="style"||isOn(l))&&((a||(a={}))[l]=s[l]);return a},filterModelListeners=(s,a)=>{const l={};for(const c in s)(!isModelListener(c)||!(c.slice(9)in a))&&(l[c]=s[c]);return l};function shouldUpdateComponent(s,a,l){const{props:c,children:u,component:d}=s,{props:f,children:m,patchFlag:g}=a,v=d.emitsOptions;if(a.dirs||a.transition)return!0;if(l&&g>=0){if(g&1024)return!0;if(g&16)return c?hasPropsChanged(c,f,v):!!f;if(g&8){const y=a.dynamicProps;for(let b=0;b<y.length;b++){const _=y[b];if(f[_]!==c[_]&&!isEmitListener(v,_))return!0}}}else return(u||m)&&(!m||!m.$stable)?!0:c===f?!1:c?f?hasPropsChanged(c,f,v):!0:!!f;return!1}function hasPropsChanged(s,a,l){const c=Object.keys(a);if(c.length!==Object.keys(s).length)return!0;for(let u=0;u<c.length;u++){const d=c[u];if(a[d]!==s[d]&&!isEmitListener(l,d))return!0}return!1}function updateHOCHostEl({vnode:s,parent:a},l){for(;a&&a.subTree===s;)(s=a.vnode).el=l,a=a.parent}const isSuspense=s=>s.__isSuspense;function queueEffectWithSuspense(s,a){a&&a.pendingBranch?isArray$4(s)?a.effects.push(...s):a.effects.push(s):queuePostFlushCb(s)}function watchPostEffect(s,a){return doWatch(s,null,{flush:"post"})}const INITIAL_WATCHER_VALUE={};function watch(s,a,l){return doWatch(s,a,l)}function doWatch(s,a,{immediate:l,deep:c,flush:u,onTrack:d,onTrigger:f}=EMPTY_OBJ){var m;const g=getCurrentScope()===((m=currentInstance)==null?void 0:m.scope)?currentInstance:null;let v,y=!1,b=!1;if(isRef(s)?(v=()=>s.value,y=isShallow(s)):isReactive(s)?(v=()=>s,c=!0):isArray$4(s)?(b=!0,y=s.some(x=>isReactive(x)||isShallow(x)),v=()=>s.map(x=>{if(isRef(x))return x.value;if(isReactive(x))return traverse(x);if(isFunction$2(x))return callWithErrorHandling(x,g,2)})):isFunction$2(s)?a?v=()=>callWithErrorHandling(s,g,2):v=()=>{if(!(g&&g.isUnmounted))return _&&_(),callWithAsyncErrorHandling(s,g,3,[T])}:v=NOOP,a&&c){const x=v;v=()=>traverse(x())}let _,T=x=>{_=N.onStop=()=>{callWithErrorHandling(x,g,4)}},E;if(isInSSRComponentSetup)if(T=NOOP,a?l&&callWithAsyncErrorHandling(a,g,3,[v(),b?[]:void 0,T]):v(),u==="sync"){const x=useSSRContext();E=x.__watcherHandles||(x.__watcherHandles=[])}else return NOOP;let P=b?new Array(s.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const C=()=>{if(!!N.active)if(a){const x=N.run();(c||y||(b?x.some((A,L)=>hasChanged(A,P[L])):hasChanged(x,P)))&&(_&&_(),callWithAsyncErrorHandling(a,g,3,[x,P===INITIAL_WATCHER_VALUE?void 0:b&&P[0]===INITIAL_WATCHER_VALUE?[]:P,T]),P=x)}else N.run()};C.allowRecurse=!!a;let S;u==="sync"?S=C:u==="post"?S=()=>queuePostRenderEffect(C,g&&g.suspense):(C.pre=!0,g&&(C.id=g.uid),S=()=>queueJob(C));const N=new ReactiveEffect(v,S);a?l?C():P=N.run():u==="post"?queuePostRenderEffect(N.run.bind(N),g&&g.suspense):N.run();const O=()=>{N.stop(),g&&g.scope&&remove(g.scope.effects,N)};return E&&E.push(O),O}function instanceWatch(s,a,l){const c=this.proxy,u=isString$3(s)?s.includes(".")?createPathGetter(c,s):()=>c[s]:s.bind(c,c);let d;isFunction$2(a)?d=a:(d=a.handler,l=a);const f=currentInstance;setCurrentInstance(this);const m=doWatch(u,d.bind(c),l);return f?setCurrentInstance(f):unsetCurrentInstance(),m}function createPathGetter(s,a){const l=a.split(".");return()=>{let c=s;for(let u=0;u<l.length&&c;u++)c=c[l[u]];return c}}function traverse(s,a){if(!isObject$6(s)||s.__v_skip||(a=a||new Set,a.has(s)))return s;if(a.add(s),isRef(s))traverse(s.value,a);else if(isArray$4(s))for(let l=0;l<s.length;l++)traverse(s[l],a);else if(isSet(s)||isMap(s))s.forEach(l=>{traverse(l,a)});else if(isPlainObject$3(s))for(const l in s)traverse(s[l],a);return s}function withDirectives(s,a){const l=currentRenderingInstance;if(l===null)return s;const c=getExposeProxy(l)||l.proxy,u=s.dirs||(s.dirs=[]);for(let d=0;d<a.length;d++){let[f,m,g,v=EMPTY_OBJ]=a[d];f&&(isFunction$2(f)&&(f={mounted:f,updated:f}),f.deep&&traverse(m),u.push({dir:f,instance:c,value:m,oldValue:void 0,arg:g,modifiers:v}))}return s}function invokeDirectiveHook(s,a,l,c){const u=s.dirs,d=a&&a.dirs;for(let f=0;f<u.length;f++){const m=u[f];d&&(m.oldValue=d[f].value);let g=m.dir[c];g&&(pauseTracking(),callWithAsyncErrorHandling(g,l,8,[s.el,m,s,a]),resetTracking())}}function useTransitionState(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{s.isMounted=!0}),onBeforeUnmount(()=>{s.isUnmounting=!0}),s}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(s,{slots:a}){const l=getCurrentInstance(),c=useTransitionState();let u;return()=>{const d=a.default&&getTransitionRawChildren(a.default(),!0);if(!d||!d.length)return;let f=d[0];if(d.length>1){for(const P of d)if(P.type!==Comment){f=P;break}}const m=toRaw(s),{mode:g}=m;if(c.isLeaving)return emptyPlaceholder(f);const v=getKeepAliveChild(f);if(!v)return emptyPlaceholder(f);const y=resolveTransitionHooks(v,m,c,l);setTransitionHooks(v,y);const b=l.subTree,_=b&&getKeepAliveChild(b);let T=!1;const{getTransitionKey:E}=v.type;if(E){const P=E();u===void 0?u=P:P!==u&&(u=P,T=!0)}if(_&&_.type!==Comment&&(!isSameVNodeType(v,_)||T)){const P=resolveTransitionHooks(_,m,c,l);if(setTransitionHooks(_,P),g==="out-in")return c.isLeaving=!0,P.afterLeave=()=>{c.isLeaving=!1,l.update.active!==!1&&l.update()},emptyPlaceholder(f);g==="in-out"&&v.type!==Comment&&(P.delayLeave=(C,S,N)=>{const O=getLeavingNodesForType(c,_);O[String(_.key)]=_,C._leaveCb=()=>{S(),C._leaveCb=void 0,delete y.delayedLeave},y.delayedLeave=N})}return f}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(s,a){const{leavingVNodes:l}=s;let c=l.get(a.type);return c||(c=Object.create(null),l.set(a.type,c)),c}function resolveTransitionHooks(s,a,l,c){const{appear:u,mode:d,persisted:f=!1,onBeforeEnter:m,onEnter:g,onAfterEnter:v,onEnterCancelled:y,onBeforeLeave:b,onLeave:_,onAfterLeave:T,onLeaveCancelled:E,onBeforeAppear:P,onAppear:C,onAfterAppear:S,onAppearCancelled:N}=a,O=String(s.key),x=getLeavingNodesForType(l,s),A=(B,M)=>{B&&callWithAsyncErrorHandling(B,c,9,M)},L=(B,M)=>{const K=M[1];A(B,M),isArray$4(B)?B.every(Y=>Y.length<=1)&&K():B.length<=1&&K()},$={mode:d,persisted:f,beforeEnter(B){let M=m;if(!l.isMounted)if(u)M=P||m;else return;B._leaveCb&&B._leaveCb(!0);const K=x[O];K&&isSameVNodeType(s,K)&&K.el._leaveCb&&K.el._leaveCb(),A(M,[B])},enter(B){let M=g,K=v,Y=y;if(!l.isMounted)if(u)M=C||g,K=S||v,Y=N||y;else return;let U=!1;const Z=B._enterCb=q=>{U||(U=!0,q?A(Y,[B]):A(K,[B]),$.delayedLeave&&$.delayedLeave(),B._enterCb=void 0)};M?L(M,[B,Z]):Z()},leave(B,M){const K=String(s.key);if(B._enterCb&&B._enterCb(!0),l.isUnmounting)return M();A(b,[B]);let Y=!1;const U=B._leaveCb=Z=>{Y||(Y=!0,M(),Z?A(E,[B]):A(T,[B]),B._leaveCb=void 0,x[K]===s&&delete x[K])};x[K]=s,_?L(_,[B,U]):U()},clone(B){return resolveTransitionHooks(B,a,l,c)}};return $}function emptyPlaceholder(s){if(isKeepAlive(s))return s=cloneVNode(s),s.children=null,s}function getKeepAliveChild(s){return isKeepAlive(s)?s.children?s.children[0]:void 0:s}function setTransitionHooks(s,a){s.shapeFlag&6&&s.component?setTransitionHooks(s.component.subTree,a):s.shapeFlag&128?(s.ssContent.transition=a.clone(s.ssContent),s.ssFallback.transition=a.clone(s.ssFallback)):s.transition=a}function getTransitionRawChildren(s,a=!1,l){let c=[],u=0;for(let d=0;d<s.length;d++){let f=s[d];const m=l==null?f.key:String(l)+String(f.key!=null?f.key:d);f.type===Fragment?(f.patchFlag&128&&u++,c=c.concat(getTransitionRawChildren(f.children,a,m))):(a||f.type!==Comment)&&c.push(m!=null?cloneVNode(f,{key:m}):f)}if(u>1)for(let d=0;d<c.length;d++)c[d].patchFlag=-2;return c}function defineComponent(s,a){return isFunction$2(s)?(()=>extend$2({name:s.name},a,{setup:s}))():s}const isAsyncWrapper=s=>!!s.type.__asyncLoader,isKeepAlive=s=>s.type.__isKeepAlive;function onActivated(s,a){registerKeepAliveHook(s,"a",a)}function onDeactivated(s,a){registerKeepAliveHook(s,"da",a)}function registerKeepAliveHook(s,a,l=currentInstance){const c=s.__wdc||(s.__wdc=()=>{let u=l;for(;u;){if(u.isDeactivated)return;u=u.parent}return s()});if(injectHook(a,c,l),l){let u=l.parent;for(;u&&u.parent;)isKeepAlive(u.parent.vnode)&&injectToKeepAliveRoot(c,a,l,u),u=u.parent}}function injectToKeepAliveRoot(s,a,l,c){const u=injectHook(a,s,c,!0);onUnmounted(()=>{remove(c[a],u)},l)}function injectHook(s,a,l=currentInstance,c=!1){if(l){const u=l[s]||(l[s]=[]),d=a.__weh||(a.__weh=(...f)=>{if(l.isUnmounted)return;pauseTracking(),setCurrentInstance(l);const m=callWithAsyncErrorHandling(a,l,s,f);return unsetCurrentInstance(),resetTracking(),m});return c?u.unshift(d):u.push(d),d}}const createHook=s=>(a,l=currentInstance)=>(!isInSSRComponentSetup||s==="sp")&&injectHook(s,(...c)=>a(...c),l),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(s,a=currentInstance){injectHook("ec",s,a)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(s,a){return resolveAsset(COMPONENTS,s,!0,a)||s}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(s){return isString$3(s)?resolveAsset(COMPONENTS,s,!1)||s:s||NULL_DYNAMIC_COMPONENT}function resolveDirective(s){return resolveAsset(DIRECTIVES,s)}function resolveAsset(s,a,l=!0,c=!1){const u=currentRenderingInstance||currentInstance;if(u){const d=u.type;if(s===COMPONENTS){const m=getComponentName(d,!1);if(m&&(m===a||m===camelize(a)||m===capitalize$1(camelize(a))))return d}const f=resolve(u[s]||d[s],a)||resolve(u.appContext[s],a);return!f&&c?d:f}}function resolve(s,a){return s&&(s[a]||s[camelize(a)]||s[capitalize$1(camelize(a))])}function renderList(s,a,l,c){let u;const d=l&&l[c];if(isArray$4(s)||isString$3(s)){u=new Array(s.length);for(let f=0,m=s.length;f<m;f++)u[f]=a(s[f],f,void 0,d&&d[f])}else if(typeof s=="number"){u=new Array(s);for(let f=0;f<s;f++)u[f]=a(f+1,f,void 0,d&&d[f])}else if(isObject$6(s))if(s[Symbol.iterator])u=Array.from(s,(f,m)=>a(f,m,void 0,d&&d[m]));else{const f=Object.keys(s);u=new Array(f.length);for(let m=0,g=f.length;m<g;m++){const v=f[m];u[m]=a(s[v],v,m,d&&d[m])}}else u=[];return l&&(l[c]=u),u}function createSlots(s,a){for(let l=0;l<a.length;l++){const c=a[l];if(isArray$4(c))for(let u=0;u<c.length;u++)s[c[u].name]=c[u].fn;else c&&(s[c.name]=c.key?(...u)=>{const d=c.fn(...u);return d&&(d.key=c.key),d}:c.fn)}return s}function renderSlot(s,a,l={},c,u){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return a!=="default"&&(l.name=a),createVNode("slot",l,c&&c());let d=s[a];d&&d._c&&(d._d=!1),openBlock();const f=d&&ensureValidVNode(d(l)),m=createBlock(Fragment,{key:l.key||f&&f.key||`_${a}`},f||(c?c():[]),f&&s._===1?64:-2);return!u&&m.scopeId&&(m.slotScopeIds=[m.scopeId+"-s"]),d&&d._c&&(d._d=!0),m}function ensureValidVNode(s){return s.some(a=>isVNode$1(a)?!(a.type===Comment||a.type===Fragment&&!ensureValidVNode(a.children)):!0)?s:null}const getPublicInstance=s=>s?isStatefulComponent(s)?getExposeProxy(s)||s.proxy:getPublicInstance(s.parent):null,publicPropertiesMap=extend$2(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>getPublicInstance(s.parent),$root:s=>getPublicInstance(s.root),$emit:s=>s.emit,$options:s=>resolveMergedOptions(s),$forceUpdate:s=>s.f||(s.f=()=>queueJob(s.update)),$nextTick:s=>s.n||(s.n=nextTick.bind(s.proxy)),$watch:s=>instanceWatch.bind(s)}),hasSetupBinding=(s,a)=>s!==EMPTY_OBJ&&!s.__isScriptSetup&&hasOwn$2(s,a),PublicInstanceProxyHandlers={get({_:s},a){const{ctx:l,setupState:c,data:u,props:d,accessCache:f,type:m,appContext:g}=s;let v;if(a[0]!=="$"){const T=f[a];if(T!==void 0)switch(T){case 1:return c[a];case 2:return u[a];case 4:return l[a];case 3:return d[a]}else{if(hasSetupBinding(c,a))return f[a]=1,c[a];if(u!==EMPTY_OBJ&&hasOwn$2(u,a))return f[a]=2,u[a];if((v=s.propsOptions[0])&&hasOwn$2(v,a))return f[a]=3,d[a];if(l!==EMPTY_OBJ&&hasOwn$2(l,a))return f[a]=4,l[a];shouldCacheAccess&&(f[a]=0)}}const y=publicPropertiesMap[a];let b,_;if(y)return a==="$attrs"&&track(s,"get",a),y(s);if((b=m.__cssModules)&&(b=b[a]))return b;if(l!==EMPTY_OBJ&&hasOwn$2(l,a))return f[a]=4,l[a];if(_=g.config.globalProperties,hasOwn$2(_,a))return _[a]},set({_:s},a,l){const{data:c,setupState:u,ctx:d}=s;return hasSetupBinding(u,a)?(u[a]=l,!0):c!==EMPTY_OBJ&&hasOwn$2(c,a)?(c[a]=l,!0):hasOwn$2(s.props,a)||a[0]==="$"&&a.slice(1)in s?!1:(d[a]=l,!0)},has({_:{data:s,setupState:a,accessCache:l,ctx:c,appContext:u,propsOptions:d}},f){let m;return!!l[f]||s!==EMPTY_OBJ&&hasOwn$2(s,f)||hasSetupBinding(a,f)||(m=d[0])&&hasOwn$2(m,f)||hasOwn$2(c,f)||hasOwn$2(publicPropertiesMap,f)||hasOwn$2(u.config.globalProperties,f)},defineProperty(s,a,l){return l.get!=null?s._.accessCache[a]=0:hasOwn$2(l,"value")&&this.set(s,a,l.value,null),Reflect.defineProperty(s,a,l)}};function useSlots(){return getContext().slots}function getContext(){const s=getCurrentInstance();return s.setupContext||(s.setupContext=createSetupContext(s))}function normalizePropsOrEmits(s){return isArray$4(s)?s.reduce((a,l)=>(a[l]=null,a),{}):s}let shouldCacheAccess=!0;function applyOptions(s){const a=resolveMergedOptions(s),l=s.proxy,c=s.ctx;shouldCacheAccess=!1,a.beforeCreate&&callHook$1(a.beforeCreate,s,"bc");const{data:u,computed:d,methods:f,watch:m,provide:g,inject:v,created:y,beforeMount:b,mounted:_,beforeUpdate:T,updated:E,activated:P,deactivated:C,beforeDestroy:S,beforeUnmount:N,destroyed:O,unmounted:x,render:A,renderTracked:L,renderTriggered:$,errorCaptured:B,serverPrefetch:M,expose:K,inheritAttrs:Y,components:U,directives:Z,filters:q}=a;if(v&&resolveInjections(v,c,null),f)for(const oe in f){const se=f[oe];isFunction$2(se)&&(c[oe]=se.bind(l))}if(u){const oe=u.call(l,l);isObject$6(oe)&&(s.data=reactive(oe))}if(shouldCacheAccess=!0,d)for(const oe in d){const se=d[oe],fe=isFunction$2(se)?se.bind(l,l):isFunction$2(se.get)?se.get.bind(l,l):NOOP,pe=!isFunction$2(se)&&isFunction$2(se.set)?se.set.bind(l):NOOP,me=computed({get:fe,set:pe});Object.defineProperty(c,oe,{enumerable:!0,configurable:!0,get:()=>me.value,set:de=>me.value=de})}if(m)for(const oe in m)createWatcher(m[oe],c,l,oe);if(g){const oe=isFunction$2(g)?g.call(l):g;Reflect.ownKeys(oe).forEach(se=>{provide(se,oe[se])})}y&&callHook$1(y,s,"c");function ae(oe,se){isArray$4(se)?se.forEach(fe=>oe(fe.bind(l))):se&&oe(se.bind(l))}if(ae(onBeforeMount,b),ae(onMounted,_),ae(onBeforeUpdate,T),ae(onUpdated,E),ae(onActivated,P),ae(onDeactivated,C),ae(onErrorCaptured,B),ae(onRenderTracked,L),ae(onRenderTriggered,$),ae(onBeforeUnmount,N),ae(onUnmounted,x),ae(onServerPrefetch,M),isArray$4(K))if(K.length){const oe=s.exposed||(s.exposed={});K.forEach(se=>{Object.defineProperty(oe,se,{get:()=>l[se],set:fe=>l[se]=fe})})}else s.exposed||(s.exposed={});A&&s.render===NOOP&&(s.render=A),Y!=null&&(s.inheritAttrs=Y),U&&(s.components=U),Z&&(s.directives=Z)}function resolveInjections(s,a,l=NOOP){isArray$4(s)&&(s=normalizeInject(s));for(const c in s){const u=s[c];let d;isObject$6(u)?"default"in u?d=inject(u.from||c,u.default,!0):d=inject(u.from||c):d=inject(u),isRef(d)?Object.defineProperty(a,c,{enumerable:!0,configurable:!0,get:()=>d.value,set:f=>d.value=f}):a[c]=d}}function callHook$1(s,a,l){callWithAsyncErrorHandling(isArray$4(s)?s.map(c=>c.bind(a.proxy)):s.bind(a.proxy),a,l)}function createWatcher(s,a,l,c){const u=c.includes(".")?createPathGetter(l,c):()=>l[c];if(isString$3(s)){const d=a[s];isFunction$2(d)&&watch(u,d)}else if(isFunction$2(s))watch(u,s.bind(l));else if(isObject$6(s))if(isArray$4(s))s.forEach(d=>createWatcher(d,a,l,c));else{const d=isFunction$2(s.handler)?s.handler.bind(l):a[s.handler];isFunction$2(d)&&watch(u,d,s)}}function resolveMergedOptions(s){const a=s.type,{mixins:l,extends:c}=a,{mixins:u,optionsCache:d,config:{optionMergeStrategies:f}}=s.appContext,m=d.get(a);let g;return m?g=m:!u.length&&!l&&!c?g=a:(g={},u.length&&u.forEach(v=>mergeOptions$1(g,v,f,!0)),mergeOptions$1(g,a,f)),isObject$6(a)&&d.set(a,g),g}function mergeOptions$1(s,a,l,c=!1){const{mixins:u,extends:d}=a;d&&mergeOptions$1(s,d,l,!0),u&&u.forEach(f=>mergeOptions$1(s,f,l,!0));for(const f in a)if(!(c&&f==="expose")){const m=internalOptionMergeStrats[f]||l&&l[f];s[f]=m?m(s[f],a[f]):a[f]}return s}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(s,a){return a?s?function(){return extend$2(isFunction$2(s)?s.call(this,this):s,isFunction$2(a)?a.call(this,this):a)}:a:s}function mergeInject(s,a){return mergeObjectOptions(normalizeInject(s),normalizeInject(a))}function normalizeInject(s){if(isArray$4(s)){const a={};for(let l=0;l<s.length;l++)a[s[l]]=s[l];return a}return s}function mergeAsArray(s,a){return s?[...new Set([].concat(s,a))]:a}function mergeObjectOptions(s,a){return s?extend$2(Object.create(null),s,a):a}function mergeEmitsOrPropsOptions(s,a){return s?isArray$4(s)&&isArray$4(a)?[...new Set([...s,...a])]:extend$2(Object.create(null),normalizePropsOrEmits(s),normalizePropsOrEmits(a!=null?a:{})):a}function mergeWatchOptions(s,a){if(!s)return a;if(!a)return s;const l=extend$2(Object.create(null),s);for(const c in a)l[c]=mergeAsArray(s[c],a[c]);return l}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1$1=0;function createAppAPI(s,a){return function(c,u=null){isFunction$2(c)||(c=extend$2({},c)),u!=null&&!isObject$6(u)&&(u=null);const d=createAppContext(),f=new Set;let m=!1;const g=d.app={_uid:uid$1$1++,_component:c,_props:u,_container:null,_context:d,_instance:null,version,get config(){return d.config},set config(v){},use(v,...y){return f.has(v)||(v&&isFunction$2(v.install)?(f.add(v),v.install(g,...y)):isFunction$2(v)&&(f.add(v),v(g,...y))),g},mixin(v){return d.mixins.includes(v)||d.mixins.push(v),g},component(v,y){return y?(d.components[v]=y,g):d.components[v]},directive(v,y){return y?(d.directives[v]=y,g):d.directives[v]},mount(v,y,b){if(!m){const _=createVNode(c,u);return _.appContext=d,y&&a?a(_,v):s(_,v,b),m=!0,g._container=v,v.__vue_app__=g,getExposeProxy(_.component)||_.component.proxy}},unmount(){m&&(s(null,g._container),delete g._container.__vue_app__)},provide(v,y){return d.provides[v]=y,g},runWithContext(v){currentApp=g;try{return v()}finally{currentApp=null}}};return g}}let currentApp=null;function provide(s,a){if(currentInstance){let l=currentInstance.provides;const c=currentInstance.parent&&currentInstance.parent.provides;c===l&&(l=currentInstance.provides=Object.create(c)),l[s]=a}}function inject(s,a,l=!1){const c=currentInstance||currentRenderingInstance;if(c||currentApp){const u=c?c.parent==null?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides:currentApp._context.provides;if(u&&s in u)return u[s];if(arguments.length>1)return l&&isFunction$2(a)?a.call(c&&c.proxy):a}}function initProps(s,a,l,c=!1){const u={},d={};def(d,InternalObjectKey,1),s.propsDefaults=Object.create(null),setFullProps(s,a,u,d);for(const f in s.propsOptions[0])f in u||(u[f]=void 0);l?s.props=c?u:shallowReactive(u):s.type.props?s.props=u:s.props=d,s.attrs=d}function updateProps(s,a,l,c){const{props:u,attrs:d,vnode:{patchFlag:f}}=s,m=toRaw(u),[g]=s.propsOptions;let v=!1;if((c||f>0)&&!(f&16)){if(f&8){const y=s.vnode.dynamicProps;for(let b=0;b<y.length;b++){let _=y[b];if(isEmitListener(s.emitsOptions,_))continue;const T=a[_];if(g)if(hasOwn$2(d,_))T!==d[_]&&(d[_]=T,v=!0);else{const E=camelize(_);u[E]=resolvePropValue(g,m,E,T,s,!1)}else T!==d[_]&&(d[_]=T,v=!0)}}}else{setFullProps(s,a,u,d)&&(v=!0);let y;for(const b in m)(!a||!hasOwn$2(a,b)&&((y=hyphenate(b))===b||!hasOwn$2(a,y)))&&(g?l&&(l[b]!==void 0||l[y]!==void 0)&&(u[b]=resolvePropValue(g,m,b,void 0,s,!0)):delete u[b]);if(d!==m)for(const b in d)(!a||!hasOwn$2(a,b)&&!0)&&(delete d[b],v=!0)}v&&trigger(s,"set","$attrs")}function setFullProps(s,a,l,c){const[u,d]=s.propsOptions;let f=!1,m;if(a)for(let g in a){if(isReservedProp(g))continue;const v=a[g];let y;u&&hasOwn$2(u,y=camelize(g))?!d||!d.includes(y)?l[y]=v:(m||(m={}))[y]=v:isEmitListener(s.emitsOptions,g)||(!(g in c)||v!==c[g])&&(c[g]=v,f=!0)}if(d){const g=toRaw(l),v=m||EMPTY_OBJ;for(let y=0;y<d.length;y++){const b=d[y];l[b]=resolvePropValue(u,g,b,v[b],s,!hasOwn$2(v,b))}}return f}function resolvePropValue(s,a,l,c,u,d){const f=s[l];if(f!=null){const m=hasOwn$2(f,"default");if(m&&c===void 0){const g=f.default;if(f.type!==Function&&!f.skipFactory&&isFunction$2(g)){const{propsDefaults:v}=u;l in v?c=v[l]:(setCurrentInstance(u),c=v[l]=g.call(null,a),unsetCurrentInstance())}else c=g}f[0]&&(d&&!m?c=!1:f[1]&&(c===""||c===hyphenate(l))&&(c=!0))}return c}function normalizePropsOptions(s,a,l=!1){const c=a.propsCache,u=c.get(s);if(u)return u;const d=s.props,f={},m=[];let g=!1;if(!isFunction$2(s)){const y=b=>{g=!0;const[_,T]=normalizePropsOptions(b,a,!0);extend$2(f,_),T&&m.push(...T)};!l&&a.mixins.length&&a.mixins.forEach(y),s.extends&&y(s.extends),s.mixins&&s.mixins.forEach(y)}if(!d&&!g)return isObject$6(s)&&c.set(s,EMPTY_ARR),EMPTY_ARR;if(isArray$4(d))for(let y=0;y<d.length;y++){const b=camelize(d[y]);validatePropName(b)&&(f[b]=EMPTY_OBJ)}else if(d)for(const y in d){const b=camelize(y);if(validatePropName(b)){const _=d[y],T=f[b]=isArray$4(_)||isFunction$2(_)?{type:_}:extend$2({},_);if(T){const E=getTypeIndex(Boolean,T.type),P=getTypeIndex(String,T.type);T[0]=E>-1,T[1]=P<0||E<P,(E>-1||hasOwn$2(T,"default"))&&m.push(b)}}}const v=[f,m];return isObject$6(s)&&c.set(s,v),v}function validatePropName(s){return s[0]!=="$"}function getType(s){const a=s&&s.toString().match(/^\s*(function|class) (\w+)/);return a?a[2]:s===null?"null":""}function isSameType(s,a){return getType(s)===getType(a)}function getTypeIndex(s,a){return isArray$4(a)?a.findIndex(l=>isSameType(l,s)):isFunction$2(a)&&isSameType(a,s)?0:-1}const isInternalKey=s=>s[0]==="_"||s==="$stable",normalizeSlotValue=s=>isArray$4(s)?s.map(normalizeVNode):[normalizeVNode(s)],normalizeSlot$1=(s,a,l)=>{if(a._n)return a;const c=withCtx((...u)=>normalizeSlotValue(a(...u)),l);return c._c=!1,c},normalizeObjectSlots=(s,a,l)=>{const c=s._ctx;for(const u in s){if(isInternalKey(u))continue;const d=s[u];if(isFunction$2(d))a[u]=normalizeSlot$1(u,d,c);else if(d!=null){const f=normalizeSlotValue(d);a[u]=()=>f}}},normalizeVNodeSlots=(s,a)=>{const l=normalizeSlotValue(a);s.slots.default=()=>l},initSlots=(s,a)=>{if(s.vnode.shapeFlag&32){const l=a._;l?(s.slots=toRaw(a),def(a,"_",l)):normalizeObjectSlots(a,s.slots={})}else s.slots={},a&&normalizeVNodeSlots(s,a);def(s.slots,InternalObjectKey,1)},updateSlots=(s,a,l)=>{const{vnode:c,slots:u}=s;let d=!0,f=EMPTY_OBJ;if(c.shapeFlag&32){const m=a._;m?l&&m===1?d=!1:(extend$2(u,a),!l&&m===1&&delete u._):(d=!a.$stable,normalizeObjectSlots(a,u)),f=a}else a&&(normalizeVNodeSlots(s,a),f={default:1});if(d)for(const m in u)!isInternalKey(m)&&!(m in f)&&delete u[m]};function setRef(s,a,l,c,u=!1){if(isArray$4(s)){s.forEach((_,T)=>setRef(_,a&&(isArray$4(a)?a[T]:a),l,c,u));return}if(isAsyncWrapper(c)&&!u)return;const d=c.shapeFlag&4?getExposeProxy(c.component)||c.component.proxy:c.el,f=u?null:d,{i:m,r:g}=s,v=a&&a.r,y=m.refs===EMPTY_OBJ?m.refs={}:m.refs,b=m.setupState;if(v!=null&&v!==g&&(isString$3(v)?(y[v]=null,hasOwn$2(b,v)&&(b[v]=null)):isRef(v)&&(v.value=null)),isFunction$2(g))callWithErrorHandling(g,m,12,[f,y]);else{const _=isString$3(g),T=isRef(g);if(_||T){const E=()=>{if(s.f){const P=_?hasOwn$2(b,g)?b[g]:y[g]:g.value;u?isArray$4(P)&&remove(P,d):isArray$4(P)?P.includes(d)||P.push(d):_?(y[g]=[d],hasOwn$2(b,g)&&(b[g]=y[g])):(g.value=[d],s.k&&(y[s.k]=g.value))}else _?(y[g]=f,hasOwn$2(b,g)&&(b[g]=f)):T&&(g.value=f,s.k&&(y[s.k]=f))};f?(E.id=-1,queuePostRenderEffect(E,l)):E()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(s){return baseCreateRenderer(s)}function baseCreateRenderer(s,a){const l=getGlobalThis$1();l.__VUE__=!0;const{insert:c,remove:u,patchProp:d,createElement:f,createText:m,createComment:g,setText:v,setElementText:y,parentNode:b,nextSibling:_,setScopeId:T=NOOP,insertStaticContent:E}=s,P=(R,w,k,I=null,F=null,H=null,W=!1,z=null,J=!!w.dynamicChildren)=>{if(R===w)return;R&&!isSameVNodeType(R,w)&&(I=j(R),de(R,F,H,!0),R=null),w.patchFlag===-2&&(J=!1,w.dynamicChildren=null);const{type:G,ref:ee,shapeFlag:D}=w;switch(G){case Text:C(R,w,k,I);break;case Comment:S(R,w,k,I);break;case Static:R==null&&N(w,k,I,W);break;case Fragment:U(R,w,k,I,F,H,W,z,J);break;default:D&1?A(R,w,k,I,F,H,W,z,J):D&6?Z(R,w,k,I,F,H,W,z,J):(D&64||D&128)&&G.process(R,w,k,I,F,H,W,z,J,X)}ee!=null&&F&&setRef(ee,R&&R.ref,H,w||R,!w)},C=(R,w,k,I)=>{if(R==null)c(w.el=m(w.children),k,I);else{const F=w.el=R.el;w.children!==R.children&&v(F,w.children)}},S=(R,w,k,I)=>{R==null?c(w.el=g(w.children||""),k,I):w.el=R.el},N=(R,w,k,I)=>{[R.el,R.anchor]=E(R.children,w,k,I,R.el,R.anchor)},O=({el:R,anchor:w},k,I)=>{let F;for(;R&&R!==w;)F=_(R),c(R,k,I),R=F;c(w,k,I)},x=({el:R,anchor:w})=>{let k;for(;R&&R!==w;)k=_(R),u(R),R=k;u(w)},A=(R,w,k,I,F,H,W,z,J)=>{W=W||w.type==="svg",R==null?L(w,k,I,F,H,W,z,J):M(R,w,F,H,W,z,J)},L=(R,w,k,I,F,H,W,z)=>{let J,G;const{type:ee,props:D,shapeFlag:V,transition:re,dirs:ie}=R;if(J=R.el=f(R.type,H,D&&D.is,D),V&8?y(J,R.children):V&16&&B(R.children,J,null,I,F,H&&ee!=="foreignObject",W,z),ie&&invokeDirectiveHook(R,null,I,"created"),$(J,R,R.scopeId,W,I),D){for(const ce in D)ce!=="value"&&!isReservedProp(ce)&&d(J,ce,null,D[ce],H,R.children,I,F,ve);"value"in D&&d(J,"value",null,D.value),(G=D.onVnodeBeforeMount)&&invokeVNodeHook(G,I,R)}ie&&invokeDirectiveHook(R,null,I,"beforeMount");const ue=(!F||F&&!F.pendingBranch)&&re&&!re.persisted;ue&&re.beforeEnter(J),c(J,w,k),((G=D&&D.onVnodeMounted)||ue||ie)&&queuePostRenderEffect(()=>{G&&invokeVNodeHook(G,I,R),ue&&re.enter(J),ie&&invokeDirectiveHook(R,null,I,"mounted")},F)},$=(R,w,k,I,F)=>{if(k&&T(R,k),I)for(let H=0;H<I.length;H++)T(R,I[H]);if(F){let H=F.subTree;if(w===H){const W=F.vnode;$(R,W,W.scopeId,W.slotScopeIds,F.parent)}}},B=(R,w,k,I,F,H,W,z,J=0)=>{for(let G=J;G<R.length;G++){const ee=R[G]=z?cloneIfMounted(R[G]):normalizeVNode(R[G]);P(null,ee,w,k,I,F,H,W,z)}},M=(R,w,k,I,F,H,W)=>{const z=w.el=R.el;let{patchFlag:J,dynamicChildren:G,dirs:ee}=w;J|=R.patchFlag&16;const D=R.props||EMPTY_OBJ,V=w.props||EMPTY_OBJ;let re;k&&toggleRecurse(k,!1),(re=V.onVnodeBeforeUpdate)&&invokeVNodeHook(re,k,w,R),ee&&invokeDirectiveHook(w,R,k,"beforeUpdate"),k&&toggleRecurse(k,!0);const ie=F&&w.type!=="foreignObject";if(G?K(R.dynamicChildren,G,z,k,I,ie,H):W||se(R,w,z,null,k,I,ie,H,!1),J>0){if(J&16)Y(z,w,D,V,k,I,F);else if(J&2&&D.class!==V.class&&d(z,"class",null,V.class,F),J&4&&d(z,"style",D.style,V.style,F),J&8){const ue=w.dynamicProps;for(let ce=0;ce<ue.length;ce++){const he=ue[ce],be=D[he],Pe=V[he];(Pe!==be||he==="value")&&d(z,he,be,Pe,F,R.children,k,I,ve)}}J&1&&R.children!==w.children&&y(z,w.children)}else!W&&G==null&&Y(z,w,D,V,k,I,F);((re=V.onVnodeUpdated)||ee)&&queuePostRenderEffect(()=>{re&&invokeVNodeHook(re,k,w,R),ee&&invokeDirectiveHook(w,R,k,"updated")},I)},K=(R,w,k,I,F,H,W)=>{for(let z=0;z<w.length;z++){const J=R[z],G=w[z],ee=J.el&&(J.type===Fragment||!isSameVNodeType(J,G)||J.shapeFlag&70)?b(J.el):k;P(J,G,ee,null,I,F,H,W,!0)}},Y=(R,w,k,I,F,H,W)=>{if(k!==I){if(k!==EMPTY_OBJ)for(const z in k)!isReservedProp(z)&&!(z in I)&&d(R,z,k[z],null,W,w.children,F,H,ve);for(const z in I){if(isReservedProp(z))continue;const J=I[z],G=k[z];J!==G&&z!=="value"&&d(R,z,G,J,W,w.children,F,H,ve)}"value"in I&&d(R,"value",k.value,I.value)}},U=(R,w,k,I,F,H,W,z,J)=>{const G=w.el=R?R.el:m(""),ee=w.anchor=R?R.anchor:m("");let{patchFlag:D,dynamicChildren:V,slotScopeIds:re}=w;re&&(z=z?z.concat(re):re),R==null?(c(G,k,I),c(ee,k,I),B(w.children,k,ee,F,H,W,z,J)):D>0&&D&64&&V&&R.dynamicChildren?(K(R.dynamicChildren,V,k,F,H,W,z),(w.key!=null||F&&w===F.subTree)&&traverseStaticChildren(R,w,!0)):se(R,w,k,ee,F,H,W,z,J)},Z=(R,w,k,I,F,H,W,z,J)=>{w.slotScopeIds=z,R==null?w.shapeFlag&512?F.ctx.activate(w,k,I,W,J):q(w,k,I,F,H,W,J):Q(R,w,J)},q=(R,w,k,I,F,H,W)=>{const z=R.component=createComponentInstance(R,I,F);if(isKeepAlive(R)&&(z.ctx.renderer=X),setupComponent(z),z.asyncDep){if(F&&F.registerDep(z,ae),!R.el){const J=z.subTree=createVNode(Comment);S(null,J,w,k)}return}ae(z,R,w,k,F,H,W)},Q=(R,w,k)=>{const I=w.component=R.component;if(shouldUpdateComponent(R,w,k))if(I.asyncDep&&!I.asyncResolved){oe(I,w,k);return}else I.next=w,invalidateJob(I.update),I.update();else w.el=R.el,I.vnode=w},ae=(R,w,k,I,F,H,W)=>{const z=()=>{if(R.isMounted){let{next:ee,bu:D,u:V,parent:re,vnode:ie}=R,ue=ee,ce;toggleRecurse(R,!1),ee?(ee.el=ie.el,oe(R,ee,W)):ee=ie,D&&invokeArrayFns(D),(ce=ee.props&&ee.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ce,re,ee,ie),toggleRecurse(R,!0);const he=renderComponentRoot(R),be=R.subTree;R.subTree=he,P(be,he,b(be.el),j(be),R,F,H),ee.el=he.el,ue===null&&updateHOCHostEl(R,he.el),V&&queuePostRenderEffect(V,F),(ce=ee.props&&ee.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ce,re,ee,ie),F)}else{let ee;const{el:D,props:V}=w,{bm:re,m:ie,parent:ue}=R,ce=isAsyncWrapper(w);if(toggleRecurse(R,!1),re&&invokeArrayFns(re),!ce&&(ee=V&&V.onVnodeBeforeMount)&&invokeVNodeHook(ee,ue,w),toggleRecurse(R,!0),D&&le){const he=()=>{R.subTree=renderComponentRoot(R),le(D,R.subTree,R,F,null)};ce?w.type.__asyncLoader().then(()=>!R.isUnmounted&&he()):he()}else{const he=R.subTree=renderComponentRoot(R);P(null,he,k,I,R,F,H),w.el=he.el}if(ie&&queuePostRenderEffect(ie,F),!ce&&(ee=V&&V.onVnodeMounted)){const he=w;queuePostRenderEffect(()=>invokeVNodeHook(ee,ue,he),F)}(w.shapeFlag&256||ue&&isAsyncWrapper(ue.vnode)&&ue.vnode.shapeFlag&256)&&R.a&&queuePostRenderEffect(R.a,F),R.isMounted=!0,w=k=I=null}},J=R.effect=new ReactiveEffect(z,()=>queueJob(G),R.scope),G=R.update=()=>J.run();G.id=R.uid,toggleRecurse(R,!0),G()},oe=(R,w,k)=>{w.component=R;const I=R.vnode.props;R.vnode=w,R.next=null,updateProps(R,w.props,I,k),updateSlots(R,w.children,k),pauseTracking(),flushPreFlushCbs(),resetTracking()},se=(R,w,k,I,F,H,W,z,J=!1)=>{const G=R&&R.children,ee=R?R.shapeFlag:0,D=w.children,{patchFlag:V,shapeFlag:re}=w;if(V>0){if(V&128){pe(G,D,k,I,F,H,W,z,J);return}else if(V&256){fe(G,D,k,I,F,H,W,z,J);return}}re&8?(ee&16&&ve(G,F,H),D!==G&&y(k,D)):ee&16?re&16?pe(G,D,k,I,F,H,W,z,J):ve(G,F,H,!0):(ee&8&&y(k,""),re&16&&B(D,k,I,F,H,W,z,J))},fe=(R,w,k,I,F,H,W,z,J)=>{R=R||EMPTY_ARR,w=w||EMPTY_ARR;const G=R.length,ee=w.length,D=Math.min(G,ee);let V;for(V=0;V<D;V++){const re=w[V]=J?cloneIfMounted(w[V]):normalizeVNode(w[V]);P(R[V],re,k,null,F,H,W,z,J)}G>ee?ve(R,F,H,!0,!1,D):B(w,k,I,F,H,W,z,J,D)},pe=(R,w,k,I,F,H,W,z,J)=>{let G=0;const ee=w.length;let D=R.length-1,V=ee-1;for(;G<=D&&G<=V;){const re=R[G],ie=w[G]=J?cloneIfMounted(w[G]):normalizeVNode(w[G]);if(isSameVNodeType(re,ie))P(re,ie,k,null,F,H,W,z,J);else break;G++}for(;G<=D&&G<=V;){const re=R[D],ie=w[V]=J?cloneIfMounted(w[V]):normalizeVNode(w[V]);if(isSameVNodeType(re,ie))P(re,ie,k,null,F,H,W,z,J);else break;D--,V--}if(G>D){if(G<=V){const re=V+1,ie=re<ee?w[re].el:I;for(;G<=V;)P(null,w[G]=J?cloneIfMounted(w[G]):normalizeVNode(w[G]),k,ie,F,H,W,z,J),G++}}else if(G>V)for(;G<=D;)de(R[G],F,H,!0),G++;else{const re=G,ie=G,ue=new Map;for(G=ie;G<=V;G++){const Te=w[G]=J?cloneIfMounted(w[G]):normalizeVNode(w[G]);Te.key!=null&&ue.set(Te.key,G)}let ce,he=0;const be=V-ie+1;let Pe=!1,Ne=0;const Se=new Array(be);for(G=0;G<be;G++)Se[G]=0;for(G=re;G<=D;G++){const Te=R[G];if(he>=be){de(Te,F,H,!0);continue}let we;if(Te.key!=null)we=ue.get(Te.key);else for(ce=ie;ce<=V;ce++)if(Se[ce-ie]===0&&isSameVNodeType(Te,w[ce])){we=ce;break}we===void 0?de(Te,F,H,!0):(Se[we-ie]=G+1,we>=Ne?Ne=we:Pe=!0,P(Te,w[we],k,null,F,H,W,z,J),he++)}const Oe=Pe?getSequence(Se):EMPTY_ARR;for(ce=Oe.length-1,G=be-1;G>=0;G--){const Te=ie+G,we=w[Te],Ae=Te+1<ee?w[Te+1].el:I;Se[G]===0?P(null,we,k,Ae,F,H,W,z,J):Pe&&(ce<0||G!==Oe[ce]?me(we,k,Ae,2):ce--)}}},me=(R,w,k,I,F=null)=>{const{el:H,type:W,transition:z,children:J,shapeFlag:G}=R;if(G&6){me(R.component.subTree,w,k,I);return}if(G&128){R.suspense.move(w,k,I);return}if(G&64){W.move(R,w,k,X);return}if(W===Fragment){c(H,w,k);for(let D=0;D<J.length;D++)me(J[D],w,k,I);c(R.anchor,w,k);return}if(W===Static){O(R,w,k);return}if(I!==2&&G&1&&z)if(I===0)z.beforeEnter(H),c(H,w,k),queuePostRenderEffect(()=>z.enter(H),F);else{const{leave:D,delayLeave:V,afterLeave:re}=z,ie=()=>c(H,w,k),ue=()=>{D(H,()=>{ie(),re&&re()})};V?V(H,ie,ue):ue()}else c(H,w,k)},de=(R,w,k,I=!1,F=!1)=>{const{type:H,props:W,ref:z,children:J,dynamicChildren:G,shapeFlag:ee,patchFlag:D,dirs:V}=R;if(z!=null&&setRef(z,null,k,R,!0),ee&256){w.ctx.deactivate(R);return}const re=ee&1&&V,ie=!isAsyncWrapper(R);let ue;if(ie&&(ue=W&&W.onVnodeBeforeUnmount)&&invokeVNodeHook(ue,w,R),ee&6)_e(R.component,k,I);else{if(ee&128){R.suspense.unmount(k,I);return}re&&invokeDirectiveHook(R,null,w,"beforeUnmount"),ee&64?R.type.remove(R,w,k,F,X,I):G&&(H!==Fragment||D>0&&D&64)?ve(G,w,k,!1,!0):(H===Fragment&&D&384||!F&&ee&16)&&ve(J,w,k),I&&ye(R)}(ie&&(ue=W&&W.onVnodeUnmounted)||re)&&queuePostRenderEffect(()=>{ue&&invokeVNodeHook(ue,w,R),re&&invokeDirectiveHook(R,null,w,"unmounted")},k)},ye=R=>{const{type:w,el:k,anchor:I,transition:F}=R;if(w===Fragment){ge(k,I);return}if(w===Static){x(R);return}const H=()=>{u(k),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(R.shapeFlag&1&&F&&!F.persisted){const{leave:W,delayLeave:z}=F,J=()=>W(k,H);z?z(R.el,H,J):J()}else H()},ge=(R,w)=>{let k;for(;R!==w;)k=_(R),u(R),R=k;u(w)},_e=(R,w,k)=>{const{bum:I,scope:F,update:H,subTree:W,um:z}=R;I&&invokeArrayFns(I),F.stop(),H&&(H.active=!1,de(W,R,w,k)),z&&queuePostRenderEffect(z,w),queuePostRenderEffect(()=>{R.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},ve=(R,w,k,I=!1,F=!1,H=0)=>{for(let W=H;W<R.length;W++)de(R[W],w,k,I,F)},j=R=>R.shapeFlag&6?j(R.component.subTree):R.shapeFlag&128?R.suspense.next():_(R.anchor||R.el),te=(R,w,k)=>{R==null?w._vnode&&de(w._vnode,null,null,!0):P(w._vnode||null,R,w,null,null,null,k),flushPreFlushCbs(),flushPostFlushCbs(),w._vnode=R},X={p:P,um:de,m:me,r:ye,mt:q,mc:B,pc:se,pbc:K,n:j,o:s};let ne,le;return a&&([ne,le]=a(X)),{render:te,hydrate:ne,createApp:createAppAPI(te,ne)}}function toggleRecurse({effect:s,update:a},l){s.allowRecurse=a.allowRecurse=l}function traverseStaticChildren(s,a,l=!1){const c=s.children,u=a.children;if(isArray$4(c)&&isArray$4(u))for(let d=0;d<c.length;d++){const f=c[d];let m=u[d];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=u[d]=cloneIfMounted(u[d]),m.el=f.el),l||traverseStaticChildren(f,m)),m.type===Text&&(m.el=f.el)}}function getSequence(s){const a=s.slice(),l=[0];let c,u,d,f,m;const g=s.length;for(c=0;c<g;c++){const v=s[c];if(v!==0){if(u=l[l.length-1],s[u]<v){a[c]=u,l.push(c);continue}for(d=0,f=l.length-1;d<f;)m=d+f>>1,s[l[m]]<v?d=m+1:f=m;v<s[l[d]]&&(d>0&&(a[c]=l[d-1]),l[d]=c)}}for(d=l.length,f=l[d-1];d-- >0;)l[d]=f,f=a[f];return l}const isTeleport=s=>s.__isTeleport,isTeleportDisabled=s=>s&&(s.disabled||s.disabled===""),isTargetSVG=s=>typeof SVGElement!="undefined"&&s instanceof SVGElement,resolveTarget=(s,a)=>{const l=s&&s.to;return isString$3(l)?a?a(l):null:l},TeleportImpl={__isTeleport:!0,process(s,a,l,c,u,d,f,m,g,v){const{mc:y,pc:b,pbc:_,o:{insert:T,querySelector:E,createText:P,createComment:C}}=v,S=isTeleportDisabled(a.props);let{shapeFlag:N,children:O,dynamicChildren:x}=a;if(s==null){const A=a.el=P(""),L=a.anchor=P("");T(A,l,c),T(L,l,c);const $=a.target=resolveTarget(a.props,E),B=a.targetAnchor=P("");$&&(T(B,$),f=f||isTargetSVG($));const M=(K,Y)=>{N&16&&y(O,K,Y,u,d,f,m,g)};S?M(l,L):$&&M($,B)}else{a.el=s.el;const A=a.anchor=s.anchor,L=a.target=s.target,$=a.targetAnchor=s.targetAnchor,B=isTeleportDisabled(s.props),M=B?l:L,K=B?A:$;if(f=f||isTargetSVG(L),x?(_(s.dynamicChildren,x,M,u,d,f,m),traverseStaticChildren(s,a,!0)):g||b(s,a,M,K,u,d,f,m,!1),S)B||moveTeleport(a,l,A,v,1);else if((a.props&&a.props.to)!==(s.props&&s.props.to)){const Y=a.target=resolveTarget(a.props,E);Y&&moveTeleport(a,Y,null,v,0)}else B&&moveTeleport(a,L,$,v,1)}updateCssVars(a)},remove(s,a,l,c,{um:u,o:{remove:d}},f){const{shapeFlag:m,children:g,anchor:v,targetAnchor:y,target:b,props:_}=s;if(b&&d(y),(f||!isTeleportDisabled(_))&&(d(v),m&16))for(let T=0;T<g.length;T++){const E=g[T];u(E,a,l,!0,!!E.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(s,a,l,{o:{insert:c},m:u},d=2){d===0&&c(s.targetAnchor,a,l);const{el:f,anchor:m,shapeFlag:g,children:v,props:y}=s,b=d===2;if(b&&c(f,a,l),(!b||isTeleportDisabled(y))&&g&16)for(let _=0;_<v.length;_++)u(v[_],a,l,2);b&&c(m,a,l)}function hydrateTeleport(s,a,l,c,u,d,{o:{nextSibling:f,parentNode:m,querySelector:g}},v){const y=a.target=resolveTarget(a.props,g);if(y){const b=y._lpa||y.firstChild;if(a.shapeFlag&16)if(isTeleportDisabled(a.props))a.anchor=v(f(s),a,m(s),l,c,u,d),a.targetAnchor=b;else{a.anchor=f(s);let _=b;for(;_;)if(_=f(_),_&&_.nodeType===8&&_.data==="teleport anchor"){a.targetAnchor=_,y._lpa=a.targetAnchor&&f(a.targetAnchor);break}v(b,a,y,l,c,u,d)}updateCssVars(a)}return a.anchor&&f(a.anchor)}const Teleport=TeleportImpl;function updateCssVars(s){const a=s.ctx;if(a&&a.ut){let l=s.children[0].el;for(;l!==s.targetAnchor;)l.nodeType===1&&l.setAttribute("data-v-owner",a.uid),l=l.nextSibling;a.ut()}}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(s=!1){blockStack.push(currentBlock=s?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(s){isBlockTreeEnabled+=s}function setupBlock(s){return s.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(s),s}function createElementBlock(s,a,l,c,u,d){return setupBlock(createBaseVNode(s,a,l,c,u,d,!0))}function createBlock(s,a,l,c,u){return setupBlock(createVNode(s,a,l,c,u,!0))}function isVNode$1(s){return s?s.__v_isVNode===!0:!1}function isSameVNodeType(s,a){return s.type===a.type&&s.key===a.key}const InternalObjectKey="__vInternal",normalizeKey$1=({key:s})=>s!=null?s:null,normalizeRef=({ref:s,ref_key:a,ref_for:l})=>(typeof s=="number"&&(s=""+s),s!=null?isString$3(s)||isRef(s)||isFunction$2(s)?{i:currentRenderingInstance,r:s,k:a,f:!!l}:s:null);function createBaseVNode(s,a=null,l=null,c=0,u=null,d=s===Fragment?0:1,f=!1,m=!1){const g={__v_isVNode:!0,__v_skip:!0,type:s,props:a,key:a&&normalizeKey$1(a),ref:a&&normalizeRef(a),scopeId:currentScopeId,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:c,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return m?(normalizeChildren(g,l),d&128&&s.normalize(g)):l&&(g.shapeFlag|=isString$3(l)?8:16),isBlockTreeEnabled>0&&!f&&currentBlock&&(g.patchFlag>0||d&6)&&g.patchFlag!==32&&currentBlock.push(g),g}const createVNode=_createVNode;function _createVNode(s,a=null,l=null,c=0,u=null,d=!1){if((!s||s===NULL_DYNAMIC_COMPONENT)&&(s=Comment),isVNode$1(s)){const m=cloneVNode(s,a,!0);return l&&normalizeChildren(m,l),isBlockTreeEnabled>0&&!d&&currentBlock&&(m.shapeFlag&6?currentBlock[currentBlock.indexOf(s)]=m:currentBlock.push(m)),m.patchFlag|=-2,m}if(isClassComponent(s)&&(s=s.__vccOpts),a){a=guardReactiveProps(a);let{class:m,style:g}=a;m&&!isString$3(m)&&(a.class=normalizeClass(m)),isObject$6(g)&&(isProxy(g)&&!isArray$4(g)&&(g=extend$2({},g)),a.style=normalizeStyle(g))}const f=isString$3(s)?1:isSuspense(s)?128:isTeleport(s)?64:isObject$6(s)?4:isFunction$2(s)?2:0;return createBaseVNode(s,a,l,c,u,f,d,!0)}function guardReactiveProps(s){return s?isProxy(s)||InternalObjectKey in s?extend$2({},s):s:null}function cloneVNode(s,a,l=!1){const{props:c,ref:u,patchFlag:d,children:f}=s,m=a?mergeProps(c||{},a):c;return{__v_isVNode:!0,__v_skip:!0,type:s.type,props:m,key:m&&normalizeKey$1(m),ref:a&&a.ref?l&&u?isArray$4(u)?u.concat(normalizeRef(a)):[u,normalizeRef(a)]:normalizeRef(a):u,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:f,target:s.target,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:a&&s.type!==Fragment?d===-1?16:d|16:d,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:s.transition,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&cloneVNode(s.ssContent),ssFallback:s.ssFallback&&cloneVNode(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce}}function createTextVNode(s=" ",a=0){return createVNode(Text,null,s,a)}function createStaticVNode(s,a){const l=createVNode(Static,null,s);return l.staticCount=a,l}function createCommentVNode(s="",a=!1){return a?(openBlock(),createBlock(Comment,null,s)):createVNode(Comment,null,s)}function normalizeVNode(s){return s==null||typeof s=="boolean"?createVNode(Comment):isArray$4(s)?createVNode(Fragment,null,s.slice()):typeof s=="object"?cloneIfMounted(s):createVNode(Text,null,String(s))}function cloneIfMounted(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:cloneVNode(s)}function normalizeChildren(s,a){let l=0;const{shapeFlag:c}=s;if(a==null)a=null;else if(isArray$4(a))l=16;else if(typeof a=="object")if(c&65){const u=a.default;u&&(u._c&&(u._d=!1),normalizeChildren(s,u()),u._c&&(u._d=!0));return}else{l=32;const u=a._;!u&&!(InternalObjectKey in a)?a._ctx=currentRenderingInstance:u===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?a._=1:(a._=2,s.patchFlag|=1024))}else isFunction$2(a)?(a={default:a,_ctx:currentRenderingInstance},l=32):(a=String(a),c&64?(l=16,a=[createTextVNode(a)]):l=8);s.children=a,s.shapeFlag|=l}function mergeProps(...s){const a={};for(let l=0;l<s.length;l++){const c=s[l];for(const u in c)if(u==="class")a.class!==c.class&&(a.class=normalizeClass([a.class,c.class]));else if(u==="style")a.style=normalizeStyle([a.style,c.style]);else if(isOn(u)){const d=a[u],f=c[u];f&&d!==f&&!(isArray$4(d)&&d.includes(f))&&(a[u]=d?[].concat(d,f):f)}else u!==""&&(a[u]=c[u])}return a}function invokeVNodeHook(s,a,l,c=null){callWithAsyncErrorHandling(s,a,7,[l,c])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(s,a,l){const c=s.type,u=(a?a.appContext:s.appContext)||emptyAppContext,d={uid:uid$2++,vnode:s,type:c,parent:a,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(c,u),emitsOptions:normalizeEmitsOptions(c,u),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:c.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=a?a.root:d,d.emit=emit.bind(null,d),s.ce&&s.ce(d),d}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis$1()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis$1()[settersKey]=[]),globalCurrentInstanceSetters.push(s=>currentInstance=s),internalSetCurrentInstance=s=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(a=>a(s)):globalCurrentInstanceSetters[0](s)};const setCurrentInstance=s=>{internalSetCurrentInstance(s),s.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(s){return s.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(s,a=!1){isInSSRComponentSetup=a;const{props:l,children:c}=s.vnode,u=isStatefulComponent(s);initProps(s,l,u,a),initSlots(s,c);const d=u?setupStatefulComponent(s,a):void 0;return isInSSRComponentSetup=!1,d}function setupStatefulComponent(s,a){const l=s.type;s.accessCache=Object.create(null),s.proxy=markRaw(new Proxy(s.ctx,PublicInstanceProxyHandlers));const{setup:c}=l;if(c){const u=s.setupContext=c.length>1?createSetupContext(s):null;setCurrentInstance(s),pauseTracking();const d=callWithErrorHandling(c,s,0,[s.props,u]);if(resetTracking(),unsetCurrentInstance(),isPromise(d)){if(d.then(unsetCurrentInstance,unsetCurrentInstance),a)return d.then(f=>{handleSetupResult(s,f,a)}).catch(f=>{handleError(f,s,0)});s.asyncDep=d}else handleSetupResult(s,d,a)}else finishComponentSetup(s,a)}function handleSetupResult(s,a,l){isFunction$2(a)?s.type.__ssrInlineRender?s.ssrRender=a:s.render=a:isObject$6(a)&&(s.setupState=proxyRefs(a)),finishComponentSetup(s,l)}let compile$1;function finishComponentSetup(s,a,l){const c=s.type;if(!s.render){if(!a&&compile$1&&!c.render){const u=c.template||resolveMergedOptions(s).template;if(u){const{isCustomElement:d,compilerOptions:f}=s.appContext.config,{delimiters:m,compilerOptions:g}=c,v=extend$2(extend$2({isCustomElement:d,delimiters:m},f),g);c.render=compile$1(u,v)}}s.render=c.render||NOOP}setCurrentInstance(s),pauseTracking(),applyOptions(s),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(s){return s.attrsProxy||(s.attrsProxy=new Proxy(s.attrs,{get(a,l){return track(s,"get","$attrs"),a[l]}}))}function createSetupContext(s){const a=l=>{s.exposed=l||{}};return{get attrs(){return getAttrsProxy(s)},slots:s.slots,emit:s.emit,expose:a}}function getExposeProxy(s){if(s.exposed)return s.exposeProxy||(s.exposeProxy=new Proxy(proxyRefs(markRaw(s.exposed)),{get(a,l){if(l in a)return a[l];if(l in publicPropertiesMap)return publicPropertiesMap[l](s)},has(a,l){return l in a||l in publicPropertiesMap}}))}function getComponentName(s,a=!0){return isFunction$2(s)?s.displayName||s.name:s.name||a&&s.__name}function isClassComponent(s){return isFunction$2(s)&&"__vccOpts"in s}const computed=(s,a)=>computed$1(s,a,isInSSRComponentSetup);function h(s,a,l){const c=arguments.length;return c===2?isObject$6(a)&&!isArray$4(a)?isVNode$1(a)?createVNode(s,null,[a]):createVNode(s,a):createVNode(s,null,a):(c>3?l=Array.prototype.slice.call(arguments,2):c===3&&isVNode$1(l)&&(l=[l]),createVNode(s,a,l))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(s,a,l)=>{a.insertBefore(s,l||null)},remove:s=>{const a=s.parentNode;a&&a.removeChild(s)},createElement:(s,a,l,c)=>{const u=a?doc.createElementNS(svgNS,s):doc.createElement(s,l?{is:l}:void 0);return s==="select"&&c&&c.multiple!=null&&u.setAttribute("multiple",c.multiple),u},createText:s=>doc.createTextNode(s),createComment:s=>doc.createComment(s),setText:(s,a)=>{s.nodeValue=a},setElementText:(s,a)=>{s.textContent=a},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>doc.querySelector(s),setScopeId(s,a){s.setAttribute(a,"")},insertStaticContent(s,a,l,c,u,d){const f=l?l.previousSibling:a.lastChild;if(u&&(u===d||u.nextSibling))for(;a.insertBefore(u.cloneNode(!0),l),!(u===d||!(u=u.nextSibling)););else{templateContainer.innerHTML=c?`<svg>${s}</svg>`:s;const m=templateContainer.content;if(c){const g=m.firstChild;for(;g.firstChild;)m.appendChild(g.firstChild);m.removeChild(g)}a.insertBefore(m,l)}return[f?f.nextSibling:a.firstChild,l?l.previousSibling:a.lastChild]}};function patchClass(s,a,l){const c=s._vtc;c&&(a=(a?[a,...c]:[...c]).join(" ")),a==null?s.removeAttribute("class"):l?s.setAttribute("class",a):s.className=a}function patchStyle(s,a,l){const c=s.style,u=isString$3(l);if(l&&!u){if(a&&!isString$3(a))for(const d in a)l[d]==null&&setStyle(c,d,"");for(const d in l)setStyle(c,d,l[d])}else{const d=c.display;u?a!==l&&(c.cssText=l):a&&s.removeAttribute("style"),"_vod"in s&&(c.display=d)}}const importantRE=/\s*!important$/;function setStyle(s,a,l){if(isArray$4(l))l.forEach(c=>setStyle(s,a,c));else if(l==null&&(l=""),a.startsWith("--"))s.setProperty(a,l);else{const c=autoPrefix(s,a);importantRE.test(l)?s.setProperty(hyphenate(c),l.replace(importantRE,""),"important"):s[c]=l}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(s,a){const l=prefixCache[a];if(l)return l;let c=camelize(a);if(c!=="filter"&&c in s)return prefixCache[a]=c;c=capitalize$1(c);for(let u=0;u<prefixes.length;u++){const d=prefixes[u]+c;if(d in s)return prefixCache[a]=d}return a}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(s,a,l,c,u){if(c&&a.startsWith("xlink:"))l==null?s.removeAttributeNS(xlinkNS,a.slice(6,a.length)):s.setAttributeNS(xlinkNS,a,l);else{const d=isSpecialBooleanAttr(a);l==null||d&&!includeBooleanAttr(l)?s.removeAttribute(a):s.setAttribute(a,d?"":l)}}function patchDOMProp(s,a,l,c,u,d,f){if(a==="innerHTML"||a==="textContent"){c&&f(c,u,d),s[a]=l==null?"":l;return}const m=s.tagName;if(a==="value"&&m!=="PROGRESS"&&!m.includes("-")){s._value=l;const v=m==="OPTION"?s.getAttribute("value"):s.value,y=l==null?"":l;v!==y&&(s.value=y),l==null&&s.removeAttribute(a);return}let g=!1;if(l===""||l==null){const v=typeof s[a];v==="boolean"?l=includeBooleanAttr(l):l==null&&v==="string"?(l="",g=!0):v==="number"&&(l=0,g=!0)}try{s[a]=l}catch{}g&&s.removeAttribute(a)}function addEventListener$1(s,a,l,c){s.addEventListener(a,l,c)}function removeEventListener(s,a,l,c){s.removeEventListener(a,l,c)}function patchEvent(s,a,l,c,u=null){const d=s._vei||(s._vei={}),f=d[a];if(c&&f)f.value=c;else{const[m,g]=parseName(a);if(c){const v=d[a]=createInvoker(c,u);addEventListener$1(s,m,v,g)}else f&&(removeEventListener(s,m,f,g),d[a]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(s){let a;if(optionsModifierRE.test(s)){a={};let c;for(;c=s.match(optionsModifierRE);)s=s.slice(0,s.length-c[0].length),a[c[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):hyphenate(s.slice(2)),a]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(s,a){const l=c=>{if(!c._vts)c._vts=Date.now();else if(c._vts<=l.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(c,l.value),a,5,[c])};return l.value=s,l.attached=getNow(),l}function patchStopImmediatePropagation(s,a){if(isArray$4(a)){const l=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{l.call(s),s._stopped=!0},a.map(c=>u=>!u._stopped&&c&&c(u))}else return a}const nativeOnRE=/^on[a-z]/,patchProp=(s,a,l,c,u=!1,d,f,m,g)=>{a==="class"?patchClass(s,c,u):a==="style"?patchStyle(s,l,c):isOn(a)?isModelListener(a)||patchEvent(s,a,l,c,f):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):shouldSetAsProp(s,a,c,u))?patchDOMProp(s,a,c,d,f,m,g):(a==="true-value"?s._trueValue=c:a==="false-value"&&(s._falseValue=c),patchAttr(s,a,c,u))};function shouldSetAsProp(s,a,l,c){return c?!!(a==="innerHTML"||a==="textContent"||a in s&&nativeOnRE.test(a)&&isFunction$2(l)):a==="spellcheck"||a==="draggable"||a==="translate"||a==="form"||a==="list"&&s.tagName==="INPUT"||a==="type"&&s.tagName==="TEXTAREA"||nativeOnRE.test(a)&&isString$3(l)?!1:a in s}function useCssVars(s){const a=getCurrentInstance();if(!a)return;const l=a.ut=(u=s(a.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${a.uid}"]`)).forEach(d=>setVarsOnNode(d,u))},c=()=>{const u=s(a.proxy);setVarsOnVNode(a.subTree,u),l(u)};watchPostEffect(c),onMounted(()=>{const u=new MutationObserver(c);u.observe(a.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>u.disconnect())})}function setVarsOnVNode(s,a){if(s.shapeFlag&128){const l=s.suspense;s=l.activeBranch,l.pendingBranch&&!l.isHydrating&&l.effects.push(()=>{setVarsOnVNode(l.activeBranch,a)})}for(;s.component;)s=s.component.subTree;if(s.shapeFlag&1&&s.el)setVarsOnNode(s.el,a);else if(s.type===Fragment)s.children.forEach(l=>setVarsOnVNode(l,a));else if(s.type===Static){let{el:l,anchor:c}=s;for(;l&&(setVarsOnNode(l,a),l!==c);)l=l.nextSibling}}function setVarsOnNode(s,a){if(s.nodeType===1){const l=s.style;for(const c in a)l.setProperty(`--${c}`,a[c])}}const TRANSITION="transition",ANIMATION="animation",Transition=(s,{slots:a})=>h(BaseTransition,resolveTransitionProps(s),a);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$2({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(s,a=[])=>{isArray$4(s)?s.forEach(l=>l(...a)):s&&s(...a)},hasExplicitCallback=s=>s?isArray$4(s)?s.some(a=>a.length>1):s.length>1:!1;function resolveTransitionProps(s){const a={};for(const U in s)U in DOMTransitionPropsValidators||(a[U]=s[U]);if(s.css===!1)return a;const{name:l="v",type:c,duration:u,enterFromClass:d=`${l}-enter-from`,enterActiveClass:f=`${l}-enter-active`,enterToClass:m=`${l}-enter-to`,appearFromClass:g=d,appearActiveClass:v=f,appearToClass:y=m,leaveFromClass:b=`${l}-leave-from`,leaveActiveClass:_=`${l}-leave-active`,leaveToClass:T=`${l}-leave-to`}=s,E=normalizeDuration(u),P=E&&E[0],C=E&&E[1],{onBeforeEnter:S,onEnter:N,onEnterCancelled:O,onLeave:x,onLeaveCancelled:A,onBeforeAppear:L=S,onAppear:$=N,onAppearCancelled:B=O}=a,M=(U,Z,q)=>{removeTransitionClass(U,Z?y:m),removeTransitionClass(U,Z?v:f),q&&q()},K=(U,Z)=>{U._isLeaving=!1,removeTransitionClass(U,b),removeTransitionClass(U,T),removeTransitionClass(U,_),Z&&Z()},Y=U=>(Z,q)=>{const Q=U?$:N,ae=()=>M(Z,U,q);callHook(Q,[Z,ae]),nextFrame(()=>{removeTransitionClass(Z,U?g:d),addTransitionClass(Z,U?y:m),hasExplicitCallback(Q)||whenTransitionEnds(Z,c,P,ae)})};return extend$2(a,{onBeforeEnter(U){callHook(S,[U]),addTransitionClass(U,d),addTransitionClass(U,f)},onBeforeAppear(U){callHook(L,[U]),addTransitionClass(U,g),addTransitionClass(U,v)},onEnter:Y(!1),onAppear:Y(!0),onLeave(U,Z){U._isLeaving=!0;const q=()=>K(U,Z);addTransitionClass(U,b),forceReflow(),addTransitionClass(U,_),nextFrame(()=>{!U._isLeaving||(removeTransitionClass(U,b),addTransitionClass(U,T),hasExplicitCallback(x)||whenTransitionEnds(U,c,C,q))}),callHook(x,[U,q])},onEnterCancelled(U){M(U,!1),callHook(O,[U])},onAppearCancelled(U){M(U,!0),callHook(B,[U])},onLeaveCancelled(U){K(U),callHook(A,[U])}})}function normalizeDuration(s){if(s==null)return null;if(isObject$6(s))return[NumberOf(s.enter),NumberOf(s.leave)];{const a=NumberOf(s);return[a,a]}}function NumberOf(s){return toNumber(s)}function addTransitionClass(s,a){a.split(/\s+/).forEach(l=>l&&s.classList.add(l)),(s._vtc||(s._vtc=new Set)).add(a)}function removeTransitionClass(s,a){a.split(/\s+/).forEach(c=>c&&s.classList.remove(c));const{_vtc:l}=s;l&&(l.delete(a),l.size||(s._vtc=void 0))}function nextFrame(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let endId=0;function whenTransitionEnds(s,a,l,c){const u=s._endId=++endId,d=()=>{u===s._endId&&c()};if(l)return setTimeout(d,l);const{type:f,timeout:m,propCount:g}=getTransitionInfo(s,a);if(!f)return c();const v=f+"end";let y=0;const b=()=>{s.removeEventListener(v,_),d()},_=T=>{T.target===s&&++y>=g&&b()};setTimeout(()=>{y<g&&b()},m+1),s.addEventListener(v,_)}function getTransitionInfo(s,a){const l=window.getComputedStyle(s),c=E=>(l[E]||"").split(", "),u=c(`${TRANSITION}Delay`),d=c(`${TRANSITION}Duration`),f=getTimeout(u,d),m=c(`${ANIMATION}Delay`),g=c(`${ANIMATION}Duration`),v=getTimeout(m,g);let y=null,b=0,_=0;a===TRANSITION?f>0&&(y=TRANSITION,b=f,_=d.length):a===ANIMATION?v>0&&(y=ANIMATION,b=v,_=g.length):(b=Math.max(f,v),y=b>0?f>v?TRANSITION:ANIMATION:null,_=y?y===TRANSITION?d.length:g.length:0);const T=y===TRANSITION&&/\b(transform|all)(,|$)/.test(c(`${TRANSITION}Property`).toString());return{type:y,timeout:b,propCount:_,hasTransform:T}}function getTimeout(s,a){for(;s.length<a.length;)s=s.concat(s);return Math.max(...a.map((l,c)=>toMs(l)+toMs(s[c])))}function toMs(s){return Number(s.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend$2({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(s,{slots:a}){const l=getCurrentInstance(),c=useTransitionState();let u,d;return onUpdated(()=>{if(!u.length)return;const f=s.moveClass||`${s.name||"v"}-move`;if(!hasCSSTransform(u[0].el,l.vnode.el,f))return;u.forEach(callPendingCbs),u.forEach(recordPosition);const m=u.filter(applyTranslation);forceReflow(),m.forEach(g=>{const v=g.el,y=v.style;addTransitionClass(v,f),y.transform=y.webkitTransform=y.transitionDuration="";const b=v._moveCb=_=>{_&&_.target!==v||(!_||/transform$/.test(_.propertyName))&&(v.removeEventListener("transitionend",b),v._moveCb=null,removeTransitionClass(v,f))};v.addEventListener("transitionend",b)})}),()=>{const f=toRaw(s),m=resolveTransitionProps(f);let g=f.tag||Fragment;u=d,d=a.default?getTransitionRawChildren(a.default()):[];for(let v=0;v<d.length;v++){const y=d[v];y.key!=null&&setTransitionHooks(y,resolveTransitionHooks(y,m,c,l))}if(u)for(let v=0;v<u.length;v++){const y=u[v];setTransitionHooks(y,resolveTransitionHooks(y,m,c,l)),positionMap.set(y,y.el.getBoundingClientRect())}return createVNode(g,null,d)}}},removeMode=s=>delete s.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(s){const a=s.el;a._moveCb&&a._moveCb(),a._enterCb&&a._enterCb()}function recordPosition(s){newPositionMap.set(s,s.el.getBoundingClientRect())}function applyTranslation(s){const a=positionMap.get(s),l=newPositionMap.get(s),c=a.left-l.left,u=a.top-l.top;if(c||u){const d=s.el.style;return d.transform=d.webkitTransform=`translate(${c}px,${u}px)`,d.transitionDuration="0s",s}}function hasCSSTransform(s,a,l){const c=s.cloneNode();s._vtc&&s._vtc.forEach(f=>{f.split(/\s+/).forEach(m=>m&&c.classList.remove(m))}),l.split(/\s+/).forEach(f=>f&&c.classList.add(f)),c.style.display="none";const u=a.nodeType===1?a:a.parentNode;u.appendChild(c);const{hasTransform:d}=getTransitionInfo(c);return u.removeChild(c),d}const getModelAssigner=s=>{const a=s.props["onUpdate:modelValue"]||!1;return isArray$4(a)?l=>invokeArrayFns(a,l):a};function onCompositionStart(s){s.target.composing=!0}function onCompositionEnd(s){const a=s.target;a.composing&&(a.composing=!1,a.dispatchEvent(new Event("input")))}const vModelText={created(s,{modifiers:{lazy:a,trim:l,number:c}},u){s._assign=getModelAssigner(u);const d=c||u.props&&u.props.type==="number";addEventListener$1(s,a?"change":"input",f=>{if(f.target.composing)return;let m=s.value;l&&(m=m.trim()),d&&(m=looseToNumber(m)),s._assign(m)}),l&&addEventListener$1(s,"change",()=>{s.value=s.value.trim()}),a||(addEventListener$1(s,"compositionstart",onCompositionStart),addEventListener$1(s,"compositionend",onCompositionEnd),addEventListener$1(s,"change",onCompositionEnd))},mounted(s,{value:a}){s.value=a==null?"":a},beforeUpdate(s,{value:a,modifiers:{lazy:l,trim:c,number:u}},d){if(s._assign=getModelAssigner(d),s.composing||document.activeElement===s&&s.type!=="range"&&(l||c&&s.value.trim()===a||(u||s.type==="number")&&looseToNumber(s.value)===a))return;const f=a==null?"":a;s.value!==f&&(s.value=f)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,a)=>systemModifiers.some(l=>s[`${l}Key`]&&!a.includes(l))},withModifiers=(s,a)=>(l,...c)=>{for(let u=0;u<a.length;u++){const d=modifierGuards[a[u]];if(d&&d(l,a))return}return s(l,...c)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(s,a)=>l=>{if(!("key"in l))return;const c=hyphenate(l.key);if(a.some(u=>u===c||keyNames[u]===c))return s(l)},vShow={beforeMount(s,{value:a},{transition:l}){s._vod=s.style.display==="none"?"":s.style.display,l&&a?l.beforeEnter(s):setDisplay(s,a)},mounted(s,{value:a},{transition:l}){l&&a&&l.enter(s)},updated(s,{value:a,oldValue:l},{transition:c}){!a!=!l&&(c?a?(c.beforeEnter(s),setDisplay(s,!0),c.enter(s)):c.leave(s,()=>{setDisplay(s,!1)}):setDisplay(s,a))},beforeUnmount(s,{value:a}){setDisplay(s,a)}};function setDisplay(s,a){s.style.display=a?s._vod:"none"}const rendererOptions=extend$2({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...s)=>{const a=ensureRenderer().createApp(...s),{mount:l}=a;return a.mount=c=>{const u=normalizeContainer(c);if(!u)return;const d=a._component;!isFunction$2(d)&&!d.render&&!d.template&&(d.template=u.innerHTML),u.innerHTML="";const f=l(u,!1,u instanceof SVGElement);return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),f},a};function normalizeContainer(s){return isString$3(s)?document.querySelector(s):s}var fontawesomeV6="",robotoFont="",materialIcons$1="",quasar="",app$1="";function injectProp(s,a,l,c){return Object.defineProperty(s,a,{get:l,set:c,enumerable:!0}),s}const isRuntimeSsrPreHydration=ref(!1);let iosCorrection;function getMatch(s,a){const l=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(s)||/(opr)[\/]([\w.]+)/.exec(s)||/(vivaldi)[\/]([\w.]+)/.exec(s)||/(chrome|crios)[\/]([\w.]+)/.exec(s)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(s)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(s)||/(firefox|fxios)[\/]([\w.]+)/.exec(s)||/(webkit)[\/]([\w.]+)/.exec(s)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(s)||[];return{browser:l[5]||l[3]||l[1]||"",version:l[2]||l[4]||"0",versionNumber:l[4]||l[2]||"0",platform:a[0]||""}}function getPlatformMatch(s){return/(ipad)/.exec(s)||/(ipod)/.exec(s)||/(windows phone)/.exec(s)||/(iphone)/.exec(s)||/(kindle)/.exec(s)||/(silk)/.exec(s)||/(android)/.exec(s)||/(win)/.exec(s)||/(mac)/.exec(s)||/(linux)/.exec(s)||/(cros)/.exec(s)||/(playbook)/.exec(s)||/(bb)/.exec(s)||/(blackberry)/.exec(s)||[]}const hasTouch="ontouchstart"in window||window.navigator.maxTouchPoints>0;function applyIosCorrection(s){iosCorrection={is:{...s}},delete s.mac,delete s.desktop;const a=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(s,{mobile:!0,ios:!0,platform:a,[a]:!0})}function getPlatform(s){const a=s.toLowerCase(),l=getPlatformMatch(a),c=getMatch(a,l),u={};c.browser&&(u[c.browser]=!0,u.version=c.version,u.versionNumber=parseInt(c.versionNumber,10)),c.platform&&(u[c.platform]=!0);const d=u.android||u.ios||u.bb||u.blackberry||u.ipad||u.iphone||u.ipod||u.kindle||u.playbook||u.silk||u["windows phone"];return d===!0||a.indexOf("mobile")>-1?(u.mobile=!0,u.edga||u.edgios?(u.edge=!0,c.browser="edge"):u.crios?(u.chrome=!0,c.browser="chrome"):u.fxios&&(u.firefox=!0,c.browser="firefox")):u.desktop=!0,(u.ipod||u.ipad||u.iphone)&&(u.ios=!0),u["windows phone"]&&(u.winphone=!0,delete u["windows phone"]),(u.chrome||u.opr||u.safari||u.vivaldi||u.mobile===!0&&u.ios!==!0&&d!==!0)&&(u.webkit=!0),u.edg&&(c.browser="edgechromium",u.edgeChromium=!0),(u.safari&&u.blackberry||u.bb)&&(c.browser="blackberry",u.blackberry=!0),u.safari&&u.playbook&&(c.browser="playbook",u.playbook=!0),u.opr&&(c.browser="opera",u.opera=!0),u.safari&&u.android&&(c.browser="android",u.android=!0),u.safari&&u.kindle&&(c.browser="kindle",u.kindle=!0),u.safari&&u.silk&&(c.browser="silk",u.silk=!0),u.vivaldi&&(c.browser="vivaldi",u.vivaldi=!0),u.name=c.browser,u.platform=c.platform,a.indexOf("electron")>-1?u.electron=!0:document.location.href.indexOf("-extension://")>-1?u.bex=!0:(window.Capacitor!==void 0?(u.capacitor=!0,u.nativeMobile=!0,u.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(u.cordova=!0,u.nativeMobile=!0,u.nativeMobileWrapper="cordova"),hasTouch===!0&&u.mac===!0&&(u.desktop===!0&&u.safari===!0||u.nativeMobile===!0&&u.android!==!0&&u.ios!==!0&&u.ipad!==!0)&&applyIosCorrection(u)),u}const userAgent=navigator.userAgent||navigator.vendor||window.opera,ssrClient={has:{touch:!1,webStorage:!1},within:{iframe:!1}},client={userAgent,is:getPlatform(userAgent),has:{touch:hasTouch},within:{iframe:window.self!==window.top}},Platform={install(s){const{$q:a}=s;isRuntimeSsrPreHydration.value===!0?(s.onSSRHydrated.push(()=>{Object.assign(a.platform,client),isRuntimeSsrPreHydration.value=!1,iosCorrection=void 0}),a.platform=reactive(this)):a.platform=this}};{let s;injectProp(client.has,"webStorage",()=>{if(s!==void 0)return s;try{if(window.localStorage)return s=!0,!0}catch{}return s=!1,!1}),client.is.ios===!0&&window.navigator.vendor.toLowerCase().indexOf("apple"),isRuntimeSsrPreHydration.value===!0?Object.assign(Platform,client,iosCorrection,ssrClient):Object.assign(Platform,client)}var defineReactivePlugin=(s,a)=>{const l=reactive(s);for(const c in s)injectProp(a,c,()=>l[c],u=>{l[c]=u});return a};const listenOpts={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const s=Object.defineProperty({},"passive",{get(){Object.assign(listenOpts,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,s),window.removeEventListener("qtest",null,s)}catch{}function noop$3(){}function leftClick(s){return s.button===0}function position(s){return s.touches&&s.touches[0]?s=s.touches[0]:s.changedTouches&&s.changedTouches[0]?s=s.changedTouches[0]:s.targetTouches&&s.targetTouches[0]&&(s=s.targetTouches[0]),{top:s.clientY,left:s.clientX}}function getEventPath(s){if(s.path)return s.path;if(s.composedPath)return s.composedPath();const a=[];let l=s.target;for(;l;){if(a.push(l),l.tagName==="HTML")return a.push(document),a.push(window),a;l=l.parentElement}}function stop(s){s.stopPropagation()}function prevent(s){s.cancelable!==!1&&s.preventDefault()}function stopAndPrevent(s){s.cancelable!==!1&&s.preventDefault(),s.stopPropagation()}function preventDraggable(s,a){if(s===void 0||a===!0&&s.__dragPrevented===!0)return;const l=a===!0?c=>{c.__dragPrevented=!0,c.addEventListener("dragstart",prevent,listenOpts.notPassiveCapture)}:c=>{delete c.__dragPrevented,c.removeEventListener("dragstart",prevent,listenOpts.notPassiveCapture)};s.querySelectorAll("a, img").forEach(l)}function addEvt(s,a,l){const c=`__q_${a}_evt`;s[c]=s[c]!==void 0?s[c].concat(l):l,l.forEach(u=>{u[0].addEventListener(u[1],s[u[2]],listenOpts[u[3]])})}function cleanEvt(s,a){const l=`__q_${a}_evt`;s[l]!==void 0&&(s[l].forEach(c=>{c[0].removeEventListener(c[1],s[c[2]],listenOpts[c[3]])}),s[l]=void 0)}function debounce$1(s,a=250,l){let c=null;function u(){const d=arguments,f=()=>{c=null,l!==!0&&s.apply(this,d)};c!==null?clearTimeout(c):l===!0&&s.apply(this,d),c=setTimeout(f,a)}return u.cancel=()=>{c!==null&&clearTimeout(c)},u}const SIZE_LIST=["sm","md","lg","xl"],{passive}=listenOpts;var Screen=defineReactivePlugin({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:noop$3,setDebounce:noop$3,install({$q:s,onSSRHydrated:a}){if(s.screen=this,this.__installed===!0){s.config.screen!==void 0&&(s.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:l}=window,c=l||window,u=document.scrollingElement||document.documentElement,d=l===void 0||client.is.mobile===!0?()=>[Math.max(window.innerWidth,u.clientWidth),Math.max(window.innerHeight,u.clientHeight)]:()=>[l.width*l.scale+window.innerWidth-u.clientWidth,l.height*l.scale+window.innerHeight-u.clientHeight],f=s.config.screen!==void 0&&s.config.screen.bodyClasses===!0;this.__update=b=>{const[_,T]=d();if(T!==this.height&&(this.height=T),_!==this.width)this.width=_;else if(b!==!0)return;let E=this.sizes;this.gt.xs=_>=E.sm,this.gt.sm=_>=E.md,this.gt.md=_>=E.lg,this.gt.lg=_>=E.xl,this.lt.sm=_<E.sm,this.lt.md=_<E.md,this.lt.lg=_<E.lg,this.lt.xl=_<E.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,E=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",E!==this.name&&(f===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${E}`)),this.name=E)};let m,g={},v=16;this.setSizes=b=>{SIZE_LIST.forEach(_=>{b[_]!==void 0&&(g[_]=b[_])})},this.setDebounce=b=>{v=b};const y=()=>{const b=getComputedStyle(document.body);b.getPropertyValue("--q-size-sm")&&SIZE_LIST.forEach(_=>{this.sizes[_]=parseInt(b.getPropertyValue(`--q-size-${_}`),10)}),this.setSizes=_=>{SIZE_LIST.forEach(T=>{_[T]&&(this.sizes[T]=_[T])}),this.__update(!0)},this.setDebounce=_=>{m!==void 0&&c.removeEventListener("resize",m,passive),m=_>0?debounce$1(this.__update,_):this.__update,c.addEventListener("resize",m,passive)},this.setDebounce(v),Object.keys(g).length!==0?(this.setSizes(g),g=void 0):this.__update(),f===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};isRuntimeSsrPreHydration.value===!0?a.push(y):y()}});const Plugin$3=defineReactivePlugin({isActive:!1,mode:!1},{__media:void 0,set(s){Plugin$3.mode=s,s==="auto"?(Plugin$3.__media===void 0&&(Plugin$3.__media=window.matchMedia("(prefers-color-scheme: dark)"),Plugin$3.__updateMedia=()=>{Plugin$3.set("auto")},Plugin$3.__media.addListener(Plugin$3.__updateMedia)),s=Plugin$3.__media.matches):Plugin$3.__media!==void 0&&(Plugin$3.__media.removeListener(Plugin$3.__updateMedia),Plugin$3.__media=void 0),Plugin$3.isActive=s===!0,document.body.classList.remove(`body--${s===!0?"light":"dark"}`),document.body.classList.add(`body--${s===!0?"dark":"light"}`)},toggle(){Plugin$3.set(Plugin$3.isActive===!1)},install({$q:s,onSSRHydrated:a,ssrContext:l}){const{dark:c}=s.config;if(s.dark=this,this.__installed===!0&&c===void 0)return;this.isActive=c===!0;const u=c!==void 0?c:!1;if(isRuntimeSsrPreHydration.value===!0){const d=m=>{this.__fromSSR=m},f=this.set;this.set=d,d(u),a.push(()=>{this.set=f,this.set(this.__fromSSR)})}else this.set(u)}}),getTrue=()=>!0;function filterInvalidPath(s){return typeof s=="string"&&s!==""&&s!=="/"&&s!=="#/"}function normalizeExitPath(s){return s.startsWith("#")===!0&&(s=s.substring(1)),s.startsWith("/")===!1&&(s="/"+s),s.endsWith("/")===!0&&(s=s.substring(0,s.length-1)),"#"+s}function getShouldExitFn(s){if(s.backButtonExit===!1)return()=>!1;if(s.backButtonExit==="*")return getTrue;const a=["#/"];return Array.isArray(s.backButtonExit)===!0&&a.push(...s.backButtonExit.filter(filterInvalidPath).map(normalizeExitPath)),()=>a.includes(window.location.hash)}var History={__history:[],add:noop$3,remove:noop$3,install({$q:s}){if(this.__installed===!0)return;const{cordova:a,capacitor:l}=client.is;if(a!==!0&&l!==!0)return;const c=s.config[a===!0?"cordova":"capacitor"];if(c!==void 0&&c.backButton===!1||l===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=f=>{f.condition===void 0&&(f.condition=getTrue),this.__history.push(f)},this.remove=f=>{const m=this.__history.indexOf(f);m>=0&&this.__history.splice(m,1)};const u=getShouldExitFn(Object.assign({backButtonExit:!0},c)),d=()=>{if(this.__history.length){const f=this.__history[this.__history.length-1];f.condition()===!0&&(this.__history.pop(),f.handler())}else u()===!0?navigator.app.exitApp():window.history.back()};a===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",d,!1)}):window.Capacitor.Plugins.App.addListener("backButton",d)}},defaultLang={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:s=>s?`Expand "${s}"`:"Expand",collapse:s=>s?`Collapse "${s}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:s=>s===1?"1 record selected.":(s===0?"No":s)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(s,a,l)=>s+"-"+a+" of "+l,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function getLocale(){const s=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof s=="string")return s.split(/[-_]/).map((a,l)=>l===0?a.toLowerCase():l>1||a.length<4?a.toUpperCase():a[0].toUpperCase()+a.slice(1).toLowerCase()).join("-")}const Plugin$2=defineReactivePlugin({__langPack:{}},{getLocale,set(s=defaultLang,a){const l={...s,rtl:s.rtl===!0,getLocale};{if(l.set=Plugin$2.set,Plugin$2.__langConfig===void 0||Plugin$2.__langConfig.noHtmlAttrs!==!0){const c=document.documentElement;c.setAttribute("dir",l.rtl===!0?"rtl":"ltr"),c.setAttribute("lang",l.isoName)}Object.assign(Plugin$2.__langPack,l),Plugin$2.props=l,Plugin$2.isoName=l.isoName,Plugin$2.nativeName=l.nativeName}},install({$q:s,lang:a,ssrContext:l}){s.lang=Plugin$2.__langPack,Plugin$2.__langConfig=s.config.lang,this.__installed===!0?a!==void 0&&this.set(a):this.set(a||defaultLang)}});function setCssVar(s,a,l=document.body){if(typeof s!="string")throw new TypeError("Expected a string as propName");if(typeof a!="string")throw new TypeError("Expected a string as value");if(!(l instanceof Element))throw new TypeError("Expected a DOM element");l.style.setProperty(`--q-${s}`,a)}let lastKeyCompositionStatus=!1;function onKeyDownComposition(s){lastKeyCompositionStatus=s.isComposing===!0}function shouldIgnoreKey(s){return lastKeyCompositionStatus===!0||s!==Object(s)||s.isComposing===!0||s.qKeyEvent===!0}function isKeyCode(s,a){return shouldIgnoreKey(s)===!0?!1:[].concat(a).includes(s.keyCode)}function getMobilePlatform(s){if(s.ios===!0)return"ios";if(s.android===!0)return"android"}function getBodyClasses({is:s,has:a,within:l},c){const u=[s.desktop===!0?"desktop":"mobile",`${a.touch===!1?"no-":""}touch`];if(s.mobile===!0){const d=getMobilePlatform(s);d!==void 0&&u.push("platform-"+d)}if(s.nativeMobile===!0){const d=s.nativeMobileWrapper;u.push(d),u.push("native-mobile"),s.ios===!0&&(c[d]===void 0||c[d].iosStatusBarPadding!==!1)&&u.push("q-ios-padding")}else s.electron===!0?u.push("electron"):s.bex===!0&&u.push("bex");return l.iframe===!0&&u.push("within-iframe"),u}function applyClientSsrCorrections(){const{is:s}=client,a=document.body.className,l=new Set(a.replace(/ {2}/g," ").split(" "));if(iosCorrection!==void 0)l.delete("desktop"),l.add("platform-ios"),l.add("mobile");else if(s.nativeMobile!==!0&&s.electron!==!0&&s.bex!==!0){if(s.desktop===!0)l.delete("mobile"),l.delete("platform-ios"),l.delete("platform-android"),l.add("desktop");else if(s.mobile===!0){l.delete("desktop"),l.add("mobile");const u=getMobilePlatform(s);u!==void 0?(l.add(`platform-${u}`),l.delete(`platform-${u==="ios"?"android":"ios"}`)):(l.delete("platform-ios"),l.delete("platform-android"))}}client.has.touch===!0&&(l.delete("no-touch"),l.add("touch")),client.within.iframe===!0&&l.add("within-iframe");const c=Array.from(l).join(" ");a!==c&&(document.body.className=c)}function setColors(s){for(const a in s)setCssVar(a,s[a])}var Body={install(s){if(this.__installed!==!0){if(isRuntimeSsrPreHydration.value===!0)applyClientSsrCorrections();else{const{$q:a}=s;a.config.brand!==void 0&&setColors(a.config.brand);const l=getBodyClasses(client,a.config);document.body.classList.add.apply(document.body.classList,l)}client.is.ios===!0&&document.body.addEventListener("touchstart",noop$3),window.addEventListener("keydown",onKeyDownComposition,!0)}}},materialIcons={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const Plugin$1=defineReactivePlugin({iconMapFn:null,__icons:{}},{set(s,a){const l={...s,rtl:s.rtl===!0};l.set=Plugin$1.set,Object.assign(Plugin$1.__icons,l)},install({$q:s,iconSet:a,ssrContext:l}){s.config.iconMapFn!==void 0&&(this.iconMapFn=s.config.iconMapFn),s.iconSet=this.__icons,injectProp(s,"iconMapFn",()=>this.iconMapFn,c=>{this.iconMapFn=c}),this.__installed===!0?a!==void 0&&this.set(a):this.set(a||materialIcons)}}),quasarKey="_q_",layoutKey="_q_l_",pageContainerKey="_q_pc_",formKey="_q_fo_",tabsKey="_q_tabs_",emptyRenderFn=()=>{},globalConfig={};let globalConfigIsFrozen=!1;function freezeGlobalConfig(){globalConfigIsFrozen=!0}function isDeepEqual(s,a){if(s===a)return!0;if(s!==null&&a!==null&&typeof s=="object"&&typeof a=="object"){if(s.constructor!==a.constructor)return!1;let l,c;if(s.constructor===Array){if(l=s.length,l!==a.length)return!1;for(c=l;c--!==0;)if(isDeepEqual(s[c],a[c])!==!0)return!1;return!0}if(s.constructor===Map){if(s.size!==a.size)return!1;let d=s.entries();for(c=d.next();c.done!==!0;){if(a.has(c.value[0])!==!0)return!1;c=d.next()}for(d=s.entries(),c=d.next();c.done!==!0;){if(isDeepEqual(c.value[1],a.get(c.value[0]))!==!0)return!1;c=d.next()}return!0}if(s.constructor===Set){if(s.size!==a.size)return!1;const d=s.entries();for(c=d.next();c.done!==!0;){if(a.has(c.value[0])!==!0)return!1;c=d.next()}return!0}if(s.buffer!=null&&s.buffer.constructor===ArrayBuffer){if(l=s.length,l!==a.length)return!1;for(c=l;c--!==0;)if(s[c]!==a[c])return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===a.toString();const u=Object.keys(s).filter(d=>s[d]!==void 0);if(l=u.length,l!==Object.keys(a).filter(d=>a[d]!==void 0).length)return!1;for(c=l;c--!==0;){const d=u[c];if(isDeepEqual(s[d],a[d])!==!0)return!1}return!0}return s!==s&&a!==a}function isObject$5(s){return s!==null&&typeof s=="object"&&Array.isArray(s)!==!0}const autoInstalledPlugins=[Platform,Body,Plugin$3,Screen,History,Plugin$2,Plugin$1];function createChildApp(s,a){const l=createApp(s);l.config.globalProperties=a.config.globalProperties;const{reload:c,...u}=a._context;return Object.assign(l._context,u),l}function installPlugins(s,a){a.forEach(l=>{l.install(s),l.__installed=!0})}function prepareApp(s,a,l){s.config.globalProperties.$q=l.$q,s.provide(quasarKey,l.$q),installPlugins(l,autoInstalledPlugins),a.components!==void 0&&Object.values(a.components).forEach(c=>{isObject$5(c)===!0&&c.name!==void 0&&s.component(c.name,c)}),a.directives!==void 0&&Object.values(a.directives).forEach(c=>{isObject$5(c)===!0&&c.name!==void 0&&s.directive(c.name,c)}),a.plugins!==void 0&&installPlugins(l,Object.values(a.plugins).filter(c=>typeof c.install=="function"&&autoInstalledPlugins.includes(c)===!1)),isRuntimeSsrPreHydration.value===!0&&(l.$q.onSSRHydrated=()=>{l.onSSRHydrated.forEach(c=>{c()}),l.$q.onSSRHydrated=()=>{}})}var installQuasar=function(s,a={}){const l={version:"2.12.7"};globalConfigIsFrozen===!1?(a.config!==void 0&&Object.assign(globalConfig,a.config),l.config={...globalConfig},freezeGlobalConfig()):l.config=a.config||{},prepareApp(s,a,{parentApp:s,$q:l,lang:a.lang,iconSet:a.iconSet,onSSRHydrated:[]})},Quasar={version:"2.12.7",install:installQuasar,lang:Plugin$2,iconSet:Plugin$1},isVue2=!1;/*!
  * pinia v2.0.17
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=s=>activePinia=s,piniaSymbol=Symbol();function isPlainObject$2(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var MutationType;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const s=effectScope(!0),a=s.run(()=>ref({}));let l=[],c=[];const u=markRaw({install(d){setActivePinia(u),u._a=d,d.provide(piniaSymbol,u),d.config.globalProperties.$pinia=u,c.forEach(f=>l.push(f)),c=[]},use(d){return!this._a&&!isVue2?c.push(d):l.push(d),this},_p:l,_a:null,_e:s,_s:new Map,state:a});return u}const noop$2=()=>{};function addSubscription(s,a,l,c=noop$2){s.push(a);const u=()=>{const d=s.indexOf(a);d>-1&&(s.splice(d,1),c())};return!l&&getCurrentInstance()&&onUnmounted(u),u}function triggerSubscriptions(s,...a){s.slice().forEach(l=>{l(...a)})}function mergeReactiveObjects(s,a){for(const l in a){if(!a.hasOwnProperty(l))continue;const c=a[l],u=s[l];isPlainObject$2(u)&&isPlainObject$2(c)&&s.hasOwnProperty(l)&&!isRef(c)&&!isReactive(c)?s[l]=mergeReactiveObjects(u,c):s[l]=c}return s}const skipHydrateSymbol=Symbol();function shouldHydrate(s){return!isPlainObject$2(s)||!s.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed(s){return!!(isRef(s)&&s.effect)}function createOptionsStore(s,a,l,c){const{state:u,actions:d,getters:f}=a,m=l.state.value[s];let g;function v(){m||(l.state.value[s]=u?u():{});const y=toRefs(l.state.value[s]);return assign$3(y,d,Object.keys(f||{}).reduce((b,_)=>(b[_]=markRaw(computed(()=>{setActivePinia(l);const T=l._s.get(s);return f[_].call(T,T)})),b),{}))}return g=createSetupStore(s,v,a,l,c,!0),g.$reset=function(){const b=u?u():{};this.$patch(_=>{assign$3(_,b)})},g}function createSetupStore(s,a,l={},c,u,d){let f;const m=assign$3({actions:{}},l),g={deep:!0};let v,y,b=markRaw([]),_=markRaw([]),T;const E=c.state.value[s];!d&&!E&&(c.state.value[s]={}),ref({});let P;function C($){let B;v=y=!1,typeof $=="function"?($(c.state.value[s]),B={type:MutationType.patchFunction,storeId:s,events:T}):(mergeReactiveObjects(c.state.value[s],$),B={type:MutationType.patchObject,payload:$,storeId:s,events:T});const M=P=Symbol();nextTick().then(()=>{P===M&&(v=!0)}),y=!0,triggerSubscriptions(b,B,c.state.value[s])}const S=noop$2;function N(){f.stop(),b=[],_=[],c._s.delete(s)}function O($,B){return function(){setActivePinia(c);const M=Array.from(arguments),K=[],Y=[];function U(Q){K.push(Q)}function Z(Q){Y.push(Q)}triggerSubscriptions(_,{args:M,name:$,store:A,after:U,onError:Z});let q;try{q=B.apply(this&&this.$id===s?this:A,M)}catch(Q){throw triggerSubscriptions(Y,Q),Q}return q instanceof Promise?q.then(Q=>(triggerSubscriptions(K,Q),Q)).catch(Q=>(triggerSubscriptions(Y,Q),Promise.reject(Q))):(triggerSubscriptions(K,q),q)}}const x={_p:c,$id:s,$onAction:addSubscription.bind(null,_),$patch:C,$reset:S,$subscribe($,B={}){const M=addSubscription(b,$,B.detached,()=>K()),K=f.run(()=>watch(()=>c.state.value[s],Y=>{(B.flush==="sync"?y:v)&&$({storeId:s,type:MutationType.direct,events:T},Y)},assign$3({},g,B)));return M},$dispose:N},A=reactive(assign$3({},x));c._s.set(s,A);const L=c._e.run(()=>(f=effectScope(),f.run(()=>a())));for(const $ in L){const B=L[$];if(isRef(B)&&!isComputed(B)||isReactive(B))d||(E&&shouldHydrate(B)&&(isRef(B)?B.value=E[$]:mergeReactiveObjects(B,E[$])),c.state.value[s][$]=B);else if(typeof B=="function"){const M=O($,B);L[$]=M,m.actions[$]=B}}return assign$3(A,L),assign$3(toRaw(A),L),Object.defineProperty(A,"$state",{get:()=>c.state.value[s],set:$=>{C(B=>{assign$3(B,$)})}}),c._p.forEach($=>{assign$3(A,f.run(()=>$({store:A,app:c._a,pinia:c,options:m})))}),E&&d&&l.hydrate&&l.hydrate(A.$state,E),v=!0,y=!0,A}function defineStore(s,a,l){let c,u;const d=typeof a=="function";typeof s=="string"?(c=s,u=d?l:a):(u=s,c=s.id);function f(m,g){const v=getCurrentInstance();return m=m||v&&inject(piniaSymbol),m&&setActivePinia(m),m=activePinia,m._s.has(c)||(d?createSetupStore(c,a,u,m):createOptionsStore(c,u,m)),m._s.get(c)}return f.$id=c,f}function storeToRefs(s){{s=toRaw(s);const a={};for(const l in s){const c=s[l];(isRef(c)||isReactive(c))&&(a[l]=toRef(s,l))}return a}}function isObject$4(s){return typeof s=="object"&&s!==null}function normalizeOptions(s,a){return s=isObject$4(s)?s:Object.create(null),new Proxy(s,{get(l,c,u){return Reflect.get(l,c,u)||Reflect.get(a,c,u)}})}function get(s,a){return a.reduce((l,c)=>l==null?void 0:l[c],s)}function set(s,a,l){return a.slice(0,-1).reduce((c,u)=>/^(__proto__)$/.test(u)?{}:c[u]=c[u]||{},s)[a[a.length-1]]=l,s}function pick(s,a){return a.reduce((l,c)=>{const u=c.split(".");return set(l,u,get(s,u))},{})}function createPersistedState(s={}){return function(a){const{options:{persist:l},store:c}=a;if(!l)return;const{storage:u=localStorage,beforeRestore:d=null,afterRestore:f=null,serializer:m={serialize:JSON.stringify,deserialize:JSON.parse},key:g=c.$id,paths:v=null}=normalizeOptions(l,s);d==null||d(a);try{const y=u.getItem(g);y&&c.$patch(m.deserialize(y))}catch{}f==null||f(a),c.$subscribe((y,b)=>{try{const _=Array.isArray(v)?pick(b,v):b;u.setItem(g,m.serialize(_))}catch{}},{detached:!0})}}var persistedState=createPersistedState();function boot(s){return s}function route(s){return s}function store(s){return s}var t=["Shift","Meta","Alt","Control"],e=typeof navigator=="object"&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"Meta":"Control";function n(s,a){return typeof s.getModifierState=="function"&&s.getModifierState(a)}function r(s){return s.trim().split(" ").map(function(a){var l=a.split(/\b\+/),c=l.pop();return[l=l.map(function(u){return u==="$mod"?e:u}),c]})}function o(s,a){var l;a===void 0&&(a={});var c=(l=a.timeout)!=null?l:1e3,u=Object.keys(s).map(function(m){return[r(m),s[m]]}),d=new Map,f=null;return function(m){m instanceof KeyboardEvent&&(u.forEach(function(g){var v=g[0],y=g[1],b=d.get(v)||v;(function(_,T){return!(T[1].toUpperCase()!==_.key.toUpperCase()&&T[1]!==_.code||T[0].find(function(E){return!n(_,E)})||t.find(function(E){return!T[0].includes(E)&&T[1]!==E&&n(_,E)}))})(m,b[0])?b.length>1?d.set(v,b.slice(1)):(d.delete(v),y(m)):n(m,m.key)||d.delete(v)}),f&&clearTimeout(f),f=setTimeout(d.clear.bind(d),c))}}function i(s,a,l){var c;l===void 0&&(l={});var u=(c=l.event)!=null?c:"keydown",d=o(a,l);return s.addEventListener(u,d),function(){s.removeEventListener(u,d)}}function isEventTargetInputOrTextArea(s){if(s===null)return!1;const a=s.tagName.toLowerCase();return s.isContentEditable||["input","textarea"].includes(a)}function hotkeys(s,a,l=!0){const c=l?Object.fromEntries(Object.entries(a).map(([u,d])=>[u,f=>{isEventTargetInputOrTextArea(f.target)||d(f)}])):a;return i(s,c)}function generateFileName(s){return s.replaceAll(/\s/g,"-").toLowerCase()+".org"}function debounce(s,a=100){let l;return(...c)=>{clearTimeout(l),l=setTimeout(()=>s(...c),a)}}const getFileName=s=>s.split("/").pop(),getFileNameWithoutExtension=s=>getFileName(s).split(".").shift();function sleep(s){return new Promise(a=>setTimeout(a,s))}function camelCaseToWords(s){const a=s.replace(/([A-Z])/g," $1");return a.charAt(0).toUpperCase()+a.slice(1)}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let s=0;s<256;++s)byteToHex.push((s+256).toString(16).slice(1));function unsafeStringify(s,a=0){return(byteToHex[s[a+0]]+byteToHex[s[a+1]]+byteToHex[s[a+2]]+byteToHex[s[a+3]]+"-"+byteToHex[s[a+4]]+byteToHex[s[a+5]]+"-"+byteToHex[s[a+6]]+byteToHex[s[a+7]]+"-"+byteToHex[s[a+8]]+byteToHex[s[a+9]]+"-"+byteToHex[s[a+10]]+byteToHex[s[a+11]]+byteToHex[s[a+12]]+byteToHex[s[a+13]]+byteToHex[s[a+14]]+byteToHex[s[a+15]]).toLowerCase()}const randomUUID=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var native={randomUUID};function v4(s,a,l){if(native.randomUUID&&!a&&!s)return native.randomUUID();s=s||{};const c=s.random||(s.rng||rng)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,a){l=l||0;for(let u=0;u<16;++u)a[l+u]=c[u];return a}return unsafeStringify(c)}const createHashNode=(s,a,l)=>{const c=a.includes(".");return{name:a,filePath:[...s],id:l!=null?l:v4(),type:c?"file":"folder",children:{}}},sortFileNodes=(s,a)=>s.type==="folder"&&a.type==="file"?-1:s.type==="file"&&a.type==="folder"?1:s.name.localeCompare(a.name),convertFileTreeToFlatTree=s=>{if(!s)return[];const a=[];return Object.entries(s).forEach(([c,u])=>{const d={...u,children:convertFileTreeToFlatTree(u.children)};a.push(d)}),a.sort(sortFileNodes)},buildFileTree=s=>s.reduce((l,c)=>{let u=l;const d=[];return c.filePath.forEach(f=>{if(!u[f]){const m=createHashNode(d,f,c.id);u[f]=m}u=u[f].children,d.push(f)}),l},{}),mergeFilesTrees=(s,a)=>{const l={...a};return Object.entries(s).forEach(([c,u])=>{if(u.type!=="file"){if(!l[c]){l[c]={...u,children:mergeFilesTrees(u.children,{})};return}l[c]={...l[c],id:u.id,children:mergeFilesTrees(u.children,l[c].children)}}}),l},extractNestedFilesIds=s=>{if(!s)return[];const a=[];return Object.entries(s).forEach(([l,c])=>{c.type==="file"&&a.push(c.id),a.push(...extractNestedFilesIds(c.children))}),a},deletePathFromTree=(s,a)=>{let l=s;if(a.filePath.forEach(u=>{var d;l=(d=l==null?void 0:l[u])==null?void 0:d.children}),!l)return[s,[]];if(delete l[a.name],a.type==="file")return[s,[a.id]];const c=extractNestedFilesIds(l[a.name].children);return[s,c]},addFileToTree=(s,a)=>{let l=s;return a.filePath.forEach(c=>{var u;l=(u=l==null?void 0:l[c])==null?void 0:u.children}),l&&(l[a.name]=a),s},extractFilePathInfo=s=>s?Object.entries(s).reduce((a,[,l])=>l.type==="file"?(a.push({id:l.id,filePath:[...l.filePath,l.name]}),a):(a.push(...extractFilePathInfo(l.children)),a),[]):[],updateNestedFilePath=(s,a,l)=>{Object.values(s).forEach(c=>{c.filePath[l]=a,c.type==="folder"&&updateNestedFilePath(c.children,a,l)})},renameFileInTree=(s,a,l)=>{var d;let c=s;if(a.filePath.forEach(f=>{var m;c=(m=c==null?void 0:c[f])==null?void 0:m.children}),!c)return[s,[]];const u=c[a.name];return delete c[a.name],c[l]={...u,name:l},c[l].children&&updateNestedFilePath(c[l].children,l,c[l].filePath.length),c[l].type==="file"?[s,extractFilePathInfo(c)]:[s,extractFilePathInfo((d=c[l])==null?void 0:d.children)]},convertFlatTreeToFileTree=s=>{var l;return{name:s.name,filePath:s.filePath,type:s.type,id:s.id,children:Object.values((l=s.children)!=null?l:{}).reduce((c,u)=>({...c,[u.name]:convertFlatTreeToFileTree(u)}),{})}};function isObject$3(s){return s!==null&&!Array.isArray(s)&&typeof s=="object"}function getRawData(s){return isReactive(s)?toRaw(s):s}function toDeepRaw(s){const a=getRawData(s);for(const l in a){const c=a[l];!isObject$3(c)&&!Array.isArray(c)||(a[l]=toDeepRaw(c))}return a}function getInitialNoteTemplate(s,a){return`:PROPERTIES:
:ID: ${s!=null?s:v4()}
:END:


#+TITLE: ${a!=null?a:"Untitled"}`}const getUniqueFileName=(s,a=".org")=>{const l="Untitled-note";let c=l,u=0;for(;s[`${c}${a}`];)u++,c=`${l}-${u}`;return c};function insertTemplate(s){const{editorView:a,template:l}=s,c=s.focusOffset||0,u=a.state.doc.lineAt(a.state.selection.main.head),d=a.state.selection.main.head,f=s.overrideLine?u.from:d,m=s.overrideLine?u.to:d;a.dispatch({changes:{from:f,to:m,insert:l}});const g=f+(c||l.length);a.dispatch({selection:{anchor:g,head:g}}),a.focus()}class HandlerNotFoundError extends Error{constructor(a){super(),this.operator=a,this.type="HandlerNotFoundError",this.message=`Handler not found for operator: ${this.operator}`}}class UnsupportedOperator extends Error{constructor(a){super(),this.operator=a,this.type="HandlerDidNotReturnValue",this.message=`Handler for operator: ${this.operator} did not return a value`}}class NodeAlreadyHaveParent extends Error{constructor(a){super(),this.node=a,this.type="NodeAlreadyHaveParent",this.message=`Child ${a.toString()} already has parent:
 ${a.parent.toString()}`}}class NodeCouldNotHaveChildren extends Error{constructor(a){super(),this.node=a,this.type="NodeCouldNodeHaveChildren",this.message=`Node ${a.type} could not have children`}}var __classPrivateFieldGet$a=globalThis&&globalThis.__classPrivateFieldGet||function(s,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(s):c?c.value:a.get(s)},_OrgChildrenList_instances,_OrgChildrenList_find;const customInspectSymbol=Symbol.for("nodejs.util.inspect.custom");class OrgListChild{constructor(a){this.value=a}setNext(a){this.next=a}setPrev(a){this.prev=a}}class OrgChildrenList{get last(){var a;return(a=this.tail)===null||a===void 0?void 0:a.value}get first(){var a;return(a=this.header)===null||a===void 0?void 0:a.value}get isEmpty(){return this.length===0}constructor(...a){_OrgChildrenList_instances.add(this),this.header=null,this.tail=null,this.length=0,a.forEach(l=>this.push(l))}push(a){var l;const c=new OrgListChild(a);return this.header||(this.header=c),(l=this.tail)===null||l===void 0||l.setNext(c),c.setPrev(this.tail),this.tail=c,this.length++,this.length}append(...a){a.forEach(l=>this.push(l))}merge(a){a.forEach(l=>this.push(l))}filter(a){const l=new OrgChildrenList;return this.forEach(c=>{a(c)&&l.push(c)}),l}replaceNodes(a,...l){var c;let d=(c=__classPrivateFieldGet$a(this,_OrgChildrenList_instances,"m",_OrgChildrenList_find).call(this,a instanceof OrgChildrenList?a.first:a[0]).prev)!==null&&c!==void 0?c:this.header;this.removeNodes(a),l.forEach(f=>{const m=new OrgListChild(f);this.insertAfter(d,m),d=m})}insertAfter(a,l){const c=a.next;a.setNext(l),l.setPrev(a),l.setNext(c),c==null||c.setPrev(l),this.length++}get(a){let l=this.header,c=0;for(;c!==a;)l=l==null?void 0:l.next,c++;return l==null?void 0:l.value}*[(_OrgChildrenList_instances=new WeakSet,_OrgChildrenList_find=function(l){let c=this.header;for(;c;){if(c.value===l)return c;c=c.next}return null},Symbol.iterator)](){let a=this.header;for(;a;){const l=a;a=a.next,yield l.value}}[customInspectSymbol](a,l,c){return this.length?`[
  ${Array.from(this).map(u=>u.toString()).join("  ")}]`:"[]"}toString(){return`
`+Array.from(this).reduce((l,c)=>`${l}
${c.toString()}`,"")+`
-----------------`}replaceNode(a,l){var c,u;let d=this.header;for(;d;){const f=d.value;if(f===a){d.value=l,l.setNext(f.next),l.setPrev(f.prev),(c=f.prev)===null||c===void 0||c.setNext(l),(u=f.next)===null||u===void 0||u.setPrev(l);return}d=d.next}}map(a){let l=this.header;const c=[];for(;l;)c.push(a(l.value)),l=l.next;return c}join(a=","){let l=this.header,c="";for(;l;)c+=l.toString(),l=l.next,l&&(c+=a);return c}reduce(a,l){let c=this.header,u=l,d=0;for(;c;)u=a(u,c.value,d),c=c.next,d++;return u}forEach(a){let l=this.header,c=0;for(;l;)a(l.value,c,l===this.tail),l=l.next,c++}find(a){let l=this.header,c=0;for(;l;){if(a(l.value,c,this))return l.value;l=l.next,c++}}findLast(a){let l=this.tail;for(;l;){if(a(l.value))return l.value;l=l.prev}}pop(){const a=this.tail;if(a)return this.removeNode(a),a.value}getNodesBetweenPairs(a,l,c=!1){const u=new OrgChildrenList;let d=this.header,f=!1;for(;d;){const m=d.value;if(d=d.next,l&&m===l)return c&&u.push(m),u;if(m===a){f=!0,c&&u.push(m);continue}f&&u.push(m)}return u}slice(a,l){l<0&&(l=this.length+l);const c=new OrgChildrenList;let u=this.header,d=0;for(l=l!=null?l:this.length;u;)d>=a&&d<l&&c.push(u.value),u=u.next,d++;return c}removeNodes(a){let l=this.header;for(;l;){const c=l.value;a.find(u=>u===c)&&this.removeNode(l),l=l.next}}removeNode(a){var l,c;(l=a.prev)===null||l===void 0||l.setNext(a.next),(c=a.next)===null||c===void 0||c.setPrev(a.prev),a===this.header&&(this.header=a.next),a===this.tail&&(this.tail=a.prev),this.length--}clear(){this.header=null,this.tail=null,this.length=0}asArray(){return Array.from(this)}}function prettifyArrayValue(s,a,l){return a==="headings"?l.reduce((c,u)=>(c+=`${s}${" ".repeat(u.level*2)}${u.title}
`,c),`
`):l.join(",")}function prettyTreePrint(s,a=0){var l;if(!s)return"[EMPTY]";const c=" ".repeat(a*2);let u=c;const d=s.value&&s.isNot(NodeType.NewLine)?` (${JSON.stringify(s.value)})`:"";return u+=`${s.type} [${s.start}-${s.end}]${d}
`,s.ordered!=null&&(u+=`${c}    :${s.ordered?"ordered":"unordered"}:
`),s.checked!=null&&(u+=`${c}    :${s.checked?"checked":"unchecked"}:
`),s.level!=null&&(u+=`${c}    :level ${s.level}:
`),s.meta&&(u+=Object.keys(s.meta).reduce((f,m)=>{const g=Array.isArray(s.meta[m])?prettifyArrayValue(c+"    ",m,s.meta[m]):s.meta[m];return m==="headings"?`${f}${c}    :${m}: ${g}
`:`${f}${c}    :${m} ${g}:
`},"")),s.properties&&Object.keys(s.properties).forEach(f=>{u+=`${c}    :${f} ${s.properties[f]}:
`}),a++,(l=s.children)===null||l===void 0||l.forEach(f=>{u+=prettyTreePrint(f,a)}),s.title&&(u+=prettyTreePrint(s.title,a)),s.section&&(u+=prettyTreePrint(s.section,a)),u}function isNumber$2(s){return s!=null&&s!==""&&!isNaN(Number(s.toString()))}function hasIntersection(s,a,l,c){return l>=s&&l<=a||s>=l&&s<=c}var NodeType;(function(s){s.Root="root",s.Headline="headline",s.Text="text",s.Unresolved="unresolved",s.Operator="operator",s.Checkbox="checkbox",s.Indent="indent",s.NewLine="newLine",s.Date="date",s.DateRange="dateRange",s.Comment="comment",s.TodoKeyword="todoKeyword",s.TagList="tagList",s.List="list",s.ListItem="listItem",s.Progress="progress",s.ListTag="listTag",s.Bold="bold",s.Crossed="crossed",s.InlineCode="inlineCode",s.Verbatim="verbatim",s.Italic="italic",s.LatexFragment="latexFragment",s.LatexEnvironment="latexEnvironment",s.SrcBlock="srcBlock",s.BlockHeader="blockHeader",s.PropertyDrawer="propertyDrawer",s.Property="property",s.BlockProperty="blockProperty",s.SrcLanguage="srcLanguage",s.BlockFooter="blockFooter",s.BlockBody="blockBody",s.QuoteBlock="quoteBlock",s.ExampleBlock="exampleBlock",s.HtmlBlock="htmlBlock",s.ExportBlock="exportBlock",s.CommentBlock="commentBlock",s.HeaderArg="headerArg",s.InlineHtml="inlineHtml",s.FixedWidth="fixedWidth",s.Priority="priority",s.Keyword="keyword",s.Link="link",s.RawLink="rawLink",s.LinkUrl="linkUrl",s.LinkName="linkName",s.HorizontalRule="horizontalRule",s.Section="section",s.Title="title",s.Table="table",s.TableDelimiter="tableDelimiter",s.TableCell="tableCell",s.TableRow="tableRow"})(NodeType||(NodeType={}));var TokenType;(function(s){s.Headline="headline",s.Text="text",s.NewLine="newLine",s.Keyword="keyword",s.LatexEnvironmentKeyword="latexEnvironmentKeyword",s.Bracket="bracket",s.LatexBracket="latexBracket",s.Comment="comment",s.Operator="operator",s.Indent="indent",s.TableDelimiter="tableDelimiter",s.HorizontalRule="horizontalRule",s.TableOperator="tableOperator",s.Link="link"})(TokenType||(TokenType={}));class Token{constructor(a,l){this.start=l,this.end=l+a.value.length,this.type=a.type,this.value=a.value}get isBlank(){return this.value.trim().length===0}appendText(a){this.value+=a,this.end+=a.length}setType(a){this.type=a}isType(...a){return a.includes(this.type)}setNextToken(a){this.next=a,a.setPrevToken(this)}setPrevToken(a){this.prev=a}}const linkTypes=["img","id","raw","file","network","attachment","docview","news","mailto","mhe","rmail","gnus","bbdb","irc","help","info","shell","elisp"];class OrgNode{get prev(){return this._prev}get childrenList(){var a;return((a=this.children)===null||a===void 0?void 0:a.asArray())||[]}get lastChild(){var a;return(a=this.children)===null||a===void 0?void 0:a.last}get next(){return this._next}get level(){return this._level}get title(){return this._title}get section(){return this._section}get ordered(){return this._ordered}get properties(){return this._properties}get checked(){return this._checked}set checked(a){this._checked=a}get length(){return this.end-this.start}get rawValue(){var a,l,c,u,d;let f="";return!((l=(a=this.title)===null||a===void 0?void 0:a.children)===null||l===void 0)&&l.length&&(f+=this.getRawValueFromNodes(this.title.children)),!((u=(c=this.section)===null||c===void 0?void 0:c.children)===null||u===void 0)&&u.length&&(f+=this.getRawValueFromNodes(this.section.children)),!((d=this.children)===null||d===void 0)&&d.length?f+=this.getRawValueFromNodes(this.children):this.value&&(f+=this.value),f}get cleanValue(){var a,l,c,u,d,f,m;if(this.value)return this.value;const g=(l=(a=this.title)===null||a===void 0?void 0:a.cleanValue)!==null&&l!==void 0?l:"",v=(u=(c=this.section)===null||c===void 0?void 0:c.cleanValue)!==null&&u!==void 0?u:"",y=(m=(f=(d=this.children)===null||d===void 0?void 0:d.map(b=>b.is(NodeType.Operator,NodeType.NewLine)?"":b.cleanValue))===null||f===void 0?void 0:f.join(""))!==null&&m!==void 0?m:"";return`${g}${v}${y}`}getRawValueFromNodes(a){return a.map(l=>l.rawValue).join("")}constructor(a){this.safeCheckMode=!1,this.start=0,this.end=0,this.type=a.type,a.section&&(this._section=new OrgNode(a.section)),this.value=a.value,this._level=a.level,this._title=a.title,this._ordered=a.ordered,this._properties=a.properties,this._checked=a.checked,this.addRawChildren(a.children)}initPositions(){var a,l;if(this.end){const c=this.end-this.start;this.end=c,this.start=0;return}if(this.value){this.end=(l=this.start+((a=this.value)===null||a===void 0?void 0:a.length))!==null&&l!==void 0?l:0;return}}setParent(a){this.parent=a}setPrev(a){this._prev=a}setNext(a){this._next=a}updateMeta(a){var l;this.meta=Object.assign(Object.assign({},(l=this.meta)!==null&&l!==void 0?l:{}),a)}setProperties(a){this._properties=a}mergeProperties(a){var l;this._properties=Object.assign(Object.assign({},(l=this._properties)!==null&&l!==void 0?l:{}),a)}validateAddedChild(a){if(this.is(NodeType.Text))throw new NodeCouldNotHaveChildren(a);if(a.parent)throw new NodeAlreadyHaveParent(a)}addChild(a){var l,c,u,d,f;if(this.title){this.title.addChild(a);return}this.validateAddedChild(a),a.setParent(this);const m=(d=(u=(c=(l=a.parent)===null||l===void 0?void 0:l.children)===null||c===void 0?void 0:c.last)===null||u===void 0?void 0:u.end)!==null&&d!==void 0?d:a.parent.end;return this.children||(this.children=new OrgChildrenList),a.setPrev(this.lastChild),a.setNext(null),(f=this.lastChild)===null||f===void 0||f.setNext(a),this.children.push(a),a.initPositions(),a.recalculateParentEnd(a.length),m&&a.recalculateForEachNestedNodes(m),a.calculateNodeProperties(),a}setChildren(a){this.removeChildren(this.children),this.children=new OrgChildrenList,a==null||a.forEach(l=>{this.addChild(l)})}resetChildren(){var a;const l=this.end-((a=this.children)===null||a===void 0?void 0:a.last.end);this.end-=l,this.recalculateParentEnd(-l),this.recalculatePositionsForNeighbors(-l),this.children=void 0}removeChildren(a){a==null||a.forEach(l=>this.removeNode(l))}removeNode(a){var l,c;const u=a.length;a.recalculateParentEnd(-u),a.recalculatePositionsForNeighbors(-u),a.setParent(null),(l=a.prev)===null||l===void 0||l.setNext(a.next),(c=a.next)===null||c===void 0||c.setPrev(a.prev),a.rebalanceRanges(),this.children.removeNodes([a])}rebalanceRanges(a){var l,c,u,d,f,m,g,v;!this.start||(this.initPositions(),a&&(this.start+=(d=(c=(l=this.prev)===null||l===void 0?void 0:l.end)!==null&&c!==void 0?c:(u=this.parent)===null||u===void 0?void 0:u.start)!==null&&d!==void 0?d:0,this.end+=(v=(m=(f=this.prev)===null||f===void 0?void 0:f.end)!==null&&m!==void 0?m:(g=this.parent)===null||g===void 0?void 0:g.start)!==null&&v!==void 0?v:0),this.forEachNestedChildren(b=>{b.rebalanceRanges(!0)}))}recalculateParentEnd(a){!this.parent||!a||(this.parent.end+=a,this.parent.recalculateParentEnd(a),this.parent.recalculatePositionsForNeighbors(a))}recalculateForEachNestedNodes(a){var l,c,u;let d=this;for(;d;)d.end+=a,d.start+=a,(l=d.title)===null||l===void 0||l.recalculateForEachNestedNodes(a),(u=(c=d.children)===null||c===void 0?void 0:c.first)===null||u===void 0||u.recalculateForEachNestedNodes(a),d=d.next}calculateNodeProperties(){var a;const l={};if(this.is(NodeType.PropertyDrawer)&&((a=this.children)===null||a===void 0||a.forEach(c=>{var u,d;if(c.is(NodeType.Property)&&((u=c.children)===null||u===void 0?void 0:u.length)>1){const f=c.children.first.value.replaceAll(":",""),m=(d=c.children)===null||d===void 0?void 0:d.last.value;l[f.toLowerCase()]=m}}),this.setPropertyForNode(l,NodeType.Headline,NodeType.Root)),this.is(NodeType.Keyword)&&this.children.first.isEqual("#+property:")&&this.children.get(1)){const c=this.children.get(1).value.trim(),u=this.getRawValueFromNodes(this.children.slice(2));l[c]=u,this.setPropertyForNode(l,NodeType.Headline,NodeType.Root)}}setPropertyForNode(a,...l){this.findParent(...l).mergeProperties(a)}findParent(...a){return this.is(...a)?this:this.parent.findParent(...a)}recalculatePositionsForNeighbors(a){var l,c,u;let d=this.next;for(;d;)d.start+=a,d.end+=a,!((l=d.children)===null||l===void 0)&&l.first&&(d.children.first.end+=a,d.children.first.start+=a,(u=(c=d.children)===null||c===void 0?void 0:c.first)===null||u===void 0||u.recalculatePositionsForNeighbors(a)),d=d.next}setTitle(a){var l,c,u,d,f;a.setParent(this);const m=(d=(u=(c=(l=a.parent)===null||l===void 0?void 0:l.children)===null||c===void 0?void 0:c.last)===null||u===void 0?void 0:u.end)!==null&&d!==void 0?d:a.parent.end;return this._title=a,a.initPositions(),this.end+=a.length,(f=a.parent)===null||f===void 0||f.recalculateParentEnd(a.length),m&&a.recalculateForEachNestedNodes(m),a}setSection(a){var l,c,u,d,f,m,g,v;a.setParent(this);const y=(g=(u=(c=(l=a.parent)===null||l===void 0?void 0:l.title)===null||c===void 0?void 0:c.children.last.end)!==null&&u!==void 0?u:(m=(f=(d=a.parent)===null||d===void 0?void 0:d.children)===null||f===void 0?void 0:f.last)===null||m===void 0?void 0:m.end)!==null&&g!==void 0?g:a.parent.end;return this._section=a,a.initPositions(),this.end+=a.length,(v=a.parent)===null||v===void 0||v.recalculateParentEnd(a.length),y&&a.recalculateForEachNestedNodes(y),a}addRawChildren(a){a==null||a.forEach(l=>this.addChild(new OrgNode(l)))}addChildren(a){a==null||a.forEach(l=>this.addChild(l))}setValue(a){var l;const c=((l=a==null?void 0:a.length)!==null&&l!==void 0?l:0)-this.length;this.value=a,this.end+=c,this.recalculateParentEnd(c),this.recalculatePositionsForNeighbors(c)}appendValue(a){var l;(l=this.value)!==null&&l!==void 0||(this.value=""),this.value+=a,this.end+=a.length,this.recalculateParentEnd(a.length),this.recalculatePositionsForNeighbors(a.length)}prependValue(a){this.value=a+this.value,this.end+=a.length,this.recalculateParentEnd(a.length)}addNextNode(a){var l;a.setPrev(this),this.setNext(a),(l=this.next)===null||l===void 0||l.setPrev(a),a.setParent(this.parent),a.recalculateParentEnd(a.length),a.recalculatePositionsForNeighbors(a.length)}is(...a){return a.some(l=>l===this.type)}isNot(...a){return!this.is(...a)}toString(a){return prettyTreePrint(this)}toJson(){const l=["value","properties","meta"].reduce((c,u)=>(this[u]&&(c[u]=this[u]),c),{type:this.type,start:this.start,end:this.end});return this.children&&(l.children=this.children.map(c=>c.toJson())),this.section&&(l.section=this.section.toJson()),this.title&&(l.title=this.title.toJson()),l}forEachNestedChildren(a){var l,c,u;let d=(l=this.children)===null||l===void 0?void 0:l.first;for(;d;)a(d),(u=(c=d.children)===null||c===void 0?void 0:c.first)===null||u===void 0||u.forEachNestedChildren(a),d=d.next}isEqual(a){return this.value.trim().toLowerCase()===a.trim().toLowerCase()}}class BlockHandler{constructor(a,l,c){this.ctx=a,this.astBuilder=l,this.tokenIterator=c,this.blockTypeToNode={src:NodeType.SrcBlock,quote:NodeType.QuoteBlock,html:NodeType.HtmlBlock,export:NodeType.ExportBlock,comment:NodeType.CommentBlock,example:NodeType.ExampleBlock},this.blockHanderls={src:(u,d)=>this.handleRawBlock(u,d),quote:(u,d)=>this.handleBlockWithFormat(u,d),html:(u,d)=>this.handleRawBlock(u,d),export:(u,d)=>this.handleRawBlock(u,d),comment:(u,d)=>this.handleBlockWithFormat(u,d),example:(u,d)=>this.handleRawBlock(u,d)}}handle(){var a;const[l,c]=this.determineBlockType(),u=(m,g)=>this.handleBlockWithFormat(m,g);return((a=this.blockHanderls[c.toLowerCase()])!==null&&a!==void 0?a:u)(l,c)}isBlockKeyword(a){return["#+begin_","#+end_"].some(l=>a.toLowerCase().startsWith(l))}handleRawBlock(a,l){const c=this.astBuilder.createText(),u=this.astBuilder.createKeywordNode(c);return a==="begin"?(this.ctx.srcBlockBegin=u,this.astBuilder.attachToTree(u),u):(a==="end"&&this.ctx.srcBlockBegin&&(this.mergeNodesBetweenBlockKeywords(this.ctx.srcBlockBegin,l,!0),this.ctx.resetSrcBlockInfo(),this.ctx.resetLatexEnvironmentInfo()),this.astBuilder.attachToTree(u),u)}mergeNodesBetweenBlockKeywords(a,l,c){const u=a==null?void 0:a.parent,d=u.children.getNodesBetweenPairs(a,null,!0);u.removeChildren(d);const f=this.buildNestedBlockNodes(d,c),m=this.getBlockHeaderMetaInfo(f.first),g=this.astBuilder.createBlockNode(this.blockTypeToNode[l.toLowerCase()],m);g.setChildren(f),u.addChild(g),this.ctx.exitSectionByRange(g.start,g.end),this.ctx.exitNestedListInRanges(g.start,g.end)}buildNestedBlockNodes(a,l){var c;const u=new OrgChildrenList,d=new OrgChildrenList;a.forEach((v,y,b)=>{var _;if(!(!((_=u.first)===null||_===void 0)&&_.is(NodeType.BlockHeader))&&v.is(NodeType.NewLine)){const E=this.buildHeaderNode(d);u.push(E),u.push(v),d.clear();return}d.push(v)});const f=!((c=d.last)===null||c===void 0)&&c.is(NodeType.NewLine)?d.pop():null,m=this.getBlockBodyNodes(d,l);if(m){const v=this.astBuilder.createBlockBodyNode(m);u.push(v)}f&&u.push(f);const g=this.astBuilder.createBlockFooterNode();return u.push(g),this.astBuilder.lastNode=g,u}getBlockBodyNodes(a,l){if(!l)return a;const c=this.astBuilder.getRawValueFromNodes(a);if(c)return[this.astBuilder.createTextNode(c)]}buildHeaderNode(a){const l=new OrgChildrenList;return a.forEach(c=>{var u,d,f;const m=c.is(NodeType.Keyword);if(((u=c.children)===null||u===void 0?void 0:u.length)===2&&c.is(NodeType.Keyword)&&c.children.last.is(NodeType.Text)&&(c.children.last.type=NodeType.SrcLanguage,c.setProperties({language:c.children.last.value.slice(1).trim()})),m&&l.isEmpty){l.push(c);return}const v=(d=l.last)===null||d===void 0?void 0:d.is(NodeType.BlockProperty),y=c.is(NodeType.Text);if(c.is(NodeType.BlockProperty)){l.push(c);return}v&&y&&((f=l.last)===null||f===void 0||f.addChild(c),l.last.setProperties({[l.last.children.first.value.slice(1)]:c.value.trim()}))}),this.astBuilder.createBlockHeaderNode(l)}getBlockHeaderMetaInfo(a){let l={};return a.children.forEach(c=>{c.properties&&(l=Object.assign(Object.assign({},l),c.properties))}),l}handleBlockWithFormat(a,l){const c=this.astBuilder.createText(),u=this.astBuilder.createKeywordNode(c);return a==="begin"?(this.ctx.blockBegin=u,this.astBuilder.attachToTree(u),u):(a==="end"&&this.ctx.blockBegin&&(this.mergeNodesBetweenBlockKeywords(this.ctx.blockBegin,l,!1),this.ctx.resetQuoteBlockInfo()),this.astBuilder.attachToTree(u),u)}determineBlockType(){const[a,l]=this.tokenIterator.currentValue.split("_");return[a.slice(2,a.length).toLowerCase(),l]}handleBlockProperty(){const a=this.astBuilder.createTextNode(this.tokenIterator.currentValue),l=this.astBuilder.createBlockPropertyNode(a);return this.astBuilder.attachToTree(l),l}}var __classPrivateFieldGet$9=globalThis&&globalThis.__classPrivateFieldGet||function(s,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(s):c?c.value:a.get(s)},_BracketHandler_dateRangeDelimiter,_BracketHandler_priorityValueRegexp,_BracketHandler_unresolvedNodes;class BracketHandler{constructor(a,l,c,u){this.configuration=a,this.ctx=l,this.astBuilder=c,this.tokenIterator=u,_BracketHandler_dateRangeDelimiter.set(this,"--"),_BracketHandler_priorityValueRegexp.set(this,/#([\w\d]{1})$/),_BracketHandler_unresolvedNodes.set(this,new OrgChildrenList),this.listProgressSeparator="/",this.closedOpenedBrackets={"]":"[",">":"<"},this.bracketsWithRawContent=["$","$$"],this.textFormattersNodeTypeMap={"*":NodeType.Bold,"/":NodeType.Italic,"+":NodeType.Crossed,"=":NodeType.Verbatim,"~":NodeType.InlineCode,$:NodeType.LatexFragment,$$:NodeType.LatexFragment},this.bracketedNodesHandler=[this.handleChecboxBrackets.bind(this),this.handleDateBrackets.bind(this),this.handlePriorityBrackets.bind(this),this.handleListProgressBrackets.bind(this),this.handleFormatBrackets.bind(this),this.handleLinkBrackets.bind(this)]}handle(){const a=this.astBuilder.createUnresolvedNode();this.astBuilder.attachToTree(a);const l=this.tryHandlePairBracket(a);return l?(this.removeFormattingInsideInlineCode(l),this.storeUnresolvedNode(l),this.addMetaInfo(l),l):(this.ctx.bracketsStack.push(a),a)}storeUnresolvedNode(a){__classPrivateFieldGet$9(this,_BracketHandler_unresolvedNodes,"f").push(a)}normalizeUnresolvedNode(a){var l;if(a.type===NodeType.Unresolved){const c=a.rawValue+((l=a.value)!==null&&l!==void 0?l:"");a.removeChildren(a.children),a.setValue(c),a.type=NodeType.Text}}tryHandlePairBracket(a){if(this.ctx.bracketsStack.isEmpty||this.isOpenedBracket(a))return;const l=this.getOpenedBracket(this.tokenIterator.currentValue),c=this.ctx.bracketsStack.findLast(m=>m.value===l);if(!c)return;c.type=NodeType.Operator,a.type=NodeType.Operator;const d=c.parent.children.getNodesBetweenPairs(c,a,!0),f=this.handleBracketSequence(d);return f&&this.normalizeBracketedNodes(f,d),f}normalizeBracketedNodes(a,l){const c=l.first.parent;if(this.ctx.bracketsStack.removeNodes(l),c.removeChildren(l),this.bracketsWithRawContent.includes(l.first.value)){const d=this.astBuilder.getRawValueFromNodes(l.slice(1,-1)),f=this.astBuilder.createTextNode(d);l=new OrgChildrenList(l.first,f,l.last)}l=this.normalizeOrgLinkUrl(a,l),a.addChildren(l),c.addChild(a),this.astBuilder.mergeNeighborsNodesWithSameType(l.first)}addMetaInfo(a){a.is(NodeType.Link)&&a.updateMeta({linkType:this.determineLinkType(a.children.get(1).children.get(1))})}determineLinkType(a){const l=a.value;if(this.configuration.imgExtensions.find(d=>l.endsWith(d)))return"image";const u=linkTypes.find(d=>l.startsWith(`${d}:`));return u||(l.match(this.configuration.httpLinkRegexp)?"network":"raw")}normalizeOrgLinkUrl(a,l){if(a.isNot(NodeType.Link))return l;const c=l.get(1);if(c.length>3){const u=c.children.first,d=u.parent,f=c.children.last,m=this.astBuilder.getRawValueFromNodes(c.children.slice(1,-1)),g=this.astBuilder.createTextNode(m);d.removeChildren(d.children),d.addChildren([u,g,f])}return l}handleBracketSequence(a){if(!a.isEmpty)for(const l of this.bracketedNodesHandler){const c=l(a);if(c)return c}}handleChecboxBrackets(a){var l,c;const u=a.first.parent;if(!this.astBuilder.isNodesCheckbox(a))return;const f=((c=(l=a.get(1))===null||l===void 0?void 0:l.value)===null||c===void 0?void 0:c.toLowerCase())==="x",m=this.astBuilder.getRawValueFromNodes(a),g=this.astBuilder.createCheckboxNode(m,f);return u.type===NodeType.Headline&&(u.checked=f),g}handleLinkBrackets(a){var l;const c=this.isLinkBracketNodes(a),u=this.isLinkBracketNodes((l=a.get(1))===null||l===void 0?void 0:l.children);return c&&!u?new OrgNode({type:NodeType.Unresolved}):c&&u?(a.get(1).type=NodeType.LinkUrl,!!a.get(3)&&(a.get(2).type=NodeType.LinkName),this.astBuilder.createLinkNode()):void 0}handleListProgressBrackets(a){if(a.length!==5)return;const l=a.first.value==="[",c=a.last.value==="]",u=isNumber$2(a.get(1).value),d=a.get(2).value===this.listProgressSeparator,f=isNumber$2(a.get(3).value);if(l&&c&&u&&d&&f)return this.astBuilder.createProgressNode()}handlePriorityBrackets(a){var l,c,u,d,f;const m=(u=(c=(l=a.first)===null||l===void 0?void 0:l.parent)===null||c===void 0?void 0:c.parent)===null||u===void 0?void 0:u.is(NodeType.Headline),g=(f=(d=a.first)===null||d===void 0?void 0:d.prev)===null||f===void 0?void 0:f.is(NodeType.Operator);if(a.length!==3||!m||!g)return;const v=a.first.value==="[",y=a.last.value==="]",b=a.get(1).value,_=__classPrivateFieldGet$9(this,_BracketHandler_priorityValueRegexp,"f").test(b);if(!!(v&&y&&_))return this.astBuilder.createPriorityNode()}handleFormatBrackets(a){const l=this.textFormattersNodeTypeMap[a.last.value];return l?new OrgNode({type:l}):void 0}isLinkBracketNodes(a){if(!a)return!1;const l=a.first,c=a.last;return l.type===NodeType.Operator&&l.value==="["&&c.type===NodeType.Operator&&c.value==="]"}handleDateBrackets(a){return this.isDate(this.astBuilder.getRawValueFromNodes(a))?(this.tryCreateRangeDate(a.first.prev),this.astBuilder.createDateNode()):void 0}tryCreateRangeDate(a){if(!this.isDateDelimiterNode(a)||!(a!=null&&a.prev.is(NodeType.Date)))return;const l=this.astBuilder.createDateRangeNode(),c=a.parent,u=c.children.getNodesBetweenPairs(a.prev,null,!0);c.removeChildren(u),l.addChildren(u),c.addChild(l)}isDateDelimiterNode(a){return(a==null?void 0:a.value)===__classPrivateFieldGet$9(this,_BracketHandler_dateRangeDelimiter,"f")}isDate(a){return!!(a!=null&&a.match(this.configuration.dateRegexp))}isOpenedBracket(a){return!!Object.values(this.closedOpenedBrackets).find(l=>l===a.value)}removeFormattingInsideInlineCode(a){var l,c;const u=a.is(NodeType.InlineCode,NodeType.Verbatim),d=a.children.length!==1||!(!((c=(l=a.children)===null||l===void 0?void 0:l.get(1))===null||c===void 0)&&c.is(NodeType.Text));if(!u||!d)return;const f=a.children.first,m=a.children.last,g=a.children.getNodesBetweenPairs(f,m),v=this.astBuilder.getRawValueFromNodes(g),y=this.astBuilder.createTextNode(v);a.setChildren([f,y,m])}getOpenedBracket(a){var l;return(l=this.closedOpenedBrackets[a])!==null&&l!==void 0?l:a}handleEndOfLine(){const a=this.ctx.bracketsStack.filter(l=>l.parent);this.astBuilder.mergeNeighborsNodesWithSameType(a.first),__classPrivateFieldGet$9(this,_BracketHandler_unresolvedNodes,"f").forEach(l=>{!l.parent||l.is(NodeType.Unresolved)&&(this.normalizeUnresolvedNode(l),this.astBuilder.mergeNeighborsNodesWithSameType(l))}),__classPrivateFieldGet$9(this,_BracketHandler_unresolvedNodes,"f").clear(),this.ctx.bracketsStack.clear()}}_BracketHandler_dateRangeDelimiter=new WeakMap,_BracketHandler_priorityValueRegexp=new WeakMap,_BracketHandler_unresolvedNodes=new WeakMap;var __classPrivateFieldSet$6=globalThis&&globalThis.__classPrivateFieldSet||function(s,a,l,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?s!==a||!u:!a.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(s,l):u?u.value=l:a.set(s,l),l},__classPrivateFieldGet$8=globalThis&&globalThis.__classPrivateFieldGet||function(s,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(s):c?c.value:a.get(s)},_CommentHandler_lastCommentNode;class CommentHandler{get onHold(){if(!this.tokenIterator.token||this.tokenIterator.token.isType(TokenType.NewLine)){__classPrivateFieldSet$6(this,_CommentHandler_lastCommentNode,null,"f");return}return!!__classPrivateFieldGet$8(this,_CommentHandler_lastCommentNode,"f")}constructor(a,l){this.astBuilder=a,this.tokenIterator=l,_CommentHandler_lastCommentNode.set(this,void 0)}handle(){return __classPrivateFieldSet$6(this,_CommentHandler_lastCommentNode,this.astBuilder.createComment(),"f"),this.astBuilder.attachToTree(__classPrivateFieldGet$8(this,_CommentHandler_lastCommentNode,"f")),__classPrivateFieldGet$8(this,_CommentHandler_lastCommentNode,"f")}handleNewLine(){__classPrivateFieldSet$6(this,_CommentHandler_lastCommentNode,null,"f")}handleHolded(){if(!__classPrivateFieldGet$8(this,_CommentHandler_lastCommentNode,"f"))return;const a=__classPrivateFieldGet$8(this,_CommentHandler_lastCommentNode,"f").children.get(1);if(!a){__classPrivateFieldGet$8(this,_CommentHandler_lastCommentNode,"f").addChild(this.astBuilder.createTextNode(this.tokenIterator.currentValue));return}a.appendValue(this.tokenIterator.currentValue)}}_CommentHandler_lastCommentNode=new WeakMap;CommentHandler.tokenType=TokenType.Comment;var __classPrivateFieldGet$7=globalThis&&globalThis.__classPrivateFieldGet||function(s,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(s):c?c.value:a.get(s)},_ListHandler_listTagOperator;class ListHandler{constructor(a,l,c){this.ctx=a,this.astBuilder=l,this.tokenIterator=c,_ListHandler_listTagOperator.set(this,"::")}handle(){var a,l;const c=this.ctx.setupNewParentListByLevel(),u=((a=this.ctx.lastList)===null||a===void 0?void 0:a.level)===this.ctx.listLevel;if(c&&!u&&this.astBuilder.getLastSectionOrCreate(this.ctx.lastListItem),!this.ctx.nestedLists.length||c&&!u){const f=((l=this.tokenIterator.currentValue)===null||l===void 0?void 0:l[0])==="1";this.createEmptyList(f,this.ctx.listLevel)}this.createNewListItem(),this.ctx.nextIndentNode&&(this.astBuilder.attachToTree(this.ctx.nextIndentNode),this.ctx.resetIndent());const d={type:NodeType.Operator,value:this.tokenIterator.currentValue};return new OrgNode(d)}createEmptyList(a,l=0){const c=this.astBuilder.createList(a,l);return this.astBuilder.attachToTree(c),this.astBuilder.saveLastNode(c),this.ctx.addNestedList(c),c}createNewListItem(){const a=new OrgNode({type:NodeType.Title}),l=new OrgNode({type:NodeType.ListItem});l.setTitle(a),this.ctx.lastList.addChild(l),this.astBuilder.saveLastNode(a),this.ctx.insideListItem=!0}isListTagOperator(a){return this.ctx.insideListItem&&a===__classPrivateFieldGet$7(this,_ListHandler_listTagOperator,"f")}handleListTag(){const a=this.astBuilder.createOperatorNode(this.tokenIterator.currentValue);return this.astBuilder.lastNode.type=NodeType.ListTag,a}checkListEnded(){this.astBuilder.lastNode.is(NodeType.NewLine)&&!this.tokenIterator.token.isBlank&&!this.astBuilder.isListOperator(this.tokenIterator.currentValue)&&(this.ctx.exitList(),this.ctx.lastSection=null)}}_ListHandler_listTagOperator=new WeakMap;class PropertiesHandler{constructor(a,l,c){this.ctx=a,this.astBuilder=l,this.tokenIterator=c,this.propertiesBegin=":properties:",this.propertiesEnd=":end:"}isPropertyKeyword(){const a=this.tokenIterator.currentValue;return a.startsWith(":")&&a.endsWith(":")}isBlockPropertyKeyword(){const a=this.tokenIterator.currentValue;return a.startsWith(":")&&!a.endsWith(":")}handle(){const a=this.astBuilder.createPropertyNode();this.astBuilder.attachToTree(a);const l=this.tokenIterator.currentValue.toLowerCase();if(l===this.propertiesBegin)return this.propertiesBeginNode=a,a;if(!(l===this.propertiesEnd)||!this.propertiesBeginNode)return a;const d=this.propertiesBeginNode.parent.children.getNodesBetweenPairs(this.propertiesBeginNode,null,!0),f=this.tryHandleEndOfProperties(d);return f?(this.astBuilder.attachToTree(f),f):a}tryHandleEndOfProperties(a){var l;const c=a.first,u=c.parent.is(NodeType.Root),d=c.parent.is(NodeType.Section)&&c.parent.parent.is(NodeType.Headline);if(!(!(c!=null&&c.prev)&&(u||d)))return null;const m=this.astBuilder.createPropertyDrawerNode();return this.astBuilder.lastNode=(l=c.prev)!==null&&l!==void 0?l:c.parent,c.parent.removeChildren(a),m.addChildren(a),m}}var __classPrivateFieldGet$6=globalThis&&globalThis.__classPrivateFieldGet||function(s,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(s):c?c.value:a.get(s)},__classPrivateFieldSet$5=globalThis&&globalThis.__classPrivateFieldSet||function(s,a,l,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?s!==a||!u:!a.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(s,l):u?u.value=l:a.set(s,l),l},_KeywordHandler_instances,_KeywordHandler_lastKeyword,_KeywordHandler_htmlKeyword,_KeywordHandler_complexKeyword,_KeywordHandler_isHtmlKeyword_get;class KeywordHandler{constructor(a,l,c,u,d,f){this.configuration=a,this.ctx=l,this.astBuilder=c,this.tokenIterator=u,this.blockHandler=d,this.propertiesHandler=f,_KeywordHandler_instances.add(this),_KeywordHandler_lastKeyword.set(this,void 0),_KeywordHandler_htmlKeyword.set(this,"#+html:"),_KeywordHandler_complexKeyword.set(this,["#+filetags:","#+property:"])}get onHold(){var a,l,c;this.tokenIterator.token.isType(TokenType.NewLine)&&this.resetLastStoredKeyword();const u=(c=(l=(a=__classPrivateFieldGet$6(this,_KeywordHandler_lastKeyword,"f"))===null||a===void 0?void 0:a.children.first)===null||l===void 0?void 0:l.value)===null||c===void 0?void 0:c.toLowerCase(),d=u===__classPrivateFieldGet$6(this,_KeywordHandler_htmlKeyword,"f"),m=!__classPrivateFieldGet$6(this,_KeywordHandler_complexKeyword,"f").includes(u)&&u&&u[u.length-1]===":";return u&&(d||m)}handle(){var a;if(this.ctx.insideKeyword=!0,this.incorrectLatexEnvironmentKeyword())return;if(this.blockHandler.isBlockKeyword(this.tokenIterator.currentValue))return this.blockHandler.handle();if(this.propertiesHandler.isPropertyKeyword())return this.propertiesHandler.handle();if(this.isTodoKeyword(this.tokenIterator.currentValue))return this.handleTodoKeyword();if(this.propertiesHandler.isBlockPropertyKeyword())return this.blockHandler.handleBlockProperty();const l=this.astBuilder.createTextNode(this.tokenIterator.currentValue),c=this.astBuilder.createKeywordNode(l);if(__classPrivateFieldSet$5(this,_KeywordHandler_lastKeyword,c,"f"),__classPrivateFieldGet$6(this,_KeywordHandler_instances,"a",_KeywordHandler_isHtmlKeyword_get)&&!(!((a=this.astBuilder.lastNode.parent)===null||a===void 0)&&a.is(NodeType.InlineHtml))){const u=this.astBuilder.createInlineHtmlNode();this.astBuilder.attachToTree(u),this.astBuilder.preserveLastPositionSnapshot(u)}return this.astBuilder.attachToTree(c),c}incorrectLatexEnvironmentKeyword(){if(this.tokenIterator.currentValue!=="\\")return;if(this.astBuilder.lastNode.is(NodeType.Text))return this.astBuilder.lastNode.appendValue(this.tokenIterator.currentValue),!0;const a=this.astBuilder.createTextNode(this.tokenIterator.currentValue);return this.astBuilder.attachToTree(a),this.astBuilder.preserveLastPositionSnapshot(a),!0}isTodoKeyword(a){return this.configuration.todoKeywords.includes(a)}handleTodoKeyword(){const a=this.astBuilder.createTodoKeywordNode();return this.astBuilder.attachToTree(a),a}handleEndOfLine(){var a;(a=__classPrivateFieldGet$6(this,_KeywordHandler_lastKeyword,"f"))===null||a===void 0||a.calculateNodeProperties(),this.resetLastStoredKeyword()}resetLastStoredKeyword(){__classPrivateFieldSet$5(this,_KeywordHandler_lastKeyword,null,"f")}handleHolded(){if(!this.astBuilder.lastNode.is(NodeType.Text)){const a=this.astBuilder.lastNode,l=this.astBuilder.createTextNode(this.tokenIterator.currentValue);return a.addChild(l),l}this.astBuilder.lastNode.appendValue(this.tokenIterator.currentValue)}}_KeywordHandler_lastKeyword=new WeakMap,_KeywordHandler_htmlKeyword=new WeakMap,_KeywordHandler_complexKeyword=new WeakMap,_KeywordHandler_instances=new WeakSet,_KeywordHandler_isHtmlKeyword_get=function(){var a;return((a=this.tokenIterator.currentValue)===null||a===void 0?void 0:a.toLowerCase())===__classPrivateFieldGet$6(this,_KeywordHandler_htmlKeyword,"f")};class HorizontalRuleHandler{constructor(a,l,c){this.configuration=a,this.astBuilder=l,this.tookenInterator=c}handle(){const a=this.astBuilder.createHorizontalRuleNode(this.tookenInterator.currentValue);return this.astBuilder.attachToTree(a),a}}var __classPrivateFieldGet$5=globalThis&&globalThis.__classPrivateFieldGet||function(s,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(s):c?c.value:a.get(s)},_LatexEnvironmentHandler_instances,_LatexEnvironmentHandler_latexOpenedBracket,_LatexEnvironmentHandler_latexClosedBracket,_LatexEnvironmentHandler_latexEnvironmentBlocks,_LatexEnvironmentHandler_handleLatexBracket,_LatexEnvironmentHandler_tryMergeInconsistentLatexNodes,_LatexEnvironmentHandler_handleOpenedLatexBracket,_LatexEnvironmentHandler_mergePreviousLatexBracket,_LatexEnvironmentHandler_handleClosedLatexBracket,_LatexEnvironmentHandler_mergeLatexEnvironmentNodes,_LatexEnvironmentHandler_handleLatexEnvironmentKeyword,_LatexEnvironmentHandler_isLatexBrackets;class LatexEnvironmentHandler{constructor(a,l,c,u){this.configuration=a,this.ctx=l,this.astBuilder=c,this.tokenIterator=u,_LatexEnvironmentHandler_instances.add(this),_LatexEnvironmentHandler_latexOpenedBracket.set(this,"{"),_LatexEnvironmentHandler_latexClosedBracket.set(this,"}"),_LatexEnvironmentHandler_latexEnvironmentBlocks.set(this,{begin:"\\begin",end:"\\end"})}get isBeginLatexEnvironmentKeyword(){return this.tokenIterator.currentValue===__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_latexEnvironmentBlocks,"f").begin}get isEndLatexEnvironmentKeyword(){return this.tokenIterator.currentValue===__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_latexEnvironmentBlocks,"f").end}handle(){return __classPrivateFieldGet$5(this,_LatexEnvironmentHandler_instances,"m",_LatexEnvironmentHandler_isLatexBrackets).call(this)?__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_instances,"m",_LatexEnvironmentHandler_handleLatexBracket).call(this):__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_instances,"m",_LatexEnvironmentHandler_handleLatexEnvironmentKeyword).call(this)}isLatexEnvironmentKeyword(a){return Object.values(__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_latexEnvironmentBlocks,"f")).includes(a)}handleEndOfFile(){if(this.ctx.beginLatexEnvironmentKeyword){this.astBuilder.mergeNeighborsNodesWithSameType(this.ctx.beginLatexEnvironmentKeyword);return}this.ctx.beginLatexBracket&&this.astBuilder.mergeNeighborsNodesWithSameType(this.ctx.beginLatexBracket)}}_LatexEnvironmentHandler_latexOpenedBracket=new WeakMap,_LatexEnvironmentHandler_latexClosedBracket=new WeakMap,_LatexEnvironmentHandler_latexEnvironmentBlocks=new WeakMap,_LatexEnvironmentHandler_instances=new WeakSet,_LatexEnvironmentHandler_handleLatexBracket=function(){const a=this.tokenIterator.currentValue===__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_latexOpenedBracket,"f"),l=a?__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_instances,"m",_LatexEnvironmentHandler_handleOpenedLatexBracket).call(this):__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_instances,"m",_LatexEnvironmentHandler_handleClosedLatexBracket).call(this);if(!l&&!a)return this.astBuilder.attachToTree(this.astBuilder.createTextNode(this.tokenIterator.currentValue));if(!l)return;if(!a&&this.ctx.endLatexEnvironmentKeyword){this.astBuilder.attachToTree(l);const u=__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_instances,"m",_LatexEnvironmentHandler_mergeLatexEnvironmentNodes).call(this,l);return this.astBuilder.attachToTree(u),this.ctx.endLatexEnvironmentKeyword=void 0,u}this.astBuilder.attachToTree(l);const c=__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_instances,"m",_LatexEnvironmentHandler_tryMergeInconsistentLatexNodes).call(this,l);return c!=null?c:l},_LatexEnvironmentHandler_tryMergeInconsistentLatexNodes=function(a){if(this.tokenIterator.currentValue!==__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_latexOpenedBracket,"f")&&!this.ctx.beginLatexEnvironmentKeyword&&a.prev&&a.prev.isNot(NodeType.Unresolved))return this.astBuilder.mergeNeighborsNodesWithSameType(this.ctx.beginLatexEnvironmentKeyword),a.prev},_LatexEnvironmentHandler_handleOpenedLatexBracket=function(){return this.ctx.beginLatexBracket&&__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_instances,"m",_LatexEnvironmentHandler_mergePreviousLatexBracket).call(this),this.ctx.beginLatexBracket=this.astBuilder.createUnresolvedNode(),this.ctx.beginLatexBracket},_LatexEnvironmentHandler_mergePreviousLatexBracket=function(){this.ctx.beginLatexBracket.type=NodeType.Text,this.astBuilder.mergeNeighborsNodesWithSameType(this.ctx.beginLatexBracket,NodeType.Text),this.ctx.beginLatexBracket=void 0},_LatexEnvironmentHandler_handleClosedLatexBracket=function(){var a;if(!this.ctx.beginLatexBracket)return this.astBuilder.createTextNode(this.tokenIterator.currentValue);const l=this.astBuilder.createUnresolvedNode(this.tokenIterator.currentValue),c=this.ctx.beginLatexBracket.parent;if(!c)return;const u=c.children.getNodesBetweenPairs(this.ctx.beginLatexBracket,null,!0);this.astBuilder.lastNode=(a=this.ctx.beginLatexBracket.prev)!==null&&a!==void 0?a:this.ctx.beginLatexBracket.parent,c.removeChildren(u),u.push(l);const d=this.astBuilder.getRawValueFromNodes(u),f=this.astBuilder.createTextNode(d);return this.ctx.beginLatexBracket=null,f},_LatexEnvironmentHandler_mergeLatexEnvironmentNodes=function(a){const l=this.ctx.beginLatexEnvironmentKeyword.parent,c=l.children.getNodesBetweenPairs(this.ctx.beginLatexEnvironmentKeyword,a,!0),u=this.astBuilder.getRawValueFromNodes(c),d=this.astBuilder.createLatexEnvironmentNode(u);return this.astBuilder.lastNode=c.first.prev||c.first.parent,l.removeChildren(c),d},_LatexEnvironmentHandler_handleLatexEnvironmentKeyword=function(){const a=this.astBuilder.createTextNode(this.tokenIterator.currentValue);return this.isBeginLatexEnvironmentKeyword&&(this.ctx.beginLatexEnvironmentKeyword=a),this.ctx.beginLatexEnvironmentKeyword&&this.isEndLatexEnvironmentKeyword&&(this.ctx.endLatexEnvironmentKeyword=a),this.astBuilder.attachToTree(a),a},_LatexEnvironmentHandler_isLatexBrackets=function(){var a;const l=this.tokenIterator.currentValue===__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_latexClosedBracket,"f"),c=((a=this.astBuilder.lastNode)===null||a===void 0?void 0:a.value)==="\\begin"&&this.tokenIterator.currentValue===__classPrivateFieldGet$5(this,_LatexEnvironmentHandler_latexOpenedBracket,"f");return l||c};var __classPrivateFieldGet$4=globalThis&&globalThis.__classPrivateFieldGet||function(s,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(s):c?c.value:a.get(s)},__classPrivateFieldSet$4=globalThis&&globalThis.__classPrivateFieldSet||function(s,a,l,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?s!==a||!u:!a.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(s,l):u?u.value=l:a.set(s,l),l},_TableHandler_instances,_TableHandler_lastPipeOperator,_TableHandler_lastTableRow,_TableHandler_lastTable,_TableHandler_tableLine,_TableHandler_isTableLine,_TableHandler_mergeCurrentToken,_TableHandler_createTableCell,_TableHandler_createTableIfNotExist,_TableHandler_getOrCreateTableRow;class TableHandler{constructor(a,l,c){this.configuration=a,this.astBuilder=l,this.tokenIterator=c,_TableHandler_instances.add(this),_TableHandler_lastPipeOperator.set(this,void 0),_TableHandler_lastTableRow.set(this,void 0),_TableHandler_lastTable.set(this,void 0),_TableHandler_tableLine.set(this,void 0)}handle(){if(this.astBuilder.checkContext(),!__classPrivateFieldGet$4(this,_TableHandler_instances,"m",_TableHandler_isTableLine).call(this))return;if(__classPrivateFieldGet$4(this,_TableHandler_lastPipeOperator,"f"))return __classPrivateFieldGet$4(this,_TableHandler_instances,"m",_TableHandler_createTableCell).call(this);__classPrivateFieldSet$4(this,_TableHandler_lastPipeOperator,this.astBuilder.createOperatorNode(this.tokenIterator.currentValue),"f");const a=this.astBuilder.lastNode,l=__classPrivateFieldGet$4(this,_TableHandler_instances,"m",_TableHandler_createTableIfNotExist).call(this);a.is(NodeType.Indent)&&(a.parent.removeNode(a),l.addChild(a));const c=__classPrivateFieldGet$4(this,_TableHandler_instances,"m",_TableHandler_getOrCreateTableRow).call(this);c.addChild(__classPrivateFieldGet$4(this,_TableHandler_lastPipeOperator,"f"));const u=this.astBuilder.createTableCellNode();return c.addChild(u),u}handleDelimiter(){const a=__classPrivateFieldGet$4(this,_TableHandler_instances,"m",_TableHandler_createTableIfNotExist).call(this),l=this.astBuilder.createTableDelimiterNode(this.tokenIterator.currentValue);return a.addChild(l),l}handleNewLine(){__classPrivateFieldGet$4(this,_TableHandler_lastTableRow,"f")?__classPrivateFieldSet$4(this,_TableHandler_lastTable,__classPrivateFieldGet$4(this,_TableHandler_lastTableRow,"f").parent,"f"):__classPrivateFieldSet$4(this,_TableHandler_lastTable,null,"f"),__classPrivateFieldSet$4(this,_TableHandler_lastTableRow,null,"f"),__classPrivateFieldSet$4(this,_TableHandler_lastPipeOperator,null,"f"),__classPrivateFieldSet$4(this,_TableHandler_tableLine,null,"f")}}_TableHandler_lastPipeOperator=new WeakMap,_TableHandler_lastTableRow=new WeakMap,_TableHandler_lastTable=new WeakMap,_TableHandler_tableLine=new WeakMap,_TableHandler_instances=new WeakSet,_TableHandler_isTableLine=function(){var a;if(__classPrivateFieldGet$4(this,_TableHandler_tableLine,"f")===!1)return __classPrivateFieldGet$4(this,_TableHandler_instances,"m",_TableHandler_mergeCurrentToken).call(this),__classPrivateFieldGet$4(this,_TableHandler_tableLine,"f");const l=this.astBuilder.lastNode,c=l.is(NodeType.Indent)&&(!(l!=null&&l.prev)||((a=l.prev)===null||a===void 0?void 0:a.is(NodeType.NewLine,NodeType.Root)));return __classPrivateFieldSet$4(this,_TableHandler_tableLine,__classPrivateFieldGet$4(this,_TableHandler_tableLine,"f")||l.is(NodeType.NewLine,NodeType.Root)||c,"f"),__classPrivateFieldGet$4(this,_TableHandler_tableLine,"f")||__classPrivateFieldGet$4(this,_TableHandler_instances,"m",_TableHandler_mergeCurrentToken).call(this),__classPrivateFieldGet$4(this,_TableHandler_tableLine,"f")},_TableHandler_mergeCurrentToken=function(){const a=this.astBuilder.lastNode;if(a.is(NodeType.Text)){a.appendValue(this.tokenIterator.currentValue);return}this.astBuilder.attachToTree(this.astBuilder.createTextNode(this.tokenIterator.currentValue))},_TableHandler_createTableCell=function(){__classPrivateFieldSet$4(this,_TableHandler_lastPipeOperator,this.astBuilder.createOperatorNode(this.tokenIterator.currentValue),"f");const a=__classPrivateFieldGet$4(this,_TableHandler_instances,"m",_TableHandler_getOrCreateTableRow).call(this);if(a.addChild(__classPrivateFieldGet$4(this,_TableHandler_lastPipeOperator,"f")),this.tokenIterator.nextToken&&!this.tokenIterator.nextToken.isType(TokenType.NewLine)){const l=this.astBuilder.createTableCellNode();return a.addChild(l),l}return __classPrivateFieldGet$4(this,_TableHandler_lastPipeOperator,"f")},_TableHandler_createTableIfNotExist=function(){if(__classPrivateFieldGet$4(this,_TableHandler_lastTable,"f"))return __classPrivateFieldGet$4(this,_TableHandler_lastTable,"f");if(__classPrivateFieldGet$4(this,_TableHandler_lastTableRow,"f"))return __classPrivateFieldGet$4(this,_TableHandler_lastTableRow,"f").parent;const a=this.astBuilder.createTableNode();return this.astBuilder.attachToTree(a),this.astBuilder.saveLastNode(a),a},_TableHandler_getOrCreateTableRow=function(){return __classPrivateFieldGet$4(this,_TableHandler_lastTableRow,"f")||(__classPrivateFieldSet$4(this,_TableHandler_lastTableRow,this.astBuilder.createTableRowNode(),"f"),this.astBuilder.attachToTree(__classPrivateFieldGet$4(this,_TableHandler_lastTableRow,"f")),this.astBuilder.saveLastNode(__classPrivateFieldGet$4(this,_TableHandler_lastTableRow,"f"))),__classPrivateFieldGet$4(this,_TableHandler_lastTableRow,"f")};var __classPrivateFieldGet$3=globalThis&&globalThis.__classPrivateFieldGet||function(s,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(s):c?c.value:a.get(s)},__classPrivateFieldSet$3=globalThis&&globalThis.__classPrivateFieldSet||function(s,a,l,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?s!==a||!u:!a.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(s,l):u?u.value=l:a.set(s,l),l},_AstBuilder_nodeTree;class AstBuilder{get nodeTree(){return __classPrivateFieldGet$3(this,_AstBuilder_nodeTree,"f")}constructor(a,l){this.ctx=a,this.tokenIterator=l,this.lastPos=0,_AstBuilder_nodeTree.set(this,void 0),this.parentMatchers=[this.isParentAlreadyExist,this.isCellSrc,this.isPartOfSection,this.isPartOfTable,this.isPropertyDrawer,this.isCellDst,this.isInlineHtml,this.isPartOfPropertyKeyword,this.isPartOfKeyword,this.isPartOfBlockProperty,this.isDestinationRootNode,this.isPropertyKeyVal,this.isCommentParent,this.isNotListIndentInsideSection,this.isKeyword,this.isNodeAfterListWithSameLevel,this.isInsideList,this.isNestedHeadline,this.isInsideListItemTitle,this.isCommonDestinationAndSrcNotHeadline],this.initRootNode()}increaseLastPosition(a){this.lastPos+=a.length}initRootNode(){__classPrivateFieldSet$3(this,_AstBuilder_nodeTree,new OrgNode({type:NodeType.Root,children:[]}),"f"),this.preserveLastPositionSnapshot(this.nodeTree)}attachToTree(a){return this.findParentForNodeType(a).addChild(a),a}findFirstParentNodeWithType(...a){let l=this.lastNode;for(;l;){if(a.includes(l.type))return l;l=l.parent}}isNotListIndentInsideSection(a,l){if(a.type===NodeType.Indent&&!this.isListOperator(this.tokenIterator.currentValue)&&this.ctx.lastSection)return this.ctx.lastSection}isParentAlreadyExist(a,l){if(a.parent)return a.parent}isNodeAfterListWithSameLevel(a,l){var c;const u=!!this.ctx.topLevelList;if(!this.ctx.nextIndentNode&&((c=this.tokenIterator.prevToken)===null||c===void 0?void 0:c.isType(TokenType.NewLine))&&u&&!this.isListOperator(this.tokenIterator.currentValue))return this.ctx.topLevelList.parent}isDestinationRootNode(a,l){if(l.type===NodeType.Root&&!a.is(NodeType.TableCell,NodeType.TableRow))return l}isPropertyKeyVal(a,l){if(a.is(NodeType.Text)&&l.is(NodeType.Property)&&l.children.length<2)return l}isInsideList(a,l){var c,u,d,f,m,g;const v=((u=(c=this.ctx.lastSection)===null||c===void 0?void 0:c.parent)===null||u===void 0?void 0:u.parent.is(NodeType.List))&&((m=(f=(d=this.ctx.lastSection)===null||d===void 0?void 0:d.parent)===null||f===void 0?void 0:f.parent)===null||m===void 0?void 0:m.level)<a.level;if(((g=l.parent)===null||g===void 0?void 0:g.is(NodeType.List,NodeType.ListItem,NodeType.Root))&&!this.ctx.insideHeadline&&this.ctx.lastSection&&a.type!==NodeType.ListItem&&!this.ctx.insideListItem&&(this.ctx.lastSection.parent.type!==NodeType.ListItem||v))return this.ctx.lastSection}isNestedHeadline(a,l){const c=a.type===NodeType.Headline,u=l.type===NodeType.Headline;if(c&&u&&a.level>l.level)return l.section}isCommonDestinationAndSrcNotHeadline(a,l){if(!a.isNot(NodeType.Headline,NodeType.TableRow,NodeType.TableCell))return;const u=l.is(NodeType.Section)&&l.parent.is(NodeType.Headline),d=l.is(NodeType.Section)&&l.parent.is(NodeType.ListItem)&&this.lastNode.isNot(NodeType.NewLine);if(l.is(NodeType.Root,NodeType.Headline)||u||d)return l}isKeyword(a,l){if(a.type===NodeType.Keyword&&[NodeType.SrcBlock,NodeType.BlockFooter,NodeType.BlockHeader,NodeType.BlockBody].includes(l.type))return l}isCommentParent(a,l){if([NodeType.Text].includes(a.type)&&l.type===NodeType.Comment)return l}isPropertyDrawer(a,l){if(a.is(NodeType.PropertyDrawer)&&l.is(NodeType.Root,NodeType.Headline))return l}isPartOfKeyword(a,l){if(!l.isNot(NodeType.Keyword)&&(a.is(NodeType.TagList)||a.is(NodeType.Text)&&l.children.length<2))return l}isPartOfBlockProperty(a,l){if(a.is(NodeType.Text)&&l.is(NodeType.BlockProperty)&&l.children.length<2)return l}isPartOfPropertyKeyword(a,l){if(a.is(NodeType.BlockProperty),l.is(NodeType.Keyword)&&l.children.first.isEqual("#+property:"))return l}isInlineHtml(a,l){if(a.is(NodeType.Keyword,NodeType.NewLine)&&l.is(NodeType.InlineHtml))return l}isCellSrc(a,l){if(a.is(NodeType.TableCell)&&l.is(NodeType.TableRow))return l}isPartOfTable(a,l){const c=a.is(NodeType.NewLine)&&(!this.tokenIterator.nextToken||this.tokenIterator.nextToken.isType(TokenType.TableOperator,TokenType.Indent,TokenType.TableDelimiter));if(l.is(NodeType.Table)&&(a.is(NodeType.TableRow,NodeType.Indent)||c))return l}isCellDst(a,l){if(!l.is(NodeType.TableCell))return;if(a.is(NodeType.Text,NodeType.Bold,NodeType.Italic,NodeType.Crossed,NodeType.Link,NodeType.Date,NodeType.DateRange,NodeType.InlineCode,NodeType.Verbatim,NodeType.TodoKeyword,NodeType.LinkName,NodeType.LinkUrl,NodeType.Operator,NodeType.Unresolved))return l}isPartOfSection(a,l){var c;if(!(this.ctx.insideHeadline||l.isNot(NodeType.Title)||((c=l==null?void 0:l.parent)===null||c===void 0?void 0:c.isNot(NodeType.Headline))))return l.parent.section}isInsideListItemTitle(a,l){var c,u;const d=l.is(NodeType.Title)&&l.parent.is(NodeType.ListItem),f=a.isNot(NodeType.Headline,NodeType.Section,NodeType.Title),m=(u=(c=l.children)===null||c===void 0?void 0:c.last)===null||u===void 0?void 0:u.is(NodeType.NewLine);if(!(!d||!f||m))return l}findParentForNodeType(a,l){if(l=l||this.lastNode,!l)throw new Error("Something went wrong, couldn't find last node");for(const c of this.parentMatchers){const u=c.bind(this)(a,l);if(u)return u}if(!l.parent)throw console.log(`\u270E: [ast-builder.ts][${new Date().toString()}] node tree`,this.nodeTree.toString()),console.log(`\u270E: [ast-builder.ts][${new Date().toString()}] current pos`,this.tokenIterator.token.start),new Error(`Something went wrong, couldn't find parent for:
   [${a.type}: ${a.rawValue}](${this.tokenIterator.token.start}:${this.tokenIterator.token.end}), prev node: [${l.type}: ${l.rawValue}](${l.start}:${l.end})`);return this.findParentForNodeType(a,l.parent)}createTitleNode(){return new OrgNode({type:NodeType.Title})}createTodoKeywordNode(){return new OrgNode({type:NodeType.TodoKeyword,value:this.tokenIterator.currentValue})}createHeadline(){const a=new OrgNode({type:NodeType.Headline,level:this.tokenIterator.currentValue.trim().length});a.setTitle(this.createTitleNode());const l=new OrgNode({type:NodeType.Operator,value:this.tokenIterator.currentValue});return a.title.addChild(l),a}createKeywordNode(...a){const l=new OrgNode({type:NodeType.Keyword});return l.addChildren(a),l}createText(){return new OrgNode({type:NodeType.Text,value:this.tokenIterator.currentValue})}preserveLastPositionSnapshot(a){this.lastPos=a.end,this.saveLastNode(a)}saveLastNode(a){this.lastNode=a}getLastSectionOrCreate(a){const l=a||this.findFirstParentNodeWithType(NodeType.Headline,NodeType.Section,NodeType.ListItem);if((l==null?void 0:l.section)||(l==null?void 0:l.type)===NodeType.Section||!l)return;const u=new OrgNode({type:NodeType.Section});l.setSection(u),this.ctx.lastSection=u}mergeUnresolvedNodes(a,l){const c=[],u=a[0].prev;return a.forEach(d=>{const f=c[c.length-1];if(d.type===NodeType.Unresolved&&(d.type=l||NodeType.Text),!f){c.push(d);return}if(f.type===NodeType.Text&&d.type===NodeType.Text){f.appendValue(d.value);return}c.push(d)}),c[0].setPrev(u),c}createCheckboxNode(a,l){return new OrgNode({type:NodeType.Checkbox,checked:l,value:a})}isNodesCheckbox(a){var l,c,u,d;if(a.length!==3)return!1;const f=[" ","x","-"];return((l=a.first)===null||l===void 0?void 0:l.value)==="["&&f.includes((u=(c=a.get(1))===null||c===void 0?void 0:c.value)===null||u===void 0?void 0:u.toLocaleLowerCase())&&((d=a.last)===null||d===void 0?void 0:d.value)==="]"}parentNodeExist(a,l){return Array.isArray(l)||(l=[l]),a.parent?l.includes(a.parent.type)?!0:this.parentNodeExist(a.parent,l):!1}getRawValueFromNodes(a){return a instanceof OrgChildrenList?a.map(l=>l.rawValue).join(""):a.rawValue}createIndentNode(a){return new OrgNode({type:NodeType.Indent,value:a||this.tokenIterator.currentValue})}createRawLinkNode(a){return new OrgNode({type:NodeType.RawLink,value:a})}createComment(){const a=new OrgNode({type:NodeType.Comment}),l=new OrgNode({type:NodeType.Operator,value:this.tokenIterator.currentValue});return a.addChild(l),a}createNewLineNode(){return new OrgNode({type:NodeType.NewLine,value:this.tokenIterator.currentValue})}createBlockNode(a,l){return new OrgNode({type:a,properties:l})}createTextNode(a){return new OrgNode({type:NodeType.Text,value:a})}createUnresolvedNode(a){return new OrgNode({type:NodeType.Unresolved,value:a!=null?a:this.tokenIterator.currentValue})}createInlineHtmlNode(){return new OrgNode({type:NodeType.InlineHtml})}createTagListNode(){return new OrgNode({type:NodeType.TagList})}createDateRangeNode(){return new OrgNode({type:NodeType.DateRange})}createPriorityNode(){return new OrgNode({type:NodeType.Priority})}createBlockPropertyNode(a){const l=new OrgNode({type:NodeType.BlockProperty});return l.addChild(a),l}createPropertyDrawerNode(){return new OrgNode({type:NodeType.PropertyDrawer})}createHorizontalRuleNode(a){return new OrgNode({type:NodeType.HorizontalRule,value:a})}createPropertyNode(a,l){const c=new OrgNode({type:NodeType.Property});if(l)return c.addChildren(l),c;const u=new OrgNode({type:NodeType.Text,value:a||this.tokenIterator.currentValue});return c.addChild(u),c}createFixedWidthNode(){return new OrgNode({type:NodeType.FixedWidth})}createOperatorNode(a){return new OrgNode({type:NodeType.Operator,value:a})}createLinkNode(){return new OrgNode({type:NodeType.Link})}createDateNode(){return new OrgNode({type:NodeType.Date})}isListOperator(a){return!!/^((-|\+) )|([1-9][0-9]*((\)|\.)) )$/.exec(a)}createBlockHeaderNode(a){return this.createBlockSubNode(NodeType.BlockHeader,a)}createProgressNode(){return new OrgNode({type:NodeType.Progress})}createBlockFooterNode(a){return this.createBlockSubNode(NodeType.BlockFooter,a)}createBlockBodyNode(a){return this.createBlockSubNode(NodeType.BlockBody,a)}createBlockSubNode(a,l){const c=new OrgNode({type:a});return c.addChildren(l),c}createList(a,l=0){return new OrgNode({type:NodeType.List,level:l,ordered:a,children:[]})}createLatexEnvironmentNode(a){return new OrgNode({type:NodeType.LatexEnvironment,value:a})}createTableCellNode(){return new OrgNode({type:NodeType.TableCell})}createTableRowNode(){return new OrgNode({type:NodeType.TableRow})}createTableNode(){return new OrgNode({type:NodeType.Table})}createTableDelimiterNode(a){return new OrgNode({type:NodeType.TableDelimiter,value:a})}checkContext(){this.checkExitList()}checkExitList(){var a;((a=this.lastNode.value)===null||a===void 0?void 0:a.endsWith(`
`))&&this.lastNode.isNot(NodeType.Indent)&&this.ctx.exitList()}mergeNeighborsNodesWithSameType(a,...l){var c;if(!a)return;let u=a;for(;u;){if(this.couldBeMergedIntoText(u,...l)&&(u.type=NodeType.Text),this.couldBeMergedIntoText(u,...l)&&this.couldBeMergedIntoText(u.prev,...l)){const d=u.prev;d.appendValue(u.rawValue),(c=d.parent)===null||c===void 0||c.removeNode(u),this.lastNode=d}else this.lastNode=u;u=u.next}}couldBeMergedIntoText(a,...l){if(!!a)return l!=null&&l.length?l.includes(a==null?void 0:a.type):a.is(NodeType.Text,NodeType.Unresolved)||a.is(NodeType.Operator)&&["<",">"].includes(a.value)&&!a.parent.is(NodeType.Date)}}_AstBuilder_nodeTree=new WeakMap;var __classPrivateFieldGet$2=globalThis&&globalThis.__classPrivateFieldGet||function(s,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(s):c?c.value:a.get(s)},__classPrivateFieldSet$2=globalThis&&globalThis.__classPrivateFieldSet||function(s,a,l,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?s!==a||!u:!a.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(s,l):u?u.value=l:a.set(s,l),l},_AstContext_nextIndentNode,_AstContext_nestedLists;class AstContext{constructor(){_AstContext_nextIndentNode.set(this,void 0),_AstContext_nestedLists.set(this,[]),this.insideListItem=!1,this.insideHeadline=null,this.insideKeyword=null,this.bracketsStack=new OrgChildrenList,this.srcBlockBegin=null,this.blockBegin=null,this.lastValueWasNewLine=!1}get lastParentList(){return __classPrivateFieldGet$2(this,_AstContext_nestedLists,"f").length?__classPrivateFieldGet$2(this,_AstContext_nestedLists,"f")[__classPrivateFieldGet$2(this,_AstContext_nestedLists,"f").length-1]:null}get lastListItem(){var a,l;return(l=(a=__classPrivateFieldGet$2(this,_AstContext_nestedLists,"f")[__classPrivateFieldGet$2(this,_AstContext_nestedLists,"f").length-1])===null||a===void 0?void 0:a.children)===null||l===void 0?void 0:l[0]}get lastList(){return __classPrivateFieldGet$2(this,_AstContext_nestedLists,"f")[__classPrivateFieldGet$2(this,_AstContext_nestedLists,"f").length-1]}get listLevel(){var a;return(((a=__classPrivateFieldGet$2(this,_AstContext_nextIndentNode,"f"))===null||a===void 0?void 0:a.value.length)||0)/2}get nextIndentNode(){return __classPrivateFieldGet$2(this,_AstContext_nextIndentNode,"f")}set nextIndentNode(a){__classPrivateFieldSet$2(this,_AstContext_nextIndentNode,a,"f")}get nestedLists(){return __classPrivateFieldGet$2(this,_AstContext_nestedLists,"f")}get topLevelList(){return __classPrivateFieldGet$2(this,_AstContext_nestedLists,"f")[0]}setupNewParentListByLevel(){return __classPrivateFieldSet$2(this,_AstContext_nestedLists,__classPrivateFieldGet$2(this,_AstContext_nestedLists,"f").filter(a=>a.level<=this.listLevel),"f"),this.lastList}resetIndent(){__classPrivateFieldSet$2(this,_AstContext_nextIndentNode,null,"f")}addNestedList(a){__classPrivateFieldGet$2(this,_AstContext_nestedLists,"f").push(a)}exitLastList(){__classPrivateFieldGet$2(this,_AstContext_nestedLists,"f").pop()}exitList(){__classPrivateFieldSet$2(this,_AstContext_nestedLists,[],"f"),this.insideListItem=!1}resetSrcBlockInfo(){this.srcBlockBegin=null}resetQuoteBlockInfo(){this.blockBegin=null}resetLatexEnvironmentInfo(){this.beginLatexEnvironmentKeyword=null,this.endLatexEnvironmentKeyword=null,this.beginLatexBracket=null}exitNestedListInRanges(a,l){__classPrivateFieldSet$2(this,_AstContext_nestedLists,__classPrivateFieldGet$2(this,_AstContext_nestedLists,"f").filter(c=>!hasIntersection(a,l,c.start,c.end)),"f")}exitSectionByRange(a,l){if(!this.lastSection)return;hasIntersection(a,l,this.lastSection.start,this.lastSection.end)&&(this.lastSection=null)}}_AstContext_nextIndentNode=new WeakMap,_AstContext_nestedLists=new WeakMap;class Tokenizer{constructor(a,l){var c;this.text=a,this.configuration=l,this.delimiter=" ",this.nonbreakingSpace="\xA0",this.pairBrackets=["[","]","<",">"],this.formatterBrackets=["=","+","/","*","~","$"],this.horizontalRuleChar="-",this.newLineChar=`
`,this.horizontalRuleMinLength=5,this.latexEnvironmentBlocks=["\\begin","\\end"],this.keywordStartOperator="#+",this.brackets=[...this.formatterBrackets,...this.pairBrackets],this.listItemCloseSymbols=[")","."],this.begin=0,this.end=0,this.point=0,this.todoKeywords=[],this.formattersWithSpaceAtTheEnd=["-","+"],this.todoKeywords=(c=l.todoKeywords)!==null&&c!==void 0?c:[],this.initTokenAggregators()}initTokenAggregators(){const a={"*":c=>this.handleAsterisk(c),[this.delimiter]:c=>this.preserveTableDelimiter(this.handleDelimiter)(c),[this.nonbreakingSpace]:c=>this.preserveTableDelimiter(this.handleDelimiter)(c),"#":c=>this.preserveTableDelimiter(this.preserveLink(this.handleNumberSign))(c),"-":c=>this.preserveTableDelimiter(this.preserveLink(this.handleDash))(c),"+":c=>this.preserveTableDelimiter(this.preserveLink(this.handlePlus))(c),":":c=>this.preserveTableDelimiter(this.preserveLink(this.handleColon))(c),".":c=>this.preserveTableDelimiter(this.preserveLink(this.handlePoint))(c),")":c=>this.preserveTableDelimiter(this.preserveLink(this.handleParenthesis))(c),"\n":c=>this.handleNewLine(c),"\\":c=>this.preserveTableDelimiter(this.preserveLink(this.handleBackslash))(c),"{":c=>this.preserveTableDelimiter(this.preserveLink(this.handleLatexBrackets))(c),"}":c=>this.preserveTableDelimiter(this.preserveLink(this.handleLatexBrackets))(c),"|":c=>this.preserveTableDelimiter(this.preserveLink(this.handlePipe))(c)},l=this.brackets.reduce((c,u)=>(c[u]=d=>this.handleBracket(d),c),{});this.tokenAggregators=Object.assign(Object.assign({},l),a)}get nextChar(){return this.text[this.point+1]}get prevChar(){return this.text[this.point-1]}get isPrevTokenEndsWithSpace(){var a;return this.lastToken?((a=this.lastToken.value)===null||a===void 0?void 0:a[this.lastToken.value.length-1])===this.delimiter:!1}tokenize(){for(;this.point<this.text.length;this.point++){const a=this.text[this.point];this.buildTokens(a)}return this.verifyTokenType(this.lastToken),this.mergeLastPotentialTextTokens(),this.firstToken}preserveLink(a){return l=>{if(this.isPrevToken(TokenType.Link)&&!this.isDelimiter(l)){this.appendPrevValue(l);return}a.bind(this)(l)}}preserveTableDelimiter(a){return l=>{var c;if(!((c=this.lastToken)===null||c===void 0)&&c.isType(TokenType.TableDelimiter)){this.upsertToken({type:TokenType.TableDelimiter,value:l});return}a.bind(this)(l)}}handleAsterisk(a){if((this.isDelimiter(this.nextChar)||this.isNextChar("*"))&&(!this.lastToken||this.lastToken.isType(TokenType.NewLine))){this.createToken({type:TokenType.Headline,value:a});return}if(this.isPrevToken(TokenType.Headline)){this.appendPrevValue(a);return}if(this.isDelimiter(this.nextChar)&&this.isDelimiter(this.prevChar)){this.upsertToken({type:TokenType.Text,value:a});return}this.handleBracket(a)}handleDelimiter(a){var l,c,u;if(this.verifyTokenType(this.lastToken),this.mergeLastPotentialTextTokens(),!this.handleFixedWidthOperator(a)&&!this.handleSpaceAfterIncorrectFixedWidthOperator(a)){if(!this.lastToken||((l=this.lastToken)===null||l===void 0?void 0:l.isType(TokenType.NewLine))){this.createToken({type:TokenType.Indent,value:a});return}if(this.isPrevToken(TokenType.Indent)||this.isPrevToken(TokenType.Operator)&&this.lastToken.value.endsWith("-")||this.isListOperator(this.lastToken)){this.appendPrevValue(a);return}if(this.isPrevToken(TokenType.Headline)&&!this.isPrevTokenEndsWithSpace){this.appendPrevValue(a);return}if(this.shouldFormatterHasSpaceAtTheEnd()){this.appendPrevValue(a);return}if(((c=this.lastToken.prev)===null||c===void 0?void 0:c.value)===":"&&this.lastToken.isType(TokenType.Text)&&!this.isEol((u=this.lastToken.prev)===null||u===void 0?void 0:u.prev)){this.forceMergeLastTokens(2,TokenType.Keyword),this.createToken({type:TokenType.Text,value:a});return}if(this.isPrevToken(TokenType.Keyword)){this.createToken({type:TokenType.Text,value:a});return}this.appendTextToken(a)}}mergeLastPotentialTextTokens(){var a,l;if(!!(!((a=this.lastToken)===null||a===void 0)&&a.isType(TokenType.Text))){if(this.isLastTokenWebLink()){this.lastToken.type=TokenType.Link;return}!(!((l=this.lastToken.prev)===null||l===void 0)&&l.isType(TokenType.Text))||this.forceMergeLastTokens(2,TokenType.Text)}}isLastTokenWebLink(){if(this.lastToken.value==="www"&&this.nextChar==="."||(this.lastToken.value==="http:"||this.lastToken.value==="https:")&&this.text[this.point]==="/"&&this.nextChar==="/")return!0}verifyTokenType(a){!a||!(a!=null&&a.isType(TokenType.Text))||!this.configuration.httpLinkRegexp.test(a.value)||(a.type=TokenType.Link)}handleFixedWidthOperator(a){var l,c;const u=this.isEolWithOptionalIndent((l=this.lastToken)===null||l===void 0?void 0:l.prev);if(!(!(!((c=this.lastToken)===null||c===void 0)&&c.isType(TokenType.Operator))||this.lastToken.value!==":"||!u))return this.upsertToken({type:TokenType.Operator,value:a},!0),!0}handleSpaceAfterIncorrectFixedWidthOperator(a){var l,c;if(((l=this.lastToken)===null||l===void 0?void 0:l.value)===":")return this.upsertToken({type:TokenType.Text,value:a},!0),this.lastToken,!((c=this.lastToken.prev)===null||c===void 0)&&c.isType(TokenType.Text)&&this.forceMergeLastTokens(2,TokenType.Text),!0}isListOperator(a){const l=a==null?void 0:a.value.slice(0,-1),c=a==null?void 0:a.value.slice(-1);return(a==null?void 0:a.type)===TokenType.Operator&&this.isValueNumber(l)&&this.listItemCloseSymbols.includes(c)}handleNumberSign(a){if([" ","+"].includes(this.nextChar)&&(!this.lastToken||this.isPrevToken(TokenType.NewLine,TokenType.Indent))){this.upsertToken({type:TokenType.Comment,value:a});return}this.appendTextToken(a)}handleDash(a){var l,c,u;if(!((l=this.lastToken)===null||l===void 0)&&l.isType(TokenType.TableOperator)){this.upsertToken({type:TokenType.TableDelimiter,value:a},!0);return}if(!((c=this.lastToken)===null||c===void 0)&&c.isType(TokenType.Link)){this.appendPrevValue(a);return}if(this.lastToken&&!this.lastToken.isType(TokenType.NewLine)&&!this.lastToken.value.trim()&&!(!((u=this.lastToken.prev)===null||u===void 0)&&u.isType(TokenType.TableOperator))){this.upsertToken({type:TokenType.Operator,value:a});return}if(!this.lastToken||this.lastToken.isType(TokenType.NewLine)){this.createToken({type:TokenType.Operator,value:a});return}if(this.isPrevToken(TokenType.Operator)&&this.lastToken.value==="-"){this.upsertToken({type:TokenType.Text,value:a},!0);return}if(this.isHorizontalRule(a)){this.upsertToken({type:TokenType.HorizontalRule,value:a},!0);return}this.upsertToken({type:TokenType.Text,value:a})}handlePlus(a){if(this.isNextChar(this.delimiter)&&this.isEol(this.lastToken)){this.createToken({type:TokenType.Operator,value:a});return}if(this.isPrevToken(TokenType.Comment)){this.upsertToken({type:TokenType.Operator,value:a},!0);return}this.handleBracket(a)}handleColon(a){var l,c,u,d,f,m;if(!this.isListTagOperator(a)&&!this.isNotListTagOperator(a)&&!this.isPropertyKeyword(a)){if(this.isEol((l=this.lastToken)===null||l===void 0?void 0:l.prev)&&(((c=this.lastToken)===null||c===void 0?void 0:c.value)===":"||((u=this.lastToken)===null||u===void 0?void 0:u.isType(TokenType.Keyword)))){this.upsertToken({type:TokenType.Keyword,value:a},!0);return}if(this.isTokenSeparator(this.lastToken)||((d=this.lastToken.prev)===null||d===void 0?void 0:d.isType(TokenType.Operator))&&((f=this.lastToken.prev)===null||f===void 0?void 0:f.value)===":"){this.createToken({type:TokenType.Operator,value:a});return}if(!((m=this.lastToken)===null||m===void 0)&&m.value.startsWith("#+")){this.appendPrevValue(a);return}this.upsertToken({type:TokenType.Text,value:a},!0)}}isNotListTagOperator(a){var l,c;if(!(((l=this.lastToken)===null||l===void 0?void 0:l.value)!==":"||a!==":"||this.isDelimiter(this.nextChar)))return this.upsertToken({type:TokenType.Text,value:a},!0),!((c=this.lastToken.prev)===null||c===void 0)&&c.isType(TokenType.Text)&&this.forceMergeLastTokens(2,TokenType.Text),!0}isListTagOperator(a){var l;if(!(!(!((l=this.lastToken)===null||l===void 0)&&l.isType(TokenType.Operator))||this.lastToken.value!==":"||!this.isDelimiter(this.nextChar)))return this.upsertToken({type:TokenType.Operator,value:a}),!0}isPropertyKeyword(a){var l,c;const u=(l=this.lastToken)===null||l===void 0?void 0:l.prev,d=(c=this.lastToken)===null||c===void 0?void 0:c.isType(TokenType.Text),f=(u==null?void 0:u.value)===":",m=this.isEol(u==null?void 0:u.prev);if(d&&f&&m)return this.createToken({type:TokenType.Operator,value:a}),this.forceMergeLastTokens(3,TokenType.Keyword),!0}isEol(a){return!a||(a==null?void 0:a.isType(TokenType.NewLine))}isEolWithOptionalIndent(a){return this.isEol(a)||(a==null?void 0:a.isType(TokenType.Indent))&&this.isEol(a.prev)}handlePoint(a){this.handleListOperatorOrText(a)}handleListOperatorOrText(a){var l,c,u,d,f,m,g,v;const y=!(!((c=(l=this.lastToken)===null||l===void 0?void 0:l.prev)===null||c===void 0)&&c.prev)||((d=(u=this.lastToken)===null||u===void 0?void 0:u.prev)===null||d===void 0?void 0:d.isType(TokenType.NewLine));if((((g=(m=(f=this.lastToken)===null||f===void 0?void 0:f.prev)===null||m===void 0?void 0:m.prev)===null||g===void 0?void 0:g.isBlank)||y)&&this.isValueNumber((v=this.lastToken)===null||v===void 0?void 0:v.value)){this.upsertToken({type:TokenType.Operator,value:a},!0);return}this.handleText(a)}handleParenthesis(a){this.handleListOperatorOrText(a)}handleNewLine(a){this.mergeLastPotentialTextTokens(),this.createToken({type:TokenType.NewLine,value:a})}handleBackslash(a){this.createToken({type:TokenType.Keyword,value:a})}isValueNumber(a){return!!(a!=null&&a.match(/^[0-9]+$/))}handleBracket(a){var l,c;if(this.mergeLastPotentialTextTokens(),["~","/","="].includes(a)&&((l=this.lastToken)===null||l===void 0?void 0:l.isType(TokenType.Link))){this.appendPrevValue(a);return}if(((c=this.lastToken)===null||c===void 0?void 0:c.value)==="$"&&a==="$"){this.upsertToken({type:TokenType.Bracket,value:a},!0);return}if(this.lastToken&&this.isFormatterBracket(this.lastToken.value)&&a===this.lastToken.value){this.upsertToken({type:TokenType.Text,value:a},!0),this.checkLastTokensNeedMerge();return}this.createToken({type:TokenType.Bracket,value:a})}handleLatexBrackets(a){this.createToken({type:TokenType.LatexBracket,value:a})}handlePipe(a){this.createToken({type:TokenType.TableOperator,value:a})}handleText(a){var l;if(!((l=this.lastToken)===null||l===void 0)&&l.isType(TokenType.Link)){this.appendPrevValue(a);return}if(this.isPrevToken(TokenType.Comment)){this.appendPrevValue(a);return}if(this.isPrevToken(TokenType.Operator)&&this.lastToken.value===this.keywordStartOperator){this.upsertToken({type:TokenType.Keyword,value:a},!0);return}if(this.isPrevToken(TokenType.Keyword)){this.appendPrevValue(a),this.checkSpecificKeyword();return}this.appendTextToken(a),this.checkIsLastTextTokenKeyword()}checkSpecificKeyword(){var a;if(!this.latexEnvironmentBlocks.includes(this.lastToken.value))return;if(this.isEol(this.lastToken.prev)){this.lastToken.setType(TokenType.LatexEnvironmentKeyword);return}this.lastToken.setType(TokenType.Text),!((a=this.lastToken.prev)===null||a===void 0)&&a.isType(TokenType.Text)&&this.forceMergeLastTokens(2,TokenType.Text)}isHorizontalRule(a){const l=!this.lastToken.prev||this.lastToken.prev.isType(TokenType.NewLine),c=a==="-",u=this.lastToken.value.replaceAll("-","").length===0,d=this.lastToken.value.length+1>=this.horizontalRuleMinLength;return l&&c&&d&&u}appendTextToken(a){var l,c,u;if(!((l=this.lastToken)===null||l===void 0)&&l.isType(TokenType.NewLine)){this.createToken({type:TokenType.Text,value:a});return}if(this.isPrevToken(TokenType.Keyword)&&this.isBlockKeyword((c=this.lastToken)===null||c===void 0?void 0:c.value.slice(2))&&!this.isDelimiter(a)){this.appendPrevValue(a);return}if(((u=this.lastToken)===null||u===void 0?void 0:u.value.endsWith(this.delimiter))&&!this.isDelimiter(a)){this.createToken({type:TokenType.Text,value:a});return}this.upsertToken({type:TokenType.Text,value:a})}isBlockKeyword(a){if(!a||a.endsWith(this.delimiter))return!1;const l=a.toLowerCase();return l.startsWith("begin_")||l.startsWith("end_")}checkIsLastTextTokenKeyword(){var a,l;if(((l=(a=this.lastToken)===null||a===void 0?void 0:a.prev)===null||l===void 0?void 0:l.isType(TokenType.Headline))&&this.todoKeywords.find(c=>c===this.lastToken.value)){this.lastToken.setType(TokenType.Keyword);return}this.isBlockKeyword(this.lastToken.value)&&this.forceMergeLastTokens(2,TokenType.Keyword),this.lastToken.value.startsWith(":")&&!this.lastToken.value.startsWith(": ")&&this.lastToken.setType(TokenType.Keyword)}forceMergeLastTokens(a,l){let c="",u,d=this.lastToken;for(l=l||this.lastToken.type;a>0;)--a,c=d.value+c,u=d.start,d=d==null?void 0:d.prev;const f=new Token({type:l,value:c},u);d?(d.setNextToken(f),f.setPrevToken(d),this.lastToken=d,this.addToken(f)):(this.lastToken=f,this.firstToken=f),this.lastToken=f}shouldFormatterHasSpaceAtTheEnd(){return!this.lastToken||this.lastToken.type!==TokenType.Operator?!1:this.formattersWithSpaceAtTheEnd.includes(this.lastToken.value)}buildTokens(a){const l=this.tokenAggregators[a];if(l){this.satisfyPreviousResult(a),l(a);return}this.handleText(a)}satisfyPreviousResult(a){this.checkLastTokenHorizontalRule(a)}checkLastTokenHorizontalRule(a){!this.lastToken||!this.lastToken.isType(TokenType.HorizontalRule)||a===this.horizontalRuleChar||a===this.newLineChar||this.lastToken.setType(TokenType.Text)}createToken(a){this.begin=this.end,this.end=this.begin+a.value.length;const l=new Token(a,this.begin);this.addToken(l)}addToken(a){var l,c;(l=this.firstToken)!==null&&l!==void 0||(this.firstToken=a),(c=this.lastToken)===null||c===void 0||c.setNextToken(a),this.lastToken=a}upsertToken(a,l=!1){var c;if(((c=this.lastToken)===null||c===void 0?void 0:c.type)===a.type||l){this.appendPrevValue(a.value),this.lastToken.setType(a.type);return}this.createToken(a)}appendPrevValue(a){this.end+=a.length,this.lastToken.appendText(a)}checkLastTokensNeedMerge(){var a,l,c;((a=this.lastToken)===null||a===void 0?void 0:a.type)===((c=(l=this.lastToken)===null||l===void 0?void 0:l.prev)===null||c===void 0?void 0:c.type)&&this.forceMergeLastTokens(2)}isPrevToken(...a){return this.lastToken?a.some(l=>l===this.lastToken.type):!1}isNextChar(a){return this.nextChar===a}isDelimiter(a){return a===this.delimiter}isTokenSeparator(a){return this.isCharSeparator(a==null?void 0:a.value)}isCharSeparator(a){return!a||a===`
`||this.isDelimiter(a.slice(-1))}isFormatterBracket(a){return this.formatterBrackets.includes(a)}}var __classPrivateFieldGet$1=globalThis&&globalThis.__classPrivateFieldGet||function(s,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(s):c?c.value:a.get(s)},__classPrivateFieldSet$1=globalThis&&globalThis.__classPrivateFieldSet||function(s,a,l,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?s!==a||!u:!a.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(s,l):u?u.value=l:a.set(s,l),l},_TokenIterator_token;class TokenIterator{get token(){return __classPrivateFieldGet$1(this,_TokenIterator_token,"f")}get type(){var a;return(a=this.token)===null||a===void 0?void 0:a.type}get currentValue(){var a;return(a=this.token)===null||a===void 0?void 0:a.value}get prevToken(){var a;return(a=__classPrivateFieldGet$1(this,_TokenIterator_token,"f"))===null||a===void 0?void 0:a.prev}get nextToken(){return __classPrivateFieldGet$1(this,_TokenIterator_token,"f").next}get isLastToken(){return!__classPrivateFieldGet$1(this,_TokenIterator_token,"f").next}constructor(a){this.tokenizer=a,_TokenIterator_token.set(this,void 0),this.tokenPosition=0}forEach(a){for(__classPrivateFieldSet$1(this,_TokenIterator_token,this.tokenizer.tokenize(),"f");__classPrivateFieldGet$1(this,_TokenIterator_token,"f");)this.tokenPosition++,a(this.token,this.tokenPosition),__classPrivateFieldSet$1(this,_TokenIterator_token,__classPrivateFieldGet$1(this,_TokenIterator_token,"f").next,"f")}}_TokenIterator_token=new WeakMap;var __classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(s,a,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(s):c?c.value:a.get(s)},__classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(s,a,l,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?s!==a||!u:!a.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(s,l):u?u.value=l:a.set(s,l),l},_ColonHandler_instances,_ColonHandler_fixedWidthOperator,_ColonHandler_colonOperator,_ColonHandler_colonOperators,_ColonHandler_potentialTagOperators,_ColonHandler_lastFixedWidthNode,_ColonHandler_buildTags,_ColonHandler_makeTextFromHeadlineColons;class ColonHandler{constructor(a,l,c,u){this.configuration=a,this.ctx=l,this.astBuilder=c,this.tokenIterator=u,_ColonHandler_instances.add(this),_ColonHandler_fixedWidthOperator.set(this,": "),_ColonHandler_colonOperator.set(this,":"),_ColonHandler_colonOperators.set(this,[__classPrivateFieldGet(this,_ColonHandler_fixedWidthOperator,"f"),__classPrivateFieldGet(this,_ColonHandler_colonOperator,"f")]),_ColonHandler_potentialTagOperators.set(this,new OrgChildrenList),_ColonHandler_lastFixedWidthNode.set(this,void 0)}get isFixedWidthOperator(){return this.tokenIterator.currentValue===__classPrivateFieldGet(this,_ColonHandler_fixedWidthOperator,"f")}get onHold(){if(this.tokenIterator.token.isType(TokenType.NewLine)){__classPrivateFieldSet(this,_ColonHandler_lastFixedWidthNode,null,"f");return}return!!__classPrivateFieldGet(this,_ColonHandler_lastFixedWidthNode,"f")}handle(){if(this.isFixedWidthOperator)return this.createFixedWidthNode();const a=this.astBuilder.createOperatorNode(this.tokenIterator.currentValue);return(this.ctx.insideHeadline||this.ctx.insideKeyword)&&__classPrivateFieldGet(this,_ColonHandler_potentialTagOperators,"f").push(a),a}handleHolded(){this.isColonOperator(this.tokenIterator.currentValue)||this.appendFixedWidthContent()}isColonOperator(a){return __classPrivateFieldGet(this,_ColonHandler_colonOperators,"f").includes(a)}appendFixedWidthContent(){if(!__classPrivateFieldGet(this,_ColonHandler_lastFixedWidthNode,"f").children.last.is(NodeType.Text)){const l=this.astBuilder.createText();__classPrivateFieldGet(this,_ColonHandler_lastFixedWidthNode,"f").addChild(l),this.astBuilder.lastNode=l;return}__classPrivateFieldGet(this,_ColonHandler_lastFixedWidthNode,"f").children.last.appendValue(this.tokenIterator.currentValue)}createFixedWidthNode(){__classPrivateFieldSet(this,_ColonHandler_lastFixedWidthNode,this.getOrCreateFixedWidthNode(),"f");const a=this.astBuilder.createOperatorNode(this.tokenIterator.currentValue);return __classPrivateFieldGet(this,_ColonHandler_lastFixedWidthNode,"f").addChild(a),__classPrivateFieldGet(this,_ColonHandler_lastFixedWidthNode,"f")}getOrCreateFixedWidthNode(){var a;return this.astBuilder.lastNode.is(NodeType.FixedWidth)?this.astBuilder.lastNode:!((a=this.astBuilder.lastNode.parent)===null||a===void 0)&&a.is(NodeType.FixedWidth)?this.astBuilder.lastNode.parent:this.astBuilder.createFixedWidthNode()}handleNewLine(){__classPrivateFieldSet(this,_ColonHandler_lastFixedWidthNode,null,"f"),__classPrivateFieldGet(this,_ColonHandler_instances,"m",_ColonHandler_buildTags).call(this)}}_ColonHandler_fixedWidthOperator=new WeakMap,_ColonHandler_colonOperator=new WeakMap,_ColonHandler_colonOperators=new WeakMap,_ColonHandler_potentialTagOperators=new WeakMap,_ColonHandler_lastFixedWidthNode=new WeakMap,_ColonHandler_instances=new WeakSet,_ColonHandler_buildTags=function(){var a;if(__classPrivateFieldGet(this,_ColonHandler_potentialTagOperators,"f").isEmpty)return;const l=__classPrivateFieldGet(this,_ColonHandler_potentialTagOperators,"f").first,c=__classPrivateFieldGet(this,_ColonHandler_potentialTagOperators,"f").last,u=!c.next||c.is(NodeType.NewLine),d=l.parent,f=d.children.getNodesBetweenPairs(l,c,!0);if(!u){__classPrivateFieldGet(this,_ColonHandler_instances,"m",_ColonHandler_makeTextFromHeadlineColons).call(this,f);return}this.astBuilder.lastNode=(a=l.prev)!==null&&a!==void 0?a:l.parent,d.removeChildren(f);const m=this.astBuilder.createTagListNode();m.addChildren(f),__classPrivateFieldGet(this,_ColonHandler_potentialTagOperators,"f").clear(),this.astBuilder.attachToTree(m),__classPrivateFieldGet(this,_ColonHandler_potentialTagOperators,"f").clear()},_ColonHandler_makeTextFromHeadlineColons=function(a){this.astBuilder.mergeNeighborsNodesWithSameType(a.first,NodeType.Operator,NodeType.Text),__classPrivateFieldGet(this,_ColonHandler_potentialTagOperators,"f").clear()};const parserConfiguration={todoKeywords:["TODO","DONE","HOLD","CANCELED","WAIT","IDEA","KILL","REJECTED"],imgExtensions:[".ase",".art",".bmp",".blp",".cd5",".cit",".cpt",".cr2",".cut",".dds",".dib",".djvu",".egt",".exif",".gif",".gpl",".grf",".icns",".ico",".iff",".jng",".jpeg",".jpg",".jfif",".jp2",".jps",".lbm",".max",".miff",".mng",".msp",".nef",".nitf",".ota",".pbm",".pc1",".pc2",".pc3",".pcf",".pcx",".pdn",".pgm",".PI1",".PI2",".PI3",".pict",".pct",".pnm",".pns",".ppm",".psb",".psd",".pdd",".psp",".px",".pxm",".pxr",".qfx",".raw",".rle",".sct",".sgi",".rgb",".int",".bw",".tga",".tiff",".tif",".vtf",".xbm",".xcf",".xpm",".3dv",".amf",".ai",".awg",".cgm",".cdr",".cmx",".dxf",".e2d",".egt",".eps",".fs",".gbr",".odg",".svg",".stl",".vrml",".x3d",".sxd",".v2d",".vnd",".wmf",".emf",".art",".xar",".png",".webp",".jxr",".hdp",".wdp",".cur",".ecw",".iff",".lbm",".liff",".nrrd",".pam",".pcx",".pgf",".sgi",".rgb",".rgba",".bw",".int",".inta",".sid",".ras",".sun",".tga",".heic",".heif"],httpLinkRegexp:/^(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/gim,dateRegexp:/(<|\[)\d{4}-\d{2}-\d{2} (Mon|Tue|Wed|Thu|Fri|Sat|Sun)( \d{2}:\d{2})?( (\+|\-){0,2}\d+(h|m|y|d|w))*(>|\])$/};class Parser{constructor(a,l,c,u,d,f,m,g,v,y,b){this.ctx=a,this.tokenIterator=l,this.astBuilder=c,this.bracketHandler=u,this.listHandler=d,this.commentHandler=f,this.keywordHandler=m,this.horizontalRuleHandler=g,this.latexEnvironmentHandler=v,this.colonHandler=y,this.tableHandler=b,this.holdOnHandlers=[this.colonHandler,this.keywordHandler,this.commentHandler],this.tokensHandlers={[TokenType.Headline]:()=>this.handleHeadline(),[TokenType.Text]:()=>this.handleText(),[TokenType.Bracket]:()=>this.bracketHandler.handle(),[TokenType.Operator]:()=>this.handleOperator(),[TokenType.Indent]:()=>this.handleIndent(),[TokenType.NewLine]:()=>this.handleNewLine(),[TokenType.Keyword]:()=>this.keywordHandler.handle(),[TokenType.Link]:()=>this.handleRawLink(),[TokenType.HorizontalRule]:()=>this.horizontalRuleHandler.handle(),[TokenType.LatexBracket]:()=>this.latexEnvironmentHandler.handle(),[TokenType.LatexEnvironmentKeyword]:()=>this.latexEnvironmentHandler.handle(),[CommentHandler.tokenType]:()=>this.commentHandler.handle(),[TokenType.TableOperator]:()=>this.handleTableOperator(),[TokenType.TableDelimiter]:()=>this.tableHandler.handleDelimiter()}}parse(){return this.buildTree(),this.astBuilder.nodeTree}buildTree(){this.tokenIterator.forEach(()=>{this.handleToken()}),this.handleEndOfExpressions(),this.handleEndOfFile()}handleToken(){var a,l,c;this.listHandler.checkListEnded();const u=(a=this.getOnHoldHandler())!==null&&a!==void 0?a:this.tokensHandlers[this.tokenIterator.type];if(!u)throw new HandlerNotFoundError(this.tokenIterator.type);const d=u();if(!d)return;this.astBuilder.preserveLastPositionSnapshot(d),(((l=this.tokenIterator.token)===null||l===void 0?void 0:l.isType(TokenType.NewLine))||this.tokenIterator.isLastToken)&&(this.bracketHandler.handleEndOfLine(),this.ctx.insideListItem=!1),((c=this.tokenIterator.token)===null||c===void 0?void 0:c.isType(TokenType.NewLine))&&this.ctx.insideHeadline&&(this.astBuilder.getLastSectionOrCreate(),this.ctx.insideHeadline=!1,this.ctx.insideKeyword=!1)}getOnHoldHandler(){const a=this.holdOnHandlers.find(l=>l.onHold);if(a)return()=>a.handleHolded()}handleHeadline(){this.ctx.exitList(),this.ctx.insideHeadline=!0;const a=this.astBuilder.createHeadline();return this.astBuilder.attachToTree(a),a}handleText(){if(this.astBuilder.lastNode.is(NodeType.Text)){this.astBuilder.lastNode.appendValue(this.tokenIterator.currentValue);return}const a=this.astBuilder.createText();return this.astBuilder.attachToTree(a),this.astBuilder.checkContext(),a}handleOperator(){const a=this.buildOrgDataForOperator(this.tokenIterator.currentValue);if(!a)throw new UnsupportedOperator(this.tokenIterator.currentValue);return this.astBuilder.attachToTree(a),a}handleIndent(){var a;const l=this.astBuilder.createIndentNode();if(this.astBuilder.isListOperator((a=this.tokenIterator.nextToken)===null||a===void 0?void 0:a.value)){this.ctx.nextIndentNode=l,this.astBuilder.increaseLastPosition(this.tokenIterator.currentValue);return}return this.astBuilder.getLastSectionOrCreate(),this.astBuilder.attachToTree(l),l}handleNewLine(){this.handleEndOfExpressions();const a=this.astBuilder.createNewLineNode();return this.astBuilder.attachToTree(a),a}handleRawLink(){const a=this.astBuilder.createRawLinkNode(this.tokenIterator.currentValue);return this.astBuilder.attachToTree(a),a}handleTableOperator(){return this.bracketHandler.handleEndOfLine(),this.tableHandler.handle()}handleEndOfExpressions(){this.commentHandler.handleNewLine(),this.tableHandler.handleNewLine(),this.keywordHandler.handleEndOfLine(),this.colonHandler.handleNewLine()}handleEndOfFile(){this.latexEnvironmentHandler.handleEndOfFile()}buildOrgDataForOperator(a){return this.listHandler.isListTagOperator(a)?this.listHandler.handleListTag():this.astBuilder.isListOperator(a)?this.listHandler.handle():this.colonHandler.isColonOperator(a)?this.colonHandler.handle():this.astBuilder.createTextNode(this.tokenIterator.currentValue)}}function parse$1(s,a={}){a=Object.assign(Object.assign({},parserConfiguration),a);const l=new AstContext,c=new Tokenizer(s,a),u=new TokenIterator(c),d=new AstBuilder(l,u),f=new HorizontalRuleHandler(a,d,u),m=new CommentHandler(d,u),g=new BracketHandler(a,l,d,u),v=new BlockHandler(l,d,u),y=new ListHandler(l,d,u),b=new PropertiesHandler(l,d,u),_=new ColonHandler(a,l,d,u),T=new KeywordHandler(a,l,d,u,v,b),E=new LatexEnvironmentHandler(a,l,d,u),P=new TableHandler(a,d,u);return new Parser(l,u,d,g,y,m,T,f,E,_,P).parse()}function walkTree(s,a){var l,c,u,d,f;a(s)||((c=(l=s.title)===null||l===void 0?void 0:l.children)===null||c===void 0||c.forEach(g=>walkTree(g,a)),(d=(u=s.section)===null||u===void 0?void 0:u.children)===null||d===void 0||d.forEach(g=>walkTree(g,a)),(f=s.children)===null||f===void 0||f.forEach(g=>walkTree(g,a)))}function collectFromKeywords(s,a){if(s.isNot(NodeType.Keyword)||s.parent.is(NodeType.BlockHeader,NodeType.BlockFooter))return;const[l,c]=extractKeyValue(s.children,2,-1),u=a[normalizeKey(l)];if(u&&Array.isArray(u)&&Array.isArray(c)){a[normalizeKey(l)]=[...u,...c];return}a[normalizeKey(l)]=c}function normalizeKey(s){var a;return(a={filetags:"fileTags"}[s])!==null&&a!==void 0?a:s}function normalizeKeywordValue(key,value){var _a;const handlers={filetags:()=>value.split(":").filter(s=>!!s.trim()),published:()=>!!eval(value.trim())},handler=(_a=handlers[key])!==null&&_a!==void 0?_a:()=>value.trim();return handler()}function collectFromProperties(s,a){var l;if(s.isNot(NodeType.Property)||((l=s.parent)===null||l===void 0?void 0:l.isNot(NodeType.PropertyDrawer))||s.children.length<2)return;const[c,u]=extractKeyValue(s.children,1,-1);a[c]=u}function extractKeyValue(s,...a){const l=s.first.value.slice(...a).trim().toLowerCase(),u=s.length<=1?"":s.last.rawValue,d=normalizeKeywordValue(l,u);return[l,d]}function collectImages(s,a){var l;s.isNot(NodeType.Link)||s.meta.linkType!=="image"||((l=a.images)!==null&&l!==void 0||(a.images=[]),a.images.push(s.children.get(1).children.get(1).value))}function collectHeadings(s,a){var l;s.isNot(NodeType.Headline)||((l=a.headings)!==null&&l!==void 0||(a.headings=[]),a.headings.push({level:s.level,title:s.title.cleanValue}))}function withMetaInfo(s){return withOptionalMetaInfo(s,null,collectFromKeywords,collectFromProperties,collectImages,collectHeadings)}function withOptionalMetaInfo(s,a,...l){const c={};return walkTree(s,u=>{if(l.forEach(d=>d(u,c)),a)return a(u)}),s.meta=c,s}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window!="undefined";function isESModule(s){return s.__esModule||s[Symbol.toStringTag]==="Module"}const assign$2=Object.assign;function applyToParams(s,a){const l={};for(const c in a){const u=a[c];l[c]=isArray$3(u)?u.map(s):s(u)}return l}const noop$1=()=>{},isArray$3=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=s=>s.replace(TRAILING_SLASH_RE,"");function parseURL(s,a,l="/"){let c,u={},d="",f="";const m=a.indexOf("#");let g=a.indexOf("?");return m<g&&m>=0&&(g=-1),g>-1&&(c=a.slice(0,g),d=a.slice(g+1,m>-1?m:a.length),u=s(d)),m>-1&&(c=c||a.slice(0,m),f=a.slice(m,a.length)),c=resolveRelativePath(c!=null?c:a,l),{fullPath:c+(d&&"?")+d+f,path:c,query:u,hash:f}}function stringifyURL(s,a){const l=a.query?s(a.query):"";return a.path+(l&&"?")+l+(a.hash||"")}function stripBase(s,a){return!a||!s.toLowerCase().startsWith(a.toLowerCase())?s:s.slice(a.length)||"/"}function isSameRouteLocation(s,a,l){const c=a.matched.length-1,u=l.matched.length-1;return c>-1&&c===u&&isSameRouteRecord$1(a.matched[c],l.matched[u])&&isSameRouteLocationParams$1(a.params,l.params)&&s(a.query)===s(l.query)&&a.hash===l.hash}function isSameRouteRecord$1(s,a){return(s.aliasOf||s)===(a.aliasOf||a)}function isSameRouteLocationParams$1(s,a){if(Object.keys(s).length!==Object.keys(a).length)return!1;for(const l in s)if(!isSameRouteLocationParamsValue$1(s[l],a[l]))return!1;return!0}function isSameRouteLocationParamsValue$1(s,a){return isArray$3(s)?isEquivalentArray$1(s,a):isArray$3(a)?isEquivalentArray$1(a,s):s===a}function isEquivalentArray$1(s,a){return isArray$3(a)?s.length===a.length&&s.every((l,c)=>l===a[c]):s.length===1&&s[0]===a}function resolveRelativePath(s,a){if(s.startsWith("/"))return s;if(!s)return a;const l=a.split("/"),c=s.split("/"),u=c[c.length-1];(u===".."||u===".")&&c.push("");let d=l.length-1,f,m;for(f=0;f<c.length;f++)if(m=c[f],m!==".")if(m==="..")d>1&&d--;else break;return l.slice(0,d).join("/")+"/"+c.slice(f-(f===c.length?1:0)).join("/")}var NavigationType;(function(s){s.pop="pop",s.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(s){s.back="back",s.forward="forward",s.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(s){if(!s)if(isBrowser){const a=document.querySelector("base");s=a&&a.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),removeTrailingSlash(s)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(s,a){return s.replace(BEFORE_HASH_RE,"#")+a}function getElementPosition(s,a){const l=document.documentElement.getBoundingClientRect(),c=s.getBoundingClientRect();return{behavior:a.behavior,left:c.left-l.left-(a.left||0),top:c.top-l.top-(a.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(s){let a;if("el"in s){const l=s.el,c=typeof l=="string"&&l.startsWith("#"),u=typeof l=="string"?c?document.getElementById(l.slice(1)):document.querySelector(l):l;if(!u)return;a=getElementPosition(u,s)}else a=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(a):window.scrollTo(a.left!=null?a.left:window.pageXOffset,a.top!=null?a.top:window.pageYOffset)}function getScrollKey(s,a){return(history.state?history.state.position-a:-1)+s}const scrollPositions=new Map;function saveScrollPosition(s,a){scrollPositions.set(s,a)}function getSavedScrollPosition(s){const a=scrollPositions.get(s);return scrollPositions.delete(s),a}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(s,a){const{pathname:l,search:c,hash:u}=a,d=s.indexOf("#");if(d>-1){let m=u.includes(s.slice(d))?s.slice(d).length:1,g=u.slice(m);return g[0]!=="/"&&(g="/"+g),stripBase(g,"")}return stripBase(l,s)+c+u}function useHistoryListeners(s,a,l,c){let u=[],d=[],f=null;const m=({state:_})=>{const T=createCurrentLocation(s,location),E=l.value,P=a.value;let C=0;if(_){if(l.value=T,a.value=_,f&&f===E){f=null;return}C=P?_.position-P.position:0}else c(T);u.forEach(S=>{S(l.value,E,{delta:C,type:NavigationType.pop,direction:C?C>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function g(){f=l.value}function v(_){u.push(_);const T=()=>{const E=u.indexOf(_);E>-1&&u.splice(E,1)};return d.push(T),T}function y(){const{history:_}=window;!_.state||_.replaceState(assign$2({},_.state,{scroll:computeScrollPosition()}),"")}function b(){for(const _ of d)_();d=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:g,listen:v,destroy:b}}function buildState(s,a,l,c=!1,u=!1){return{back:s,current:a,forward:l,replaced:c,position:window.history.length,scroll:u?computeScrollPosition():null}}function useHistoryStateNavigation(s){const{history:a,location:l}=window,c={value:createCurrentLocation(s,l)},u={value:a.state};u.value||d(c.value,{back:null,current:c.value,forward:null,position:a.length-1,replaced:!0,scroll:null},!0);function d(g,v,y){const b=s.indexOf("#"),_=b>-1?(l.host&&document.querySelector("base")?s:s.slice(b))+g:createBaseLocation()+s+g;try{a[y?"replaceState":"pushState"](v,"",_),u.value=v}catch(T){console.error(T),l[y?"replace":"assign"](_)}}function f(g,v){const y=assign$2({},a.state,buildState(u.value.back,g,u.value.forward,!0),v,{position:u.value.position});d(g,y,!0),c.value=g}function m(g,v){const y=assign$2({},u.value,a.state,{forward:g,scroll:computeScrollPosition()});d(y.current,y,!0);const b=assign$2({},buildState(c.value,g,null),{position:y.position+1},v);d(g,b,!1),c.value=g}return{location:c,state:u,push:m,replace:f}}function createWebHistory(s){s=normalizeBase(s);const a=useHistoryStateNavigation(s),l=useHistoryListeners(s,a.state,a.location,a.replace);function c(d,f=!0){f||l.pauseListeners(),history.go(d)}const u=assign$2({location:"",base:s,go:c,createHref:createHref.bind(null,s)},a,l);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>a.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>a.state.value}),u}function createWebHashHistory(s){return s=location.host?s||location.pathname+location.search:"",s.includes("#")||(s+="#"),createWebHistory(s)}function isRouteLocation(s){return typeof s=="string"||s&&typeof s=="object"}function isRouteName(s){return typeof s=="string"||typeof s=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(s,a){return assign$2(new Error,{type:s,[NavigationFailureSymbol]:!0},a)}function isNavigationFailure(s,a){return s instanceof Error&&NavigationFailureSymbol in s&&(a==null||!!(s.type&a))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(s,a){const l=assign$2({},BASE_PATH_PARSER_OPTIONS,a),c=[];let u=l.start?"^":"";const d=[];for(const v of s){const y=v.length?[]:[90];l.strict&&!v.length&&(u+="/");for(let b=0;b<v.length;b++){const _=v[b];let T=40+(l.sensitive?.25:0);if(_.type===0)b||(u+="/"),u+=_.value.replace(REGEX_CHARS_RE,"\\$&"),T+=40;else if(_.type===1){const{value:E,repeatable:P,optional:C,regexp:S}=_;d.push({name:E,repeatable:P,optional:C});const N=S||BASE_PARAM_PATTERN;if(N!==BASE_PARAM_PATTERN){T+=10;try{new RegExp(`(${N})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${E}" (${N}): `+x.message)}}let O=P?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;b||(O=C&&v.length<2?`(?:/${O})`:"/"+O),C&&(O+="?"),u+=O,T+=20,C&&(T+=-8),P&&(T+=-20),N===".*"&&(T+=-50)}y.push(T)}c.push(y)}if(l.strict&&l.end){const v=c.length-1;c[v][c[v].length-1]+=.7000000000000001}l.strict||(u+="/?"),l.end?u+="$":l.strict&&(u+="(?:/|$)");const f=new RegExp(u,l.sensitive?"":"i");function m(v){const y=v.match(f),b={};if(!y)return null;for(let _=1;_<y.length;_++){const T=y[_]||"",E=d[_-1];b[E.name]=T&&E.repeatable?T.split("/"):T}return b}function g(v){let y="",b=!1;for(const _ of s){(!b||!y.endsWith("/"))&&(y+="/"),b=!1;for(const T of _)if(T.type===0)y+=T.value;else if(T.type===1){const{value:E,repeatable:P,optional:C}=T,S=E in v?v[E]:"";if(isArray$3(S)&&!P)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const N=isArray$3(S)?S.join("/"):S;if(!N)if(C)_.length<2&&(y.endsWith("/")?y=y.slice(0,-1):b=!0);else throw new Error(`Missing required param "${E}"`);y+=N}}return y||"/"}return{re:f,score:c,keys:d,parse:m,stringify:g}}function compareScoreArray(s,a){let l=0;for(;l<s.length&&l<a.length;){const c=a[l]-s[l];if(c)return c;l++}return s.length<a.length?s.length===1&&s[0]===40+40?-1:1:s.length>a.length?a.length===1&&a[0]===40+40?1:-1:0}function comparePathParserScore(s,a){let l=0;const c=s.score,u=a.score;for(;l<c.length&&l<u.length;){const d=compareScoreArray(c[l],u[l]);if(d)return d;l++}if(Math.abs(u.length-c.length)===1){if(isLastScoreNegative(c))return 1;if(isLastScoreNegative(u))return-1}return u.length-c.length}function isLastScoreNegative(s){const a=s[s.length-1];return s.length>0&&a[a.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(s){if(!s)return[[]];if(s==="/")return[[ROOT_TOKEN]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function a(T){throw new Error(`ERR (${l})/"${v}": ${T}`)}let l=0,c=l;const u=[];let d;function f(){d&&u.push(d),d=[]}let m=0,g,v="",y="";function b(){!v||(l===0?d.push({type:0,value:v}):l===1||l===2||l===3?(d.length>1&&(g==="*"||g==="+")&&a(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:v,regexp:y,repeatable:g==="*"||g==="+",optional:g==="*"||g==="?"})):a("Invalid state to consume buffer"),v="")}function _(){v+=g}for(;m<s.length;){if(g=s[m++],g==="\\"&&l!==2){c=l,l=4;continue}switch(l){case 0:g==="/"?(v&&b(),f()):g===":"?(b(),l=1):_();break;case 4:_(),l=c;break;case 1:g==="("?l=2:VALID_PARAM_RE.test(g)?_():(b(),l=0,g!=="*"&&g!=="?"&&g!=="+"&&m--);break;case 2:g===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+g:l=3:y+=g;break;case 3:b(),l=0,g!=="*"&&g!=="?"&&g!=="+"&&m--,y="";break;default:a("Unknown state");break}}return l===2&&a(`Unfinished custom RegExp for param "${v}"`),b(),f(),u}function createRouteRecordMatcher(s,a,l){const c=tokensToParser(tokenizePath(s.path),l),u=assign$2(c,{record:s,parent:a,children:[],alias:[]});return a&&!u.record.aliasOf==!a.record.aliasOf&&a.children.push(u),u}function createRouterMatcher(s,a){const l=[],c=new Map;a=mergeOptions({strict:!1,end:!0,sensitive:!1},a);function u(y){return c.get(y)}function d(y,b,_){const T=!_,E=normalizeRouteRecord(y);E.aliasOf=_&&_.record;const P=mergeOptions(a,y),C=[E];if("alias"in y){const O=typeof y.alias=="string"?[y.alias]:y.alias;for(const x of O)C.push(assign$2({},E,{components:_?_.record.components:E.components,path:x,aliasOf:_?_.record:E}))}let S,N;for(const O of C){const{path:x}=O;if(b&&x[0]!=="/"){const A=b.record.path,L=A[A.length-1]==="/"?"":"/";O.path=b.record.path+(x&&L+x)}if(S=createRouteRecordMatcher(O,b,P),_?_.alias.push(S):(N=N||S,N!==S&&N.alias.push(S),T&&y.name&&!isAliasRecord(S)&&f(y.name)),E.children){const A=E.children;for(let L=0;L<A.length;L++)d(A[L],S,_&&_.children[L])}_=_||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&g(S)}return N?()=>{f(N)}:noop$1}function f(y){if(isRouteName(y)){const b=c.get(y);b&&(c.delete(y),l.splice(l.indexOf(b),1),b.children.forEach(f),b.alias.forEach(f))}else{const b=l.indexOf(y);b>-1&&(l.splice(b,1),y.record.name&&c.delete(y.record.name),y.children.forEach(f),y.alias.forEach(f))}}function m(){return l}function g(y){let b=0;for(;b<l.length&&comparePathParserScore(y,l[b])>=0&&(y.record.path!==l[b].record.path||!isRecordChildOf(y,l[b]));)b++;l.splice(b,0,y),y.record.name&&!isAliasRecord(y)&&c.set(y.record.name,y)}function v(y,b){let _,T={},E,P;if("name"in y&&y.name){if(_=c.get(y.name),!_)throw createRouterError(1,{location:y});P=_.record.name,T=assign$2(paramsFromLocation(b.params,_.keys.filter(N=>!N.optional).map(N=>N.name)),y.params&&paramsFromLocation(y.params,_.keys.map(N=>N.name))),E=_.stringify(T)}else if("path"in y)E=y.path,_=l.find(N=>N.re.test(E)),_&&(T=_.parse(E),P=_.record.name);else{if(_=b.name?c.get(b.name):l.find(N=>N.re.test(b.path)),!_)throw createRouterError(1,{location:y,currentLocation:b});P=_.record.name,T=assign$2({},b.params,y.params),E=_.stringify(T)}const C=[];let S=_;for(;S;)C.unshift(S.record),S=S.parent;return{name:P,path:E,params:T,matched:C,meta:mergeMetaFields(C)}}return s.forEach(y=>d(y)),{addRoute:d,resolve:v,removeRoute:f,getRoutes:m,getRecordMatcher:u}}function paramsFromLocation(s,a){const l={};for(const c of a)c in s&&(l[c]=s[c]);return l}function normalizeRouteRecord(s){return{path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:void 0,beforeEnter:s.beforeEnter,props:normalizeRecordProps(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}}}function normalizeRecordProps(s){const a={},l=s.props||!1;if("component"in s)a.default=l;else for(const c in s.components)a[c]=typeof l=="object"?l[c]:l;return a}function isAliasRecord(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function mergeMetaFields(s){return s.reduce((a,l)=>assign$2(a,l.meta),{})}function mergeOptions(s,a){const l={};for(const c in s)l[c]=c in a?a[c]:s[c];return l}function isRecordChildOf(s,a){return a.children.some(l=>l===s||isRecordChildOf(s,l))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(s){return encodeURI(""+s).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(s){return commonEncode(s).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(s){return commonEncode(s).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(s){return encodeQueryValue(s).replace(EQUAL_RE,"%3D")}function encodePath(s){return commonEncode(s).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(s){return s==null?"":encodePath(s).replace(SLASH_RE,"%2F")}function decode(s){try{return decodeURIComponent(""+s)}catch{}return""+s}function parseQuery(s){const a={};if(s===""||s==="?")return a;const c=(s[0]==="?"?s.slice(1):s).split("&");for(let u=0;u<c.length;++u){const d=c[u].replace(PLUS_RE," "),f=d.indexOf("="),m=decode(f<0?d:d.slice(0,f)),g=f<0?null:decode(d.slice(f+1));if(m in a){let v=a[m];isArray$3(v)||(v=a[m]=[v]),v.push(g)}else a[m]=g}return a}function stringifyQuery(s){let a="";for(let l in s){const c=s[l];if(l=encodeQueryKey(l),c==null){c!==void 0&&(a+=(a.length?"&":"")+l);continue}(isArray$3(c)?c.map(d=>d&&encodeQueryValue(d)):[c&&encodeQueryValue(c)]).forEach(d=>{d!==void 0&&(a+=(a.length?"&":"")+l,d!=null&&(a+="="+d))})}return a}function normalizeQuery(s){const a={};for(const l in s){const c=s[l];c!==void 0&&(a[l]=isArray$3(c)?c.map(u=>u==null?null:""+u):c==null?c:""+c)}return a}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let s=[];function a(c){return s.push(c),()=>{const u=s.indexOf(c);u>-1&&s.splice(u,1)}}function l(){s=[]}return{add:a,list:()=>s.slice(),reset:l}}function guardToPromiseFn(s,a,l,c,u){const d=c&&(c.enterCallbacks[u]=c.enterCallbacks[u]||[]);return()=>new Promise((f,m)=>{const g=b=>{b===!1?m(createRouterError(4,{from:l,to:a})):b instanceof Error?m(b):isRouteLocation(b)?m(createRouterError(2,{from:a,to:b})):(d&&c.enterCallbacks[u]===d&&typeof b=="function"&&d.push(b),f())},v=s.call(c&&c.instances[u],a,l,g);let y=Promise.resolve(v);s.length<3&&(y=y.then(g)),y.catch(b=>m(b))})}function extractComponentsGuards(s,a,l,c){const u=[];for(const d of s)for(const f in d.components){let m=d.components[f];if(!(a!=="beforeRouteEnter"&&!d.instances[f]))if(isRouteComponent(m)){const v=(m.__vccOpts||m)[a];v&&u.push(guardToPromiseFn(v,l,c,d,f))}else{let g=m();u.push(()=>g.then(v=>{if(!v)return Promise.reject(new Error(`Couldn't resolve component "${f}" at "${d.path}"`));const y=isESModule(v)?v.default:v;d.components[f]=y;const _=(y.__vccOpts||y)[a];return _&&guardToPromiseFn(_,l,c,d,f)()}))}}return u}function isRouteComponent(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function useLink(s){const a=inject(routerKey),l=inject(routeLocationKey),c=computed(()=>a.resolve(unref(s.to))),u=computed(()=>{const{matched:g}=c.value,{length:v}=g,y=g[v-1],b=l.matched;if(!y||!b.length)return-1;const _=b.findIndex(isSameRouteRecord$1.bind(null,y));if(_>-1)return _;const T=getOriginalPath$1(g[v-2]);return v>1&&getOriginalPath$1(y)===T&&b[b.length-1].path!==T?b.findIndex(isSameRouteRecord$1.bind(null,g[v-2])):_}),d=computed(()=>u.value>-1&&includesParams$1(l.params,c.value.params)),f=computed(()=>u.value>-1&&u.value===l.matched.length-1&&isSameRouteLocationParams$1(l.params,c.value.params));function m(g={}){return guardEvent(g)?a[unref(s.replace)?"replace":"push"](unref(s.to)).catch(noop$1):Promise.resolve()}return{route:c,href:computed(()=>c.value.href),isActive:d,isExactActive:f,navigate:m}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(s,{slots:a}){const l=reactive(useLink(s)),{options:c}=inject(routerKey),u=computed(()=>({[getLinkClass(s.activeClass,c.linkActiveClass,"router-link-active")]:l.isActive,[getLinkClass(s.exactActiveClass,c.linkExactActiveClass,"router-link-exact-active")]:l.isExactActive}));return()=>{const d=a.default&&a.default(l);return s.custom?d:h("a",{"aria-current":l.isExactActive?s.ariaCurrentValue:null,href:l.href,onClick:l.navigate,class:u.value},d)}}}),RouterLink=RouterLinkImpl;function guardEvent(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const a=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(a))return}return s.preventDefault&&s.preventDefault(),!0}}function includesParams$1(s,a){for(const l in a){const c=a[l],u=s[l];if(typeof c=="string"){if(c!==u)return!1}else if(!isArray$3(u)||u.length!==c.length||c.some((d,f)=>d!==u[f]))return!1}return!0}function getOriginalPath$1(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const getLinkClass=(s,a,l)=>s!=null?s:a!=null?a:l,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:a,slots:l}){const c=inject(routerViewLocationKey),u=computed(()=>s.route||c.value),d=inject(viewDepthKey,0),f=computed(()=>{let v=unref(d);const{matched:y}=u.value;let b;for(;(b=y[v])&&!b.components;)v++;return v}),m=computed(()=>u.value.matched[f.value]);provide(viewDepthKey,computed(()=>f.value+1)),provide(matchedRouteKey,m),provide(routerViewLocationKey,u);const g=ref();return watch(()=>[g.value,m.value,s.name],([v,y,b],[_,T,E])=>{y&&(y.instances[b]=v,T&&T!==y&&v&&v===_&&(y.leaveGuards.size||(y.leaveGuards=T.leaveGuards),y.updateGuards.size||(y.updateGuards=T.updateGuards))),v&&y&&(!T||!isSameRouteRecord$1(y,T)||!_)&&(y.enterCallbacks[b]||[]).forEach(P=>P(v))},{flush:"post"}),()=>{const v=u.value,y=s.name,b=m.value,_=b&&b.components[y];if(!_)return normalizeSlot(l.default,{Component:_,route:v});const T=b.props[y],E=T?T===!0?v.params:typeof T=="function"?T(v):T:null,C=h(_,assign$2({},E,a,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(b.instances[y]=null)},ref:g}));return normalizeSlot(l.default,{Component:C,route:v})||C}}});function normalizeSlot(s,a){if(!s)return null;const l=s(a);return l.length===1?l[0]:l}const RouterView=RouterViewImpl;function createRouter$1(s){const a=createRouterMatcher(s.routes,s),l=s.parseQuery||parseQuery,c=s.stringifyQuery||stringifyQuery,u=s.history,d=useCallbacks(),f=useCallbacks(),m=useCallbacks(),g=shallowRef(START_LOCATION_NORMALIZED);let v=START_LOCATION_NORMALIZED;isBrowser&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=applyToParams.bind(null,j=>""+j),b=applyToParams.bind(null,encodeParam),_=applyToParams.bind(null,decode);function T(j,te){let X,ne;return isRouteName(j)?(X=a.getRecordMatcher(j),ne=te):ne=j,a.addRoute(ne,X)}function E(j){const te=a.getRecordMatcher(j);te&&a.removeRoute(te)}function P(){return a.getRoutes().map(j=>j.record)}function C(j){return!!a.getRecordMatcher(j)}function S(j,te){if(te=assign$2({},te||g.value),typeof j=="string"){const k=parseURL(l,j,te.path),I=a.resolve({path:k.path},te),F=u.createHref(k.fullPath);return assign$2(k,I,{params:_(I.params),hash:decode(k.hash),redirectedFrom:void 0,href:F})}let X;if("path"in j)X=assign$2({},j,{path:parseURL(l,j.path,te.path).path});else{const k=assign$2({},j.params);for(const I in k)k[I]==null&&delete k[I];X=assign$2({},j,{params:b(k)}),te.params=b(te.params)}const ne=a.resolve(X,te),le=j.hash||"";ne.params=y(_(ne.params));const R=stringifyURL(c,assign$2({},j,{hash:encodeHash(le),path:ne.path})),w=u.createHref(R);return assign$2({fullPath:R,hash:le,query:c===stringifyQuery?normalizeQuery(j.query):j.query||{}},ne,{redirectedFrom:void 0,href:w})}function N(j){return typeof j=="string"?parseURL(l,j,g.value.path):assign$2({},j)}function O(j,te){if(v!==j)return createRouterError(8,{from:te,to:j})}function x(j){return $(j)}function A(j){return x(assign$2(N(j),{replace:!0}))}function L(j){const te=j.matched[j.matched.length-1];if(te&&te.redirect){const{redirect:X}=te;let ne=typeof X=="function"?X(j):X;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=N(ne):{path:ne},ne.params={}),assign$2({query:j.query,hash:j.hash,params:"path"in ne?{}:j.params},ne)}}function $(j,te){const X=v=S(j),ne=g.value,le=j.state,R=j.force,w=j.replace===!0,k=L(X);if(k)return $(assign$2(N(k),{state:typeof k=="object"?assign$2({},le,k.state):le,force:R,replace:w}),te||X);const I=X;I.redirectedFrom=te;let F;return!R&&isSameRouteLocation(c,ne,X)&&(F=createRouterError(16,{to:I,from:ne}),me(ne,ne,!0,!1)),(F?Promise.resolve(F):K(I,ne)).catch(H=>isNavigationFailure(H)?isNavigationFailure(H,2)?H:pe(H):se(H,I,ne)).then(H=>{if(H){if(isNavigationFailure(H,2))return $(assign$2({replace:w},N(H.to),{state:typeof H.to=="object"?assign$2({},le,H.to.state):le,force:R}),te||I)}else H=U(I,ne,!0,w,le);return Y(I,ne,H),H})}function B(j,te){const X=O(j,te);return X?Promise.reject(X):Promise.resolve()}function M(j){const te=ge.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(j):j()}function K(j,te){let X;const[ne,le,R]=extractChangingRecords(j,te);X=extractComponentsGuards(ne.reverse(),"beforeRouteLeave",j,te);for(const k of ne)k.leaveGuards.forEach(I=>{X.push(guardToPromiseFn(I,j,te))});const w=B.bind(null,j,te);return X.push(w),ve(X).then(()=>{X=[];for(const k of d.list())X.push(guardToPromiseFn(k,j,te));return X.push(w),ve(X)}).then(()=>{X=extractComponentsGuards(le,"beforeRouteUpdate",j,te);for(const k of le)k.updateGuards.forEach(I=>{X.push(guardToPromiseFn(I,j,te))});return X.push(w),ve(X)}).then(()=>{X=[];for(const k of R)if(k.beforeEnter)if(isArray$3(k.beforeEnter))for(const I of k.beforeEnter)X.push(guardToPromiseFn(I,j,te));else X.push(guardToPromiseFn(k.beforeEnter,j,te));return X.push(w),ve(X)}).then(()=>(j.matched.forEach(k=>k.enterCallbacks={}),X=extractComponentsGuards(R,"beforeRouteEnter",j,te),X.push(w),ve(X))).then(()=>{X=[];for(const k of f.list())X.push(guardToPromiseFn(k,j,te));return X.push(w),ve(X)}).catch(k=>isNavigationFailure(k,8)?k:Promise.reject(k))}function Y(j,te,X){m.list().forEach(ne=>M(()=>ne(j,te,X)))}function U(j,te,X,ne,le){const R=O(j,te);if(R)return R;const w=te===START_LOCATION_NORMALIZED,k=isBrowser?history.state:{};X&&(ne||w?u.replace(j.fullPath,assign$2({scroll:w&&k&&k.scroll},le)):u.push(j.fullPath,le)),g.value=j,me(j,te,X,w),pe()}let Z;function q(){Z||(Z=u.listen((j,te,X)=>{if(!_e.listening)return;const ne=S(j),le=L(ne);if(le){$(assign$2(le,{replace:!0}),ne).catch(noop$1);return}v=ne;const R=g.value;isBrowser&&saveScrollPosition(getScrollKey(R.fullPath,X.delta),computeScrollPosition()),K(ne,R).catch(w=>isNavigationFailure(w,12)?w:isNavigationFailure(w,2)?($(w.to,ne).then(k=>{isNavigationFailure(k,20)&&!X.delta&&X.type===NavigationType.pop&&u.go(-1,!1)}).catch(noop$1),Promise.reject()):(X.delta&&u.go(-X.delta,!1),se(w,ne,R))).then(w=>{w=w||U(ne,R,!1),w&&(X.delta&&!isNavigationFailure(w,8)?u.go(-X.delta,!1):X.type===NavigationType.pop&&isNavigationFailure(w,20)&&u.go(-1,!1)),Y(ne,R,w)}).catch(noop$1)}))}let Q=useCallbacks(),ae=useCallbacks(),oe;function se(j,te,X){pe(j);const ne=ae.list();return ne.length?ne.forEach(le=>le(j,te,X)):console.error(j),Promise.reject(j)}function fe(){return oe&&g.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((j,te)=>{Q.add([j,te])})}function pe(j){return oe||(oe=!j,q(),Q.list().forEach(([te,X])=>j?X(j):te()),Q.reset()),j}function me(j,te,X,ne){const{scrollBehavior:le}=s;if(!isBrowser||!le)return Promise.resolve();const R=!X&&getSavedScrollPosition(getScrollKey(j.fullPath,0))||(ne||!X)&&history.state&&history.state.scroll||null;return nextTick().then(()=>le(j,te,R)).then(w=>w&&scrollToPosition(w)).catch(w=>se(w,j,te))}const de=j=>u.go(j);let ye;const ge=new Set,_e={currentRoute:g,listening:!0,addRoute:T,removeRoute:E,hasRoute:C,getRoutes:P,resolve:S,options:s,push:x,replace:A,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:d.add,beforeResolve:f.add,afterEach:m.add,onError:ae.add,isReady:fe,install(j){const te=this;j.component("RouterLink",RouterLink),j.component("RouterView",RouterView),j.config.globalProperties.$router=te,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(g)}),isBrowser&&!ye&&g.value===START_LOCATION_NORMALIZED&&(ye=!0,x(u.location).catch(le=>{}));const X={};for(const le in START_LOCATION_NORMALIZED)Object.defineProperty(X,le,{get:()=>g.value[le],enumerable:!0});j.provide(routerKey,te),j.provide(routeLocationKey,shallowReactive(X)),j.provide(routerViewLocationKey,g);const ne=j.unmount;ge.add(j),j.unmount=function(){ge.delete(j),ge.size<1&&(v=START_LOCATION_NORMALIZED,Z&&Z(),Z=null,g.value=START_LOCATION_NORMALIZED,ye=!1,oe=!1),ne()}}};function ve(j){return j.reduce((te,X)=>te.then(()=>M(X)),Promise.resolve())}return _e}function extractChangingRecords(s,a){const l=[],c=[],u=[],d=Math.max(a.matched.length,s.matched.length);for(let f=0;f<d;f++){const m=a.matched[f];m&&(s.matched.find(v=>isSameRouteRecord$1(v,m))?c.push(m):l.push(m));const g=s.matched[f];g&&(a.matched.find(v=>isSameRouteRecord$1(v,g))||u.push(g))}return[l,c,u]}function useRouter(){return inject(routerKey)}function useRoute(){return inject(routeLocationKey)}function bind(s,a){return function(){return s.apply(a,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(s=>a=>{const l=toString$1.call(a);return s[l]||(s[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=s=>(s=s.toLowerCase(),a=>kindOf(a)===s),typeOfTest=s=>a=>typeof a===s,{isArray:isArray$2}=Array,isUndefined=typeOfTest("undefined");function isBuffer(s){return s!==null&&!isUndefined(s)&&s.constructor!==null&&!isUndefined(s.constructor)&&isFunction$1(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(s){let a;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?a=ArrayBuffer.isView(s):a=s&&s.buffer&&isArrayBuffer(s.buffer),a}const isString$2=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$2=s=>s!==null&&typeof s=="object",isBoolean$1=s=>s===!0||s===!1,isPlainObject$1=s=>{if(kindOf(s)!=="object")return!1;const a=getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=s=>isObject$2(s)&&isFunction$1(s.pipe),isFormData=s=>{let a;return s&&(typeof FormData=="function"&&s instanceof FormData||isFunction$1(s.append)&&((a=kindOf(s))==="formdata"||a==="object"&&isFunction$1(s.toString)&&s.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(s,a,{allOwnKeys:l=!1}={}){if(s===null||typeof s=="undefined")return;let c,u;if(typeof s!="object"&&(s=[s]),isArray$2(s))for(c=0,u=s.length;c<u;c++)a.call(null,s[c],c,s);else{const d=l?Object.getOwnPropertyNames(s):Object.keys(s),f=d.length;let m;for(c=0;c<f;c++)m=d[c],a.call(null,s[m],m,s)}}function findKey(s,a){a=a.toLowerCase();const l=Object.keys(s);let c=l.length,u;for(;c-- >0;)if(u=l[c],a===u.toLowerCase())return u;return null}const _global$1=(()=>typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global)(),isContextDefined=s=>!isUndefined(s)&&s!==_global$1;function merge(){const{caseless:s}=isContextDefined(this)&&this||{},a={},l=(c,u)=>{const d=s&&findKey(a,u)||u;isPlainObject$1(a[d])&&isPlainObject$1(c)?a[d]=merge(a[d],c):isPlainObject$1(c)?a[d]=merge({},c):isArray$2(c)?a[d]=c.slice():a[d]=c};for(let c=0,u=arguments.length;c<u;c++)arguments[c]&&forEach(arguments[c],l);return a}const extend$1=(s,a,l,{allOwnKeys:c}={})=>(forEach(a,(u,d)=>{l&&isFunction$1(u)?s[d]=bind(u,l):s[d]=u},{allOwnKeys:c}),s),stripBOM=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),inherits=(s,a,l,c)=>{s.prototype=Object.create(a.prototype,c),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:a.prototype}),l&&Object.assign(s.prototype,l)},toFlatObject=(s,a,l,c)=>{let u,d,f;const m={};if(a=a||{},s==null)return a;do{for(u=Object.getOwnPropertyNames(s),d=u.length;d-- >0;)f=u[d],(!c||c(f,s,a))&&!m[f]&&(a[f]=s[f],m[f]=!0);s=l!==!1&&getPrototypeOf(s)}while(s&&(!l||l(s,a))&&s!==Object.prototype);return a},endsWith=(s,a,l)=>{s=String(s),(l===void 0||l>s.length)&&(l=s.length),l-=a.length;const c=s.indexOf(a,l);return c!==-1&&c===l},toArray=s=>{if(!s)return null;if(isArray$2(s))return s;let a=s.length;if(!isNumber$1(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=s[a];return l},isTypedArray=(s=>a=>s&&a instanceof s)(typeof Uint8Array!="undefined"&&getPrototypeOf(Uint8Array)),forEachEntry=(s,a)=>{const c=(s&&s[Symbol.iterator]).call(s);let u;for(;(u=c.next())&&!u.done;){const d=u.value;a.call(s,d[0],d[1])}},matchAll=(s,a)=>{let l;const c=[];for(;(l=s.exec(a))!==null;)c.push(l);return c},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,c,u){return c.toUpperCase()+u}),hasOwnProperty$1=(({hasOwnProperty:s})=>(a,l)=>s.call(a,l))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(s,a)=>{const l=Object.getOwnPropertyDescriptors(s),c={};forEach(l,(u,d)=>{let f;(f=a(u,d,s))!==!1&&(c[d]=f||u)}),Object.defineProperties(s,c)},freezeMethods=s=>{reduceDescriptors(s,(a,l)=>{if(isFunction$1(s)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const c=s[l];if(!!isFunction$1(c)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},toObjectSet=(s,a)=>{const l={},c=u=>{u.forEach(d=>{l[d]=!0})};return isArray$2(s)?c(s):c(String(s).split(a)),l},noop=()=>{},toFiniteNumber=(s,a)=>(s=+s,Number.isFinite(s)?s:a),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(s=16,a=ALPHABET.ALPHA_DIGIT)=>{let l="";const{length:c}=a;for(;s--;)l+=a[Math.random()*c|0];return l};function isSpecCompliantForm(s){return!!(s&&isFunction$1(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const toJSONObject=s=>{const a=new Array(10),l=(c,u)=>{if(isObject$2(c)){if(a.indexOf(c)>=0)return;if(!("toJSON"in c)){a[u]=c;const d=isArray$2(c)?[]:{};return forEach(c,(f,m)=>{const g=l(f,u+1);!isUndefined(g)&&(d[m]=g)}),a[u]=void 0,d}}return c};return l(s,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=s=>s&&(isObject$2(s)||isFunction$1(s))&&isFunction$1(s.then)&&isFunction$1(s.catch);var utils={isArray:isArray$2,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$2,isPlainObject:isPlainObject$1,isUndefined,isDate:isDate$1,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global$1,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(s,a,l,c,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",a&&(this.code=a),l&&(this.config=l),c&&(this.request=c),u&&(this.response=u)}utils.inherits(AxiosError,Error,{toJSON:function s(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{descriptors[s]={value:s}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(s,a,l,c,u,d)=>{const f=Object.create(prototype$1);return utils.toFlatObject(s,f,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),AxiosError.call(f,s.message,a,l,c,u),f.cause=s,f.name=s.name,d&&Object.assign(f,d),f};var httpAdapter=null;function isVisitable(s){return utils.isPlainObject(s)||utils.isArray(s)}function removeBrackets(s){return utils.endsWith(s,"[]")?s.slice(0,-2):s}function renderKey(s,a,l){return s?s.concat(a).map(function(u,d){return u=removeBrackets(u),!l&&d?"["+u+"]":u}).join(l?".":""):a}function isFlatArray(s){return utils.isArray(s)&&!s.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function s(a){return/^is[A-Z]/.test(a)});function toFormData(s,a,l){if(!utils.isObject(s))throw new TypeError("target must be an object");a=a||new FormData,l=utils.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,C){return!utils.isUndefined(C[P])});const c=l.metaTokens,u=l.visitor||y,d=l.dots,f=l.indexes,g=(l.Blob||typeof Blob!="undefined"&&Blob)&&utils.isSpecCompliantForm(a);if(!utils.isFunction(u))throw new TypeError("visitor must be a function");function v(E){if(E===null)return"";if(utils.isDate(E))return E.toISOString();if(!g&&utils.isBlob(E))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(E)||utils.isTypedArray(E)?g&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,P,C){let S=E;if(E&&!C&&typeof E=="object"){if(utils.endsWith(P,"{}"))P=c?P:P.slice(0,-2),E=JSON.stringify(E);else if(utils.isArray(E)&&isFlatArray(E)||(utils.isFileList(E)||utils.endsWith(P,"[]"))&&(S=utils.toArray(E)))return P=removeBrackets(P),S.forEach(function(O,x){!(utils.isUndefined(O)||O===null)&&a.append(f===!0?renderKey([P],x,d):f===null?P:P+"[]",v(O))}),!1}return isVisitable(E)?!0:(a.append(renderKey(C,P,d),v(E)),!1)}const b=[],_=Object.assign(predicates,{defaultVisitor:y,convertValue:v,isVisitable});function T(E,P){if(!utils.isUndefined(E)){if(b.indexOf(E)!==-1)throw Error("Circular reference detected in "+P.join("."));b.push(E),utils.forEach(E,function(S,N){(!(utils.isUndefined(S)||S===null)&&u.call(a,S,utils.isString(N)?N.trim():N,P,_))===!0&&T(S,P?P.concat(N):[N])}),b.pop()}}if(!utils.isObject(s))throw new TypeError("data must be an object");return T(s),a}function encode$1(s){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(c){return a[c]})}function AxiosURLSearchParams(s,a){this._pairs=[],s&&toFormData(s,this,a)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function s(a,l){this._pairs.push([a,l])};prototype.toString=function s(a){const l=a?function(c){return a.call(this,c,encode$1)}:encode$1;return this._pairs.map(function(u){return l(u[0])+"="+l(u[1])},"").join("&")};function encode(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(s,a,l){if(!a)return s;const c=l&&l.encode||encode,u=l&&l.serialize;let d;if(u?d=u(a,l):d=utils.isURLSearchParams(a)?a.toString():new AxiosURLSearchParams(a,l).toString(c),d){const f=s.indexOf("#");f!==-1&&(s=s.slice(0,f)),s+=(s.indexOf("?")===-1?"?":"&")+d}return s}class InterceptorManager{constructor(){this.handlers=[]}use(a,l,c){return this.handlers.push({fulfilled:a,rejected:l,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){utils.forEach(this.handlers,function(c){c!==null&&a(c)})}}var InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams!="undefined"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData!="undefined"?FormData:null,Blob$1=typeof Blob!="undefined"?Blob:null;const isStandardBrowserEnv=(()=>{let s;return typeof navigator!="undefined"&&((s=navigator.product)==="ReactNative"||s==="NativeScript"||s==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(s,a){return toFormData(s,new platform.classes.URLSearchParams,Object.assign({visitor:function(l,c,u,d){return platform.isNode&&utils.isBuffer(l)?(this.append(c,l.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},a))}function parsePropPath(s){return utils.matchAll(/\w+|\[(\w*)]/g,s).map(a=>a[0]==="[]"?"":a[1]||a[0])}function arrayToObject$1(s){const a={},l=Object.keys(s);let c;const u=l.length;let d;for(c=0;c<u;c++)d=l[c],a[d]=s[d];return a}function formDataToJSON(s){function a(l,c,u,d){let f=l[d++];const m=Number.isFinite(+f),g=d>=l.length;return f=!f&&utils.isArray(u)?u.length:f,g?(utils.hasOwnProp(u,f)?u[f]=[u[f],c]:u[f]=c,!m):((!u[f]||!utils.isObject(u[f]))&&(u[f]=[]),a(l,c,u[f],d)&&utils.isArray(u[f])&&(u[f]=arrayToObject$1(u[f])),!m)}if(utils.isFormData(s)&&utils.isFunction(s.entries)){const l={};return utils.forEachEntry(s,(c,u)=>{a(parsePropPath(c),u,l,0)}),l}return null}function stringifySafely(s,a,l){if(utils.isString(s))try{return(a||JSON.parse)(s),utils.trim(s)}catch(c){if(c.name!=="SyntaxError")throw c}return(l||JSON.stringify)(s)}const defaults$2={transitional:transitionalDefaults,adapter:platform.isNode?"http":"xhr",transformRequest:[function s(a,l){const c=l.getContentType()||"",u=c.indexOf("application/json")>-1,d=utils.isObject(a);if(d&&utils.isHTMLForm(a)&&(a=new FormData(a)),utils.isFormData(a))return u&&u?JSON.stringify(formDataToJSON(a)):a;if(utils.isArrayBuffer(a)||utils.isBuffer(a)||utils.isStream(a)||utils.isFile(a)||utils.isBlob(a))return a;if(utils.isArrayBufferView(a))return a.buffer;if(utils.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let m;if(d){if(c.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(a,this.formSerializer).toString();if((m=utils.isFileList(a))||c.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return toFormData(m?{"files[]":a}:a,g&&new g,this.formSerializer)}}return d||u?(l.setContentType("application/json",!1),stringifySafely(a)):a}],transformResponse:[function s(a){const l=this.transitional||defaults$2.transitional,c=l&&l.forcedJSONParsing,u=this.responseType==="json";if(a&&utils.isString(a)&&(c&&!this.responseType||u)){const f=!(l&&l.silentJSONParsing)&&u;try{return JSON.parse(a)}catch(m){if(f)throw m.name==="SyntaxError"?AxiosError.from(m,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):m}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function s(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils.forEach(["delete","get","head","post","put","patch"],s=>{defaults$2.headers[s]={}});var defaults$3=defaults$2;const ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=s=>{const a={};let l,c,u;return s&&s.split(`
`).forEach(function(f){u=f.indexOf(":"),l=f.substring(0,u).trim().toLowerCase(),c=f.substring(u+1).trim(),!(!l||a[l]&&ignoreDuplicateOf[l])&&(l==="set-cookie"?a[l]?a[l].push(c):a[l]=[c]:a[l]=a[l]?a[l]+", "+c:c)}),a};const $internals=Symbol("internals");function normalizeHeader(s){return s&&String(s).trim().toLowerCase()}function normalizeValue(s){return s===!1||s==null?s:utils.isArray(s)?s.map(normalizeValue):String(s)}function parseTokens(s){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=l.exec(s);)a[c[1]]=c[2];return a}const isValidHeaderName=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function matchHeaderValue(s,a,l,c,u){if(utils.isFunction(c))return c.call(this,a,l);if(u&&(a=l),!!utils.isString(a)){if(utils.isString(c))return a.indexOf(c)!==-1;if(utils.isRegExp(c))return c.test(a)}}function formatHeader(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,c)=>l.toUpperCase()+c)}function buildAccessors(s,a){const l=utils.toCamelCase(" "+a);["get","set","has"].forEach(c=>{Object.defineProperty(s,c+l,{value:function(u,d,f){return this[c].call(this,a,u,d,f)},configurable:!0})})}class AxiosHeaders{constructor(a){a&&this.set(a)}set(a,l,c){const u=this;function d(m,g,v){const y=normalizeHeader(g);if(!y)throw new Error("header name must be a non-empty string");const b=utils.findKey(u,y);(!b||u[b]===void 0||v===!0||v===void 0&&u[b]!==!1)&&(u[b||g]=normalizeValue(m))}const f=(m,g)=>utils.forEach(m,(v,y)=>d(v,y,g));return utils.isPlainObject(a)||a instanceof this.constructor?f(a,l):utils.isString(a)&&(a=a.trim())&&!isValidHeaderName(a)?f(parseHeaders(a),l):a!=null&&d(l,a,c),this}get(a,l){if(a=normalizeHeader(a),a){const c=utils.findKey(this,a);if(c){const u=this[c];if(!l)return u;if(l===!0)return parseTokens(u);if(utils.isFunction(l))return l.call(this,u,c);if(utils.isRegExp(l))return l.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=normalizeHeader(a),a){const c=utils.findKey(this,a);return!!(c&&this[c]!==void 0&&(!l||matchHeaderValue(this,this[c],c,l)))}return!1}delete(a,l){const c=this;let u=!1;function d(f){if(f=normalizeHeader(f),f){const m=utils.findKey(c,f);m&&(!l||matchHeaderValue(c,c[m],m,l))&&(delete c[m],u=!0)}}return utils.isArray(a)?a.forEach(d):d(a),u}clear(a){const l=Object.keys(this);let c=l.length,u=!1;for(;c--;){const d=l[c];(!a||matchHeaderValue(this,this[d],d,a,!0))&&(delete this[d],u=!0)}return u}normalize(a){const l=this,c={};return utils.forEach(this,(u,d)=>{const f=utils.findKey(c,d);if(f){l[f]=normalizeValue(u),delete l[d];return}const m=a?formatHeader(d):String(d).trim();m!==d&&delete l[d],l[m]=normalizeValue(u),c[m]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return utils.forEach(this,(c,u)=>{c!=null&&c!==!1&&(l[u]=a&&utils.isArray(c)?c.join(", "):c)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const c=new this(a);return l.forEach(u=>c.set(u)),c}static accessor(a){const c=(this[$internals]=this[$internals]={accessors:{}}).accessors,u=this.prototype;function d(f){const m=normalizeHeader(f);c[m]||(buildAccessors(u,f),c[m]=!0)}return utils.isArray(a)?a.forEach(d):d(a),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.reduceDescriptors(AxiosHeaders.prototype,({value:s},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>s,set(c){this[l]=c}}});utils.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(s,a){const l=this||defaults$3,c=a||l,u=AxiosHeaders$1.from(c.headers);let d=c.data;return utils.forEach(s,function(m){d=m.call(l,d,u.normalize(),a?a.status:void 0)}),u.normalize(),d}function isCancel(s){return!!(s&&s.__CANCEL__)}function CanceledError(s,a,l){AxiosError.call(this,s==null?"canceled":s,AxiosError.ERR_CANCELED,a,l),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(s,a,l){const c=l.config.validateStatus;!l.status||!c||c(l.status)?s(l):a(new AxiosError("Request failed with status code "+l.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}var cookies=platform.isStandardBrowserEnv?function s(){return{write:function(l,c,u,d,f,m){const g=[];g.push(l+"="+encodeURIComponent(c)),utils.isNumber(u)&&g.push("expires="+new Date(u).toGMTString()),utils.isString(d)&&g.push("path="+d),utils.isString(f)&&g.push("domain="+f),m===!0&&g.push("secure"),document.cookie=g.join("; ")},read:function(l){const c=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(l){this.write(l,"",Date.now()-864e5)}}}():function s(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function combineURLs(s,a){return a?s.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):s}function buildFullPath(s,a){return s&&!isAbsoluteURL(a)?combineURLs(s,a):a}var isURLSameOrigin=platform.isStandardBrowserEnv?function s(){const a=/(msie|trident)/i.test(navigator.userAgent),l=document.createElement("a");let c;function u(d){let f=d;return a&&(l.setAttribute("href",f),f=l.href),l.setAttribute("href",f),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return c=u(window.location.href),function(f){const m=utils.isString(f)?u(f):f;return m.protocol===c.protocol&&m.host===c.host}}():function s(){return function(){return!0}}();function parseProtocol(s){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return a&&a[1]||""}function speedometer(s,a){s=s||10;const l=new Array(s),c=new Array(s);let u=0,d=0,f;return a=a!==void 0?a:1e3,function(g){const v=Date.now(),y=c[d];f||(f=v),l[u]=g,c[u]=v;let b=d,_=0;for(;b!==u;)_+=l[b++],b=b%s;if(u=(u+1)%s,u===d&&(d=(d+1)%s),v-f<a)return;const T=y&&v-y;return T?Math.round(_*1e3/T):void 0}}function progressEventReducer(s,a){let l=0;const c=speedometer(50,250);return u=>{const d=u.loaded,f=u.lengthComputable?u.total:void 0,m=d-l,g=c(m),v=d<=f;l=d;const y={loaded:d,total:f,progress:f?d/f:void 0,bytes:m,rate:g||void 0,estimated:g&&f&&v?(f-d)/g:void 0,event:u};y[a?"download":"upload"]=!0,s(y)}}const isXHRAdapterSupported=typeof XMLHttpRequest!="undefined";var xhrAdapter=isXHRAdapterSupported&&function(s){return new Promise(function(l,c){let u=s.data;const d=AxiosHeaders$1.from(s.headers).normalize(),f=s.responseType;let m;function g(){s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}utils.isFormData(u)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv?d.setContentType(!1):d.setContentType("multipart/form-data;",!1));let v=new XMLHttpRequest;if(s.auth){const T=s.auth.username||"",E=s.auth.password?unescape(encodeURIComponent(s.auth.password)):"";d.set("Authorization","Basic "+btoa(T+":"+E))}const y=buildFullPath(s.baseURL,s.url);v.open(s.method.toUpperCase(),buildURL(y,s.params,s.paramsSerializer),!0),v.timeout=s.timeout;function b(){if(!v)return;const T=AxiosHeaders$1.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),P={data:!f||f==="text"||f==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:T,config:s,request:v};settle(function(S){l(S),g()},function(S){c(S),g()},P),v=null}if("onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){!v||(c(new AxiosError("Request aborted",AxiosError.ECONNABORTED,s,v)),v=null)},v.onerror=function(){c(new AxiosError("Network Error",AxiosError.ERR_NETWORK,s,v)),v=null},v.ontimeout=function(){let E=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||transitionalDefaults;s.timeoutErrorMessage&&(E=s.timeoutErrorMessage),c(new AxiosError(E,P.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,s,v)),v=null},platform.isStandardBrowserEnv){const T=(s.withCredentials||isURLSameOrigin(y))&&s.xsrfCookieName&&cookies.read(s.xsrfCookieName);T&&d.set(s.xsrfHeaderName,T)}u===void 0&&d.setContentType(null),"setRequestHeader"in v&&utils.forEach(d.toJSON(),function(E,P){v.setRequestHeader(P,E)}),utils.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),f&&f!=="json"&&(v.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&v.addEventListener("progress",progressEventReducer(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",progressEventReducer(s.onUploadProgress)),(s.cancelToken||s.signal)&&(m=T=>{!v||(c(!T||T.type?new CanceledError(null,s,v):T),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const _=parseProtocol(y);if(_&&platform.protocols.indexOf(_)===-1){c(new AxiosError("Unsupported protocol "+_+":",AxiosError.ERR_BAD_REQUEST,s));return}v.send(u||null)})};const knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(s,a)=>{if(s){try{Object.defineProperty(s,"name",{value:a})}catch{}Object.defineProperty(s,"adapterName",{value:a})}});var adapters={getAdapter:s=>{s=utils.isArray(s)?s:[s];const{length:a}=s;let l,c;for(let u=0;u<a&&(l=s[u],!(c=utils.isString(l)?knownAdapters[l.toLowerCase()]:l));u++);if(!c)throw c===!1?new AxiosError(`Adapter ${l} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,l)?`Adapter '${l}' is not available in the build`:`Unknown adapter '${l}'`);if(!utils.isFunction(c))throw new TypeError("adapter is not a function");return c},adapters:knownAdapters};function throwIfCancellationRequested(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new CanceledError(null,s)}function dispatchRequest(s){return throwIfCancellationRequested(s),s.headers=AxiosHeaders$1.from(s.headers),s.data=transformData.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(s.adapter||defaults$3.adapter)(s).then(function(c){return throwIfCancellationRequested(s),c.data=transformData.call(s,s.transformResponse,c),c.headers=AxiosHeaders$1.from(c.headers),c},function(c){return isCancel(c)||(throwIfCancellationRequested(s),c&&c.response&&(c.response.data=transformData.call(s,s.transformResponse,c.response),c.response.headers=AxiosHeaders$1.from(c.response.headers))),Promise.reject(c)})}const headersToObject=s=>s instanceof AxiosHeaders$1?s.toJSON():s;function mergeConfig(s,a){a=a||{};const l={};function c(v,y,b){return utils.isPlainObject(v)&&utils.isPlainObject(y)?utils.merge.call({caseless:b},v,y):utils.isPlainObject(y)?utils.merge({},y):utils.isArray(y)?y.slice():y}function u(v,y,b){if(utils.isUndefined(y)){if(!utils.isUndefined(v))return c(void 0,v,b)}else return c(v,y,b)}function d(v,y){if(!utils.isUndefined(y))return c(void 0,y)}function f(v,y){if(utils.isUndefined(y)){if(!utils.isUndefined(v))return c(void 0,v)}else return c(void 0,y)}function m(v,y,b){if(b in a)return c(v,y);if(b in s)return c(void 0,v)}const g={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m,headers:(v,y)=>u(headersToObject(v),headersToObject(y),!0)};return utils.forEach(Object.keys(Object.assign({},s,a)),function(y){const b=g[y]||u,_=b(s[y],a[y],y);utils.isUndefined(_)&&b!==m||(l[y]=_)}),l}const VERSION$2="1.5.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((s,a)=>{validators$1[s]=function(c){return typeof c===s||"a"+(a<1?"n ":" ")+s}});const deprecatedWarnings={};validators$1.transitional=function s(a,l,c){function u(d,f){return"[Axios v"+VERSION$2+"] Transitional option '"+d+"'"+f+(c?". "+c:"")}return(d,f,m)=>{if(a===!1)throw new AxiosError(u(f," has been removed"+(l?" in "+l:"")),AxiosError.ERR_DEPRECATED);return l&&!deprecatedWarnings[f]&&(deprecatedWarnings[f]=!0,console.warn(u(f," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(d,f,m):!0}};function assertOptions(s,a,l){if(typeof s!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const c=Object.keys(s);let u=c.length;for(;u-- >0;){const d=c[u],f=a[d];if(f){const m=s[d],g=m===void 0||f(m,d,s);if(g!==!0)throw new AxiosError("option "+d+" must be "+g,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new AxiosError("Unknown option "+d,AxiosError.ERR_BAD_OPTION)}}var validator={assertOptions,validators:validators$1};const validators=validator.validators;class Axios{constructor(a){this.defaults=a,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=mergeConfig(this.defaults,l);const{transitional:c,paramsSerializer:u,headers:d}=l;c!==void 0&&validator.assertOptions(c,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),u!=null&&(utils.isFunction(u)?l.paramsSerializer={serialize:u}:validator.assertOptions(u,{encode:validators.function,serialize:validators.function},!0)),l.method=(l.method||this.defaults.method||"get").toLowerCase();let f=d&&utils.merge(d.common,d[l.method]);d&&utils.forEach(["delete","get","head","post","put","patch","common"],E=>{delete d[E]}),l.headers=AxiosHeaders$1.concat(f,d);const m=[];let g=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(l)===!1||(g=g&&P.synchronous,m.unshift(P.fulfilled,P.rejected))});const v=[];this.interceptors.response.forEach(function(P){v.push(P.fulfilled,P.rejected)});let y,b=0,_;if(!g){const E=[dispatchRequest.bind(this),void 0];for(E.unshift.apply(E,m),E.push.apply(E,v),_=E.length,y=Promise.resolve(l);b<_;)y=y.then(E[b++],E[b++]);return y}_=m.length;let T=l;for(b=0;b<_;){const E=m[b++],P=m[b++];try{T=E(T)}catch(C){P.call(this,C);break}}try{y=dispatchRequest.call(this,T)}catch(E){return Promise.reject(E)}for(b=0,_=v.length;b<_;)y=y.then(v[b++],v[b++]);return y}getUri(a){a=mergeConfig(this.defaults,a);const l=buildFullPath(a.baseURL,a.url);return buildURL(l,a.params,a.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function s(a){Axios.prototype[a]=function(l,c){return this.request(mergeConfig(c||{},{method:a,url:l,data:(c||{}).data}))}});utils.forEach(["post","put","patch"],function s(a){function l(c){return function(d,f,m){return this.request(mergeConfig(m||{},{method:a,headers:c?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}Axios.prototype[a]=l(),Axios.prototype[a+"Form"]=l(!0)});var Axios$1=Axios;class CancelToken{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(d){l=d});const c=this;this.promise.then(u=>{if(!c._listeners)return;let d=c._listeners.length;for(;d-- >0;)c._listeners[d](u);c._listeners=null}),this.promise.then=u=>{let d;const f=new Promise(m=>{c.subscribe(m),d=m}).then(u);return f.cancel=function(){c.unsubscribe(d)},f},a(function(d,f,m){c.reason||(c.reason=new CanceledError(d,f,m),l(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}static source(){let a;return{token:new CancelToken(function(u){a=u}),cancel:a}}}var CancelToken$1=CancelToken;function spread(s){return function(l){return s.apply(null,l)}}function isAxiosError(s){return utils.isObject(s)&&s.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([s,a])=>{HttpStatusCode[a]=s});var HttpStatusCode$1=HttpStatusCode;function createInstance(s){const a=new Axios$1(s),l=bind(Axios$1.prototype.request,a);return utils.extend(l,Axios$1.prototype,a,{allOwnKeys:!0}),utils.extend(l,a,null,{allOwnKeys:!0}),l.create=function(u){return createInstance(mergeConfig(s,u))},l}const axios$2=createInstance(defaults$3);axios$2.Axios=Axios$1;axios$2.CanceledError=CanceledError;axios$2.CancelToken=CancelToken$1;axios$2.isCancel=isCancel;axios$2.VERSION=VERSION$2;axios$2.toFormData=toFormData;axios$2.AxiosError=AxiosError;axios$2.Cancel=axios$2.CanceledError;axios$2.all=function s(a){return Promise.all(a)};axios$2.spread=spread;axios$2.isAxiosError=isAxiosError;axios$2.mergeConfig=mergeConfig;axios$2.AxiosHeaders=AxiosHeaders$1;axios$2.formToJSON=s=>formDataToJSON(utils.isHTMLForm(s)?new FormData(s):s);axios$2.getAdapter=adapters.getAdapter;axios$2.HttpStatusCode=HttpStatusCode$1;axios$2.default=axios$2;var axios$3=axios$2;const BASE_PATH="http://localhost/v1".replace(/\/+$/,"");class RequiredError extends Error{constructor(a,l){super(l),this.field=a,this.name="RequiredError"}}const DUMMY_BASE_URL="https://example.com",assertParamExists=function(s,a,l){if(l==null)throw new RequiredError(a,`Required parameter ${a} was null or undefined when calling ${s}.`)};function setFlattenedQueryParams(s,a,l=""){a!=null&&(typeof a=="object"?Array.isArray(a)?a.forEach(c=>setFlattenedQueryParams(s,c,l)):Object.keys(a).forEach(c=>setFlattenedQueryParams(s,a[c],`${l}${l!==""?".":""}${c}`)):s.has(l)?s.append(l,a):s.set(l,a))}const setSearchParams=function(s,...a){const l=new URLSearchParams(s.search);setFlattenedQueryParams(l,a),s.search=l.toString()},serializeDataIfNeeded=function(s,a,l){const c=typeof s!="string";return(c&&l&&l.isJsonMime?l.isJsonMime(a.headers["Content-Type"]):c)?JSON.stringify(s!==void 0?s:{}):s||""},toPathString=function(s){return s.pathname+s.search+s.hash},createRequestFunction=function(s,a,l,c){return(u=a,d=l)=>{const f={...s.options,url:((c==null?void 0:c.basePath)||d)+s.url};return u.request(f)}},AuthApiAxiosParamCreator=function(s){return{authApiTokensGet:async(a={})=>{const l="/auth/api-tokens",c=new URL(l,DUMMY_BASE_URL);let u;s&&(u=s.baseOptions);const d={method:"GET",...u,...a},f={};setSearchParams(c,{});let g=u&&u.headers?u.headers:{};return d.headers={...f,...g,...a.headers},{url:toPathString(c),options:d}},authLogoutGet:async(a={})=>{const l="/auth/logout",c=new URL(l,DUMMY_BASE_URL);let u;s&&(u=s.baseOptions);const d={method:"GET",...u,...a},f={};setSearchParams(c,{});let g=u&&u.headers?u.headers:{};return d.headers={...f,...g,...a.headers},{url:toPathString(c),options:d}},authProviderCallbackGet:async(a,l={})=>{assertParamExists("authProviderCallbackGet","provider",a);const c="/auth/{provider}/callback".replace("{provider}",encodeURIComponent(String(a))),u=new URL(c,DUMMY_BASE_URL);let d;s&&(d=s.baseOptions);const f={method:"GET",...d,...l},m={};setSearchParams(u,{});let v=d&&d.headers?d.headers:{};return f.headers={...m,...v,...l.headers},{url:toPathString(u),options:f}},authProviderLoginGet:async(a,l={})=>{assertParamExists("authProviderLoginGet","provider",a);const c="/auth/{provider}/login".replace("{provider}",encodeURIComponent(String(a))),u=new URL(c,DUMMY_BASE_URL);let d;s&&(d=s.baseOptions);const f={method:"GET",...d,...l},m={};setSearchParams(u,{});let v=d&&d.headers?d.headers:{};return f.headers={...m,...v,...l.headers},{url:toPathString(u),options:f}},authTokenPost:async(a={})=>{const l="/auth/token",c=new URL(l,DUMMY_BASE_URL);let u;s&&(u=s.baseOptions);const d={method:"POST",...u,...a},f={};setSearchParams(c,{});let g=u&&u.headers?u.headers:{};return d.headers={...f,...g,...a.headers},{url:toPathString(c),options:d}},authTokenTokenIdDelete:async(a,l={})=>{assertParamExists("authTokenTokenIdDelete","tokenId",a);const c="/auth/token/{tokenId}".replace("{tokenId}",encodeURIComponent(String(a))),u=new URL(c,DUMMY_BASE_URL);let d;s&&(d=s.baseOptions);const f={method:"DELETE",...d,...l},m={};setSearchParams(u,{});let v=d&&d.headers?d.headers:{};return f.headers={...m,...v,...l.headers},{url:toPathString(u),options:f}},authVerifyGet:async(a={})=>{const l="/auth/verify",c=new URL(l,DUMMY_BASE_URL);let u;s&&(u=s.baseOptions);const d={method:"GET",...u,...a},f={};setSearchParams(c,{});let g=u&&u.headers?u.headers:{};return d.headers={...f,...g,...a.headers},{url:toPathString(c),options:d}}}},AuthApiFp=function(s){const a=AuthApiAxiosParamCreator(s);return{async authApiTokensGet(l){const c=await a.authApiTokensGet(l);return createRequestFunction(c,axios$3,BASE_PATH,s)},async authLogoutGet(l){const c=await a.authLogoutGet(l);return createRequestFunction(c,axios$3,BASE_PATH,s)},async authProviderCallbackGet(l,c){const u=await a.authProviderCallbackGet(l,c);return createRequestFunction(u,axios$3,BASE_PATH,s)},async authProviderLoginGet(l,c){const u=await a.authProviderLoginGet(l,c);return createRequestFunction(u,axios$3,BASE_PATH,s)},async authTokenPost(l){const c=await a.authTokenPost(l);return createRequestFunction(c,axios$3,BASE_PATH,s)},async authTokenTokenIdDelete(l,c){const u=await a.authTokenTokenIdDelete(l,c);return createRequestFunction(u,axios$3,BASE_PATH,s)},async authVerifyGet(l){const c=await a.authVerifyGet(l);return createRequestFunction(c,axios$3,BASE_PATH,s)}}},AuthApiFactory=function(s,a,l){const c=AuthApiFp(s);return{authApiTokensGet(u){return c.authApiTokensGet(u).then(d=>d(l,a))},authLogoutGet(u){return c.authLogoutGet(u).then(d=>d(l,a))},authProviderCallbackGet(u,d){return c.authProviderCallbackGet(u,d).then(f=>f(l,a))},authProviderLoginGet(u,d){return c.authProviderLoginGet(u,d).then(f=>f(l,a))},authTokenPost(u){return c.authTokenPost(u).then(d=>d(l,a))},authTokenTokenIdDelete(u,d){return c.authTokenTokenIdDelete(u,d).then(f=>f(l,a))},authVerifyGet(u){return c.authVerifyGet(u).then(d=>d(l,a))}}},NotesApiAxiosParamCreator=function(s){return{notesBulkUpsertPut:async(a,l={})=>{assertParamExists("notesBulkUpsertPut","notes",a);const c="/notes/bulk-upsert",u=new URL(c,DUMMY_BASE_URL);let d;s&&(d=s.baseOptions);const f={method:"PUT",...d,...l},m={},g={};m["Content-Type"]="application/json",setSearchParams(u,g);let v=d&&d.headers?d.headers:{};return f.headers={...m,...v,...l.headers},f.data=serializeDataIfNeeded(a,f,s),{url:toPathString(u),options:f}},notesDelete:async(a,l={})=>{assertParamExists("notesDelete","ids",a);const c="/notes",u=new URL(c,DUMMY_BASE_URL);let d;s&&(d=s.baseOptions);const f={method:"DELETE",...d,...l},m={},g={};m["Content-Type"]="application/json",setSearchParams(u,g);let v=d&&d.headers?d.headers:{};return f.headers={...m,...v,...l.headers},f.data=serializeDataIfNeeded(a,f,s),{url:toPathString(u),options:f}},notesGet:async(a,l,c,u,d,f,m,g={})=>{const v="/notes/",y=new URL(v,DUMMY_BASE_URL);let b;s&&(b=s.baseOptions);const _={method:"GET",...b,...g},T={},E={};a!==void 0&&(E.limit=a),l!==void 0&&(E.offset=l),c!==void 0&&(E.userId=c),u!==void 0&&(E.searchText=u),d!==void 0&&(E.my=d),f!==void 0&&(E.from=f),m!==void 0&&(E.includeDeleted=m),setSearchParams(y,E);let P=b&&b.headers?b.headers:{};return _.headers={...T,...P,...g.headers},{url:toPathString(y),options:_}},notesGraphGet:async(a={})=>{const l="/notes/graph",c=new URL(l,DUMMY_BASE_URL);let u;s&&(u=s.baseOptions);const d={method:"GET",...u,...a},f={};setSearchParams(c,{});let g=u&&u.headers?u.headers:{};return d.headers={...f,...g,...a.headers},{url:toPathString(c),options:d}},notesIdGet:async(a,l={})=>{assertParamExists("notesIdGet","id",a);const c="/notes/{id}".replace("{id}",encodeURIComponent(String(a))),u=new URL(c,DUMMY_BASE_URL);let d;s&&(d=s.baseOptions);const f={method:"GET",...d,...l},m={};setSearchParams(u,{});let v=d&&d.headers?d.headers:{};return f.headers={...m,...v,...l.headers},{url:toPathString(u),options:f}},notesPost:async(a,l={})=>{assertParamExists("notesPost","note",a);const c="/notes/",u=new URL(c,DUMMY_BASE_URL);let d;s&&(d=s.baseOptions);const f={method:"POST",...d,...l},m={},g={};m["Content-Type"]="application/json",setSearchParams(u,g);let v=d&&d.headers?d.headers:{};return f.headers={...m,...v,...l.headers},f.data=serializeDataIfNeeded(a,f,s),{url:toPathString(u),options:f}},notesSyncPost:async(a,l={})=>{assertParamExists("notesSyncPost","data",a);const c="/notes/sync",u=new URL(c,DUMMY_BASE_URL);let d;s&&(d=s.baseOptions);const f={method:"POST",...d,...l},m={},g={};m["Content-Type"]="application/json",setSearchParams(u,g);let v=d&&d.headers?d.headers:{};return f.headers={...m,...v,...l.headers},f.data=serializeDataIfNeeded(a,f,s),{url:toPathString(u),options:f}}}},NotesApiFp=function(s){const a=NotesApiAxiosParamCreator(s);return{async notesBulkUpsertPut(l,c){const u=await a.notesBulkUpsertPut(l,c);return createRequestFunction(u,axios$3,BASE_PATH,s)},async notesDelete(l,c){const u=await a.notesDelete(l,c);return createRequestFunction(u,axios$3,BASE_PATH,s)},async notesGet(l,c,u,d,f,m,g,v){const y=await a.notesGet(l,c,u,d,f,m,g,v);return createRequestFunction(y,axios$3,BASE_PATH,s)},async notesGraphGet(l){const c=await a.notesGraphGet(l);return createRequestFunction(c,axios$3,BASE_PATH,s)},async notesIdGet(l,c){const u=await a.notesIdGet(l,c);return createRequestFunction(u,axios$3,BASE_PATH,s)},async notesPost(l,c){const u=await a.notesPost(l,c);return createRequestFunction(u,axios$3,BASE_PATH,s)},async notesSyncPost(l,c){const u=await a.notesSyncPost(l,c);return createRequestFunction(u,axios$3,BASE_PATH,s)}}},NotesApiFactory=function(s,a,l){const c=NotesApiFp(s);return{notesBulkUpsertPut(u,d){return c.notesBulkUpsertPut(u,d).then(f=>f(l,a))},notesDelete(u,d){return c.notesDelete(u,d).then(f=>f(l,a))},notesGet(u,d,f,m,g,v,y,b){return c.notesGet(u,d,f,m,g,v,y,b).then(_=>_(l,a))},notesGraphGet(u){return c.notesGraphGet(u).then(d=>d(l,a))},notesIdGet(u,d){return c.notesIdGet(u,d).then(f=>f(l,a))},notesPost(u,d){return c.notesPost(u,d).then(f=>f(l,a))},notesSyncPost(u,d){return c.notesSyncPost(u,d).then(f=>f(l,a))}}},TagsApiAxiosParamCreator=function(s){return{tagsGet:async(a={})=>{const l="/tags",c=new URL(l,DUMMY_BASE_URL);let u;s&&(u=s.baseOptions);const d={method:"GET",...u,...a},f={};setSearchParams(c,{});let g=u&&u.headers?u.headers:{};return d.headers={...f,...g,...a.headers},{url:toPathString(c),options:d}}}},TagsApiFp=function(s){const a=TagsApiAxiosParamCreator(s);return{async tagsGet(l){const c=await a.tagsGet(l);return createRequestFunction(c,axios$3,BASE_PATH,s)}}},TagsApiFactory=function(s,a,l){const c=TagsApiFp(s);return{tagsGet(u){return c.tagsGet(u).then(d=>d(l,a))}}},initFilesApi=s=>({uploadFile:async a=>{const l=new FormData;return l.append("files",a),(await s.post("/files/upload",l,{headers:{"Content-Type":"multipart/form-data"}})).data}}),api=axios$3.create({baseURL:"/v1"});api.interceptors.request.use(s=>{const a=useAuthStore();return s.headers.Authorization=`Bearer ${a.token}`,s},s=>Promise.reject(s));const auth=AuthApiFactory(null,"",api),notes=NotesApiFactory(null,"",api),tags=TagsApiFactory(null,"",api),files=initFilesApi(api),sdk={auth,notes,tags,files};var axios=({app:s})=>{s.config.globalProperties.$axios=axios$3,s.config.globalProperties.$api=api,s.config.globalProperties.$sdk=sdk},axios$1=Object.freeze(Object.defineProperty({__proto__:null,default:axios,api,sdk},Symbol.toStringTag,{value:"Module"}));const useSettingsStore=defineStore("settings",()=>{const s=ref([]),a=ref(!0),l=ref("en-US"),c=ref("auto"),u=T=>{l.value=T},d=T=>{s.value=T},f=async()=>{const{data:T}=(await sdk.auth.authTokenPost()).data;s.value=[...s.value,T]},m=()=>{s.value=[]},g=async T=>{s.value=s.value.filter(E=>E.id!==T.id);try{await sdk.auth.authTokenTokenIdDelete(T.id)}catch{s.value=[...s.value,T]}},v=async()=>{try{s.value=(await sdk.auth.authApiTokensGet()).data.data}catch{}},y=()=>{a.value=!a.value},b=T=>{c.value=T,_()},_=()=>{Plugin$3.set(c.value)};return{tokens:s,showUserProfiles:a,locale:l,darkMode:c,setLocale:u,setTokens:d,createNewToken:f,reset:m,removeToken:g,getApiTokens:v,toggleProfileVisibility:y,setDarkMode:b,updateDarkMode:_}},{persist:{afterRestore:({store:s})=>s.updateDarkMode()}});function convertNoteToNotePreview(s){return{id:s.id,meta:s.meta,filePath:s.filePath,isMy:s.isMy,createdAt:s.createdAt}}class BaseRepository{constructor(a){Ee(this,"dbName","orgnote");this.db=a}get store(){throw new Error("Store getter not implemented.")}}Ee(BaseRepository,"indexes"),Ee(BaseRepository,"storeName");const Ce=class extends BaseRepository{get store(){return this.db.table(Ce.storeName)}async getNotesAfterUpdateTime(a){const l=[];return a?this.store.where("updatedAt").above(a).each(c=>!c.deleted&&l.push(c)).then(()=>l):this.store.each(c=>!c.deleted&&l.push(c)).then(()=>l)}async getDeletedNotes(){const a=[];return await this.store.each(l=>{l.deleted&&a.push(l)}).then(()=>a)}async saveNotes(a){await this.store.bulkPut(a)}async putNote(a){await this.store.put(a)}async getById(a){return this.store.get({id:a})}async getNotePreviews(a,l,c){const u=[],d=this.store.orderBy("createdAt").reverse().filter(m=>!m.deleted);return(c?d.filter(m=>{var g;return(g=m.meta.title)==null?void 0:g.toLowerCase().includes(c.toLowerCase())}):d).offset(l).limit(a).each(m=>u.push(convertNoteToNotePreview(m))).then(()=>u)}async deleteNotes(a){await this.store.bulkDelete(a)}async markAsDeleted(a){await this.store.bulkUpdate(a.map(l=>({key:l,changes:{deleted:new Date}})))}async bulkPartialUpdate(a){!a.length||await this.store.bulkUpdate(toDeepRaw(a).map(l=>({key:l.id,changes:{...l.changes,updatedAt:new Date().toISOString()}})))}async count(a){if(!a)return this.store.filter(c=>!c.deleted).count();const l=a==null?void 0:a.toLowerCase();return this.store.filter(c=>{var u;return!c.deleted&&((u=c.meta.title)==null?void 0:u.toLowerCase().includes(l))}).count()}async getFilePaths(){const a=[];return this.store.filter(l=>!l.deleted).each(l=>{a.push({id:l.id,filePath:l.filePath})}).then(()=>a)}};let NoteRepository=Ce;Ee(NoteRepository,"storeName","notes"),Ee(NoteRepository,"indexes","++id, meta.title, meta.description, createdAt, updatedAt, *meta.fileTags");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(s,a){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(l[u]=c[u])},extendStatics(s,a)};function __extends(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");extendStatics(s,a);function l(){this.constructor=s}s.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}var __assign=function(){return __assign=Object.assign||function(a){for(var l,c=1,u=arguments.length;c<u;c++){l=arguments[c];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(a[d]=l[d])}return a},__assign.apply(this,arguments)};function __spreadArray(s,a,l){if(l||arguments.length===2)for(var c=0,u=a.length,d;c<u;c++)(d||!(c in a))&&(d||(d=Array.prototype.slice.call(a,0,c)),d[c]=a[c]);return s.concat(d||Array.prototype.slice.call(a))}var _global=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,keys=Object.keys,isArray$1=Array.isArray;typeof Promise!="undefined"&&!_global.Promise&&(_global.Promise=Promise);function extend(s,a){return typeof a!="object"||keys(a).forEach(function(l){s[l]=a[l]}),s}var getProto=Object.getPrototypeOf,_hasOwn={}.hasOwnProperty;function hasOwn$1(s,a){return _hasOwn.call(s,a)}function props$1(s,a){typeof a=="function"&&(a=a(getProto(s))),(typeof Reflect=="undefined"?keys:Reflect.ownKeys)(a).forEach(function(l){setProp(s,l,a[l])})}var defineProperty=Object.defineProperty;function setProp(s,a,l,c){defineProperty(s,a,extend(l&&hasOwn$1(l,"get")&&typeof l.get=="function"?{get:l.get,set:l.set,configurable:!0}:{value:l,configurable:!0,writable:!0},c))}function derive(s){return{from:function(a){return s.prototype=Object.create(a.prototype),setProp(s.prototype,"constructor",s),{extend:props$1.bind(null,s.prototype)}}}}var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;function getPropertyDescriptor(s,a){var l=getOwnPropertyDescriptor(s,a),c;return l||(c=getProto(s))&&getPropertyDescriptor(c,a)}var _slice=[].slice;function slice(s,a,l){return _slice.call(s,a,l)}function override(s,a){return a(s)}function assert(s){if(!s)throw new Error("Assertion Failed")}function asap$1(s){_global.setImmediate?setImmediate(s):setTimeout(s,0)}function arrayToObject(s,a){return s.reduce(function(l,c,u){var d=a(c,u);return d&&(l[d[0]]=d[1]),l},{})}function tryCatch(s,a,l){try{s.apply(null,l)}catch(c){a&&a(c)}}function getByKeyPath(s,a){if(hasOwn$1(s,a))return s[a];if(!a)return s;if(typeof a!="string"){for(var l=[],c=0,u=a.length;c<u;++c){var d=getByKeyPath(s,a[c]);l.push(d)}return l}var f=a.indexOf(".");if(f!==-1){var m=s[a.substr(0,f)];return m===void 0?void 0:getByKeyPath(m,a.substr(f+1))}}function setByKeyPath(s,a,l){if(!(!s||a===void 0)&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof a!="string"&&"length"in a){assert(typeof l!="string"&&"length"in l);for(var c=0,u=a.length;c<u;++c)setByKeyPath(s,a[c],l[c])}else{var d=a.indexOf(".");if(d!==-1){var f=a.substr(0,d),m=a.substr(d+1);if(m==="")l===void 0?isArray$1(s)&&!isNaN(parseInt(f))?s.splice(f,1):delete s[f]:s[f]=l;else{var g=s[f];(!g||!hasOwn$1(s,f))&&(g=s[f]={}),setByKeyPath(g,m,l)}}else l===void 0?isArray$1(s)&&!isNaN(parseInt(a))?s.splice(a,1):delete s[a]:s[a]=l}}function delByKeyPath(s,a){typeof a=="string"?setByKeyPath(s,a,void 0):"length"in a&&[].map.call(a,function(l){setByKeyPath(s,l,void 0)})}function shallowClone(s){var a={};for(var l in s)hasOwn$1(s,l)&&(a[l]=s[l]);return a}var concat=[].concat;function flatten(s){return concat.apply([],s)}var intrinsicTypeNames="Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(flatten([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(a){return a+s+"Array"})}))).filter(function(s){return _global[s]}),intrinsicTypes=new Set(intrinsicTypeNames.map(function(s){return _global[s]}));function cloneSimpleObjectTree(s){var a={};for(var l in s)if(hasOwn$1(s,l)){var c=s[l];a[l]=!c||typeof c!="object"||intrinsicTypes.has(c.constructor)?c:cloneSimpleObjectTree(c)}return a}function objectIsEmpty(s){for(var a in s)if(hasOwn$1(s,a))return!1;return!0}var circularRefs=null;function deepClone(s){circularRefs=new WeakMap;var a=innerDeepClone(s);return circularRefs=null,a}function innerDeepClone(s){if(!s||typeof s!="object")return s;var a=circularRefs.get(s);if(a)return a;if(isArray$1(s)){a=[],circularRefs.set(s,a);for(var l=0,c=s.length;l<c;++l)a.push(innerDeepClone(s[l]))}else if(intrinsicTypes.has(s.constructor))a=s;else{var u=getProto(s);a=u===Object.prototype?{}:Object.create(u),circularRefs.set(s,a);for(var d in s)hasOwn$1(s,d)&&(a[d]=innerDeepClone(s[d]))}return a}var toString={}.toString;function toStringTag(s){return toString.call(s).slice(8,-1)}var iteratorSymbol=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",getIteratorOf=typeof iteratorSymbol=="symbol"?function(s){var a;return s!=null&&(a=s[iteratorSymbol])&&a.apply(s)}:function(){return null};function delArrayItem(s,a){var l=s.indexOf(a);return l>=0&&s.splice(l,1),l>=0}var NO_CHAR_ARRAY={};function getArrayOf(s){var a,l,c,u;if(arguments.length===1){if(isArray$1(s))return s.slice();if(this===NO_CHAR_ARRAY&&typeof s=="string")return[s];if(u=getIteratorOf(s)){for(l=[];c=u.next(),!c.done;)l.push(c.value);return l}if(s==null)return[s];if(a=s.length,typeof a=="number"){for(l=new Array(a);a--;)l[a]=s[a];return l}return[s]}for(a=arguments.length,l=new Array(a);a--;)l[a]=arguments[a];return l}var isAsyncFunction=typeof Symbol!="undefined"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},debug=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function setDebug(s,a){debug=s,libraryFilter=a}var libraryFilter=function(){return!0},NEEDS_THROW_FOR_STACK=!new Error("").stack;function getErrorWithStack(){if(NEEDS_THROW_FOR_STACK)try{throw getErrorWithStack.arguments,new Error}catch(s){return s}return new Error}function prettyStack(s,a){var l=s.stack;return l?(a=a||0,l.indexOf(s.name)===0&&(a+=(s.name+s.message).split(`
`).length),l.split(`
`).slice(a).filter(libraryFilter).map(function(c){return`
`+c}).join("")):""}var dexieErrorNames=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],idbDomErrorNames=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],errorList=dexieErrorNames.concat(idbDomErrorNames),defaultTexts={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function DexieError(s,a){this._e=getErrorWithStack(),this.name=s,this.message=a}derive(DexieError).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+prettyStack(this._e,2))}},toString:function(){return this.name+": "+this.message}});function getMultiErrorMessage(s,a){return s+". Errors: "+Object.keys(a).map(function(l){return a[l].toString()}).filter(function(l,c,u){return u.indexOf(l)===c}).join(`
`)}function ModifyError(s,a,l,c){this._e=getErrorWithStack(),this.failures=a,this.failedKeys=c,this.successCount=l,this.message=getMultiErrorMessage(s,a)}derive(ModifyError).from(DexieError);function BulkError(s,a){this._e=getErrorWithStack(),this.name="BulkError",this.failures=Object.keys(a).map(function(l){return a[l]}),this.failuresByPos=a,this.message=getMultiErrorMessage(s,this.failures)}derive(BulkError).from(DexieError);var errnames=errorList.reduce(function(s,a){return s[a]=a+"Error",s},{}),BaseException=DexieError,exceptions=errorList.reduce(function(s,a){var l=a+"Error";function c(u,d){this._e=getErrorWithStack(),this.name=l,u?typeof u=="string"?(this.message="".concat(u).concat(d?`
 `+d:""),this.inner=d||null):typeof u=="object"&&(this.message="".concat(u.name," ").concat(u.message),this.inner=u):(this.message=defaultTexts[a]||l,this.inner=null)}return derive(c).from(BaseException),s[a]=c,s},{});exceptions.Syntax=SyntaxError;exceptions.Type=TypeError;exceptions.Range=RangeError;var exceptionMap=idbDomErrorNames.reduce(function(s,a){return s[a+"Error"]=exceptions[a],s},{});function mapError(s,a){if(!s||s instanceof DexieError||s instanceof TypeError||s instanceof SyntaxError||!s.name||!exceptionMap[s.name])return s;var l=new exceptionMap[s.name](a||s.message,s);return"stack"in s&&setProp(l,"stack",{get:function(){return this.inner.stack}}),l}var fullNameExceptions=errorList.reduce(function(s,a){return["Syntax","Type","Range"].indexOf(a)===-1&&(s[a+"Error"]=exceptions[a]),s},{});fullNameExceptions.ModifyError=ModifyError;fullNameExceptions.DexieError=DexieError;fullNameExceptions.BulkError=BulkError;function nop(){}function mirror(s){return s}function pureFunctionChain(s,a){return s==null||s===mirror?a:function(l){return a(s(l))}}function callBoth(s,a){return function(){s.apply(this,arguments),a.apply(this,arguments)}}function hookCreatingChain(s,a){return s===nop?a:function(){var l=s.apply(this,arguments);l!==void 0&&(arguments[0]=l);var c=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var d=a.apply(this,arguments);return c&&(this.onsuccess=this.onsuccess?callBoth(c,this.onsuccess):c),u&&(this.onerror=this.onerror?callBoth(u,this.onerror):u),d!==void 0?d:l}}function hookDeletingChain(s,a){return s===nop?a:function(){s.apply(this,arguments);var l=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,a.apply(this,arguments),l&&(this.onsuccess=this.onsuccess?callBoth(l,this.onsuccess):l),c&&(this.onerror=this.onerror?callBoth(c,this.onerror):c)}}function hookUpdatingChain(s,a){return s===nop?a:function(l){var c=s.apply(this,arguments);extend(l,c);var u=this.onsuccess,d=this.onerror;this.onsuccess=null,this.onerror=null;var f=a.apply(this,arguments);return u&&(this.onsuccess=this.onsuccess?callBoth(u,this.onsuccess):u),d&&(this.onerror=this.onerror?callBoth(d,this.onerror):d),c===void 0?f===void 0?void 0:f:extend(c,f)}}function reverseStoppableEventChain(s,a){return s===nop?a:function(){return a.apply(this,arguments)===!1?!1:s.apply(this,arguments)}}function promisableChain(s,a){return s===nop?a:function(){var l=s.apply(this,arguments);if(l&&typeof l.then=="function"){for(var c=this,u=arguments.length,d=new Array(u);u--;)d[u]=arguments[u];return l.then(function(){return a.apply(c,d)})}return a.apply(this,arguments)}}var INTERNAL={},LONG_STACKS_CLIP_LIMIT=100,MAX_LONG_STACKS=20,ZONE_ECHO_LIMIT=100,_a$1=typeof Promise=="undefined"?[]:function(){var s=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[s,getProto(s),s];var a=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[a,getProto(a),s]}(),resolvedNativePromise=_a$1[0],nativePromiseProto=_a$1[1],resolvedGlobalPromise=_a$1[2],nativePromiseThen=nativePromiseProto&&nativePromiseProto.then,NativePromise=resolvedNativePromise&&resolvedNativePromise.constructor,patchGlobalPromise=!!resolvedGlobalPromise,stack_being_generated=!1;function schedulePhysicalTick(){queueMicrotask(physicalTick)}var asap=function(s,a){microtickQueue.push([s,a]),needsNewPhysicalTick&&(schedulePhysicalTick(),needsNewPhysicalTick=!1)},isOutsideMicroTick=!0,needsNewPhysicalTick=!0,unhandledErrors=[],rejectingErrors=[],currentFulfiller=null,rejectionMapper=mirror,globalPSD={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:nop,pgp:!1,env:{},finalize:nop},PSD=globalPSD,microtickQueue=[],numScheduledCalls=0,tickFinalizers=[];function DexiePromise(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var a=this._PSD=PSD;if(debug&&(this._stackHolder=getErrorWithStack(),this._prev=null,this._numPrev=0),typeof s!="function"){if(s!==INTERNAL)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&handleRejection(this,this._value);return}this._state=null,this._value=null,++a.ref,executePromiseTask(this,s)}var thenProp={get:function(){var s=PSD,a=totalEchoes;function l(c,u){var d=this,f=!s.global&&(s!==PSD||a!==totalEchoes),m=f&&!decrementExpectedAwaits(),g=new DexiePromise(function(v,y){propagateToListener(d,new Listener(nativeAwaitCompatibleWrap(c,s,f,m),nativeAwaitCompatibleWrap(u,s,f,m),v,y,s))});return debug&&linkToPreviousPromise(g,this),g}return l.prototype=INTERNAL,l},set:function(s){setProp(this,"then",s&&s.prototype===INTERNAL?thenProp:{get:function(){return s},set:thenProp.set})}};props$1(DexiePromise.prototype,{then:thenProp,_then:function(s,a){propagateToListener(this,new Listener(null,null,s,a,PSD))},catch:function(s){if(arguments.length===1)return this.then(null,s);var a=arguments[0],l=arguments[1];return typeof a=="function"?this.then(null,function(c){return c instanceof a?l(c):PromiseReject(c)}):this.then(null,function(c){return c&&c.name===a?l(c):PromiseReject(c)})},finally:function(s){return this.then(function(a){return s(),a},function(a){return s(),PromiseReject(a)})},stack:{get:function(){if(this._stack)return this._stack;try{stack_being_generated=!0;var s=getStack(this,[],MAX_LONG_STACKS),a=s.join(`
From previous: `);return this._state!==null&&(this._stack=a),a}finally{stack_being_generated=!1}}},timeout:function(s,a){var l=this;return s<1/0?new DexiePromise(function(c,u){var d=setTimeout(function(){return u(new exceptions.Timeout(a))},s);l.then(c,u).finally(clearTimeout.bind(null,d))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&setProp(DexiePromise.prototype,Symbol.toStringTag,"Dexie.Promise");globalPSD.env=snapShot();function Listener(s,a,l,c,u){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof a=="function"?a:null,this.resolve=l,this.reject=c,this.psd=u}props$1(DexiePromise,{all:function(){var s=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(function(a,l){s.length===0&&a([]);var c=s.length;s.forEach(function(u,d){return DexiePromise.resolve(u).then(function(f){s[d]=f,--c||a(s)},l)})})},resolve:function(s){if(s instanceof DexiePromise)return s;if(s&&typeof s.then=="function")return new DexiePromise(function(l,c){s.then(l,c)});var a=new DexiePromise(INTERNAL,!0,s);return linkToPreviousPromise(a,currentFulfiller),a},reject:PromiseReject,race:function(){var s=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(function(a,l){s.map(function(c){return DexiePromise.resolve(c).then(a,l)})})},PSD:{get:function(){return PSD},set:function(s){return PSD=s}},totalEchoes:{get:function(){return totalEchoes}},newPSD:newScope,usePSD,scheduler:{get:function(){return asap},set:function(s){asap=s}},rejectionMapper:{get:function(){return rejectionMapper},set:function(s){rejectionMapper=s}},follow:function(s,a){return new DexiePromise(function(l,c){return newScope(function(u,d){var f=PSD;f.unhandleds=[],f.onunhandled=d,f.finalize=callBoth(function(){var m=this;run_at_end_of_this_or_next_physical_tick(function(){m.unhandleds.length===0?u():d(m.unhandleds[0])})},f.finalize),s()},a,l,c)})}});NativePromise&&(NativePromise.allSettled&&setProp(DexiePromise,"allSettled",function(){var s=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(function(a){s.length===0&&a([]);var l=s.length,c=new Array(l);s.forEach(function(u,d){return DexiePromise.resolve(u).then(function(f){return c[d]={status:"fulfilled",value:f}},function(f){return c[d]={status:"rejected",reason:f}}).then(function(){return--l||a(c)})})})}),NativePromise.any&&typeof AggregateError!="undefined"&&setProp(DexiePromise,"any",function(){var s=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(function(a,l){s.length===0&&l(new AggregateError([]));var c=s.length,u=new Array(c);s.forEach(function(d,f){return DexiePromise.resolve(d).then(function(m){return a(m)},function(m){u[f]=m,--c||l(new AggregateError(u))})})})}));function executePromiseTask(s,a){try{a(function(l){if(s._state===null){if(l===s)throw new TypeError("A promise cannot be resolved with itself.");var c=s._lib&&beginMicroTickScope();l&&typeof l.then=="function"?executePromiseTask(s,function(u,d){l instanceof DexiePromise?l._then(u,d):l.then(u,d)}):(s._state=!0,s._value=l,propagateAllListeners(s)),c&&endMicroTickScope()}},handleRejection.bind(null,s))}catch(l){handleRejection(s,l)}}function handleRejection(s,a){if(rejectingErrors.push(a),s._state===null){var l=s._lib&&beginMicroTickScope();a=rejectionMapper(a),s._state=!1,s._value=a,debug&&a!==null&&typeof a=="object"&&!a._promise&&tryCatch(function(){var c=getPropertyDescriptor(a,"stack");a._promise=s,setProp(a,"stack",{get:function(){return stack_being_generated?c&&(c.get?c.get.apply(a):c.value):s.stack}})}),addPossiblyUnhandledError(s),propagateAllListeners(s),l&&endMicroTickScope()}}function propagateAllListeners(s){var a=s._listeners;s._listeners=[];for(var l=0,c=a.length;l<c;++l)propagateToListener(s,a[l]);var u=s._PSD;--u.ref||u.finalize(),numScheduledCalls===0&&(++numScheduledCalls,asap(function(){--numScheduledCalls===0&&finalizePhysicalTick()},[]))}function propagateToListener(s,a){if(s._state===null){s._listeners.push(a);return}var l=s._state?a.onFulfilled:a.onRejected;if(l===null)return(s._state?a.resolve:a.reject)(s._value);++a.psd.ref,++numScheduledCalls,asap(callListener,[l,s,a])}function callListener(s,a,l){try{currentFulfiller=a;var c,u=a._value;a._state?c=s(u):(rejectingErrors.length&&(rejectingErrors=[]),c=s(u),rejectingErrors.indexOf(u)===-1&&markErrorAsHandled(a)),l.resolve(c)}catch(d){l.reject(d)}finally{currentFulfiller=null,--numScheduledCalls===0&&finalizePhysicalTick(),--l.psd.ref||l.psd.finalize()}}function getStack(s,a,l){if(a.length===l)return a;var c="";if(s._state===!1){var u=s._value,d,f;u!=null?(d=u.name||"Error",f=u.message||u,c=prettyStack(u,0)):(d=u,f=""),a.push(d+(f?": "+f:"")+c)}return debug&&(c=prettyStack(s._stackHolder,2),c&&a.indexOf(c)===-1&&a.push(c),s._prev&&getStack(s._prev,a,l)),a}function linkToPreviousPromise(s,a){var l=a?a._numPrev+1:0;l<LONG_STACKS_CLIP_LIMIT&&(s._prev=a,s._numPrev=l)}function physicalTick(){usePSD(globalPSD,function(){beginMicroTickScope()&&endMicroTickScope()})}function beginMicroTickScope(){var s=isOutsideMicroTick;return isOutsideMicroTick=!1,needsNewPhysicalTick=!1,s}function endMicroTickScope(){var s,a,l;do for(;microtickQueue.length>0;)for(s=microtickQueue,microtickQueue=[],l=s.length,a=0;a<l;++a){var c=s[a];c[0].apply(null,c[1])}while(microtickQueue.length>0);isOutsideMicroTick=!0,needsNewPhysicalTick=!0}function finalizePhysicalTick(){var s=unhandledErrors;unhandledErrors=[],s.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)});for(var a=tickFinalizers.slice(0),l=a.length;l;)a[--l]()}function run_at_end_of_this_or_next_physical_tick(s){function a(){s(),tickFinalizers.splice(tickFinalizers.indexOf(a),1)}tickFinalizers.push(a),++numScheduledCalls,asap(function(){--numScheduledCalls===0&&finalizePhysicalTick()},[])}function addPossiblyUnhandledError(s){unhandledErrors.some(function(a){return a._value===s._value})||unhandledErrors.push(s)}function markErrorAsHandled(s){for(var a=unhandledErrors.length;a;)if(unhandledErrors[--a]._value===s._value){unhandledErrors.splice(a,1);return}}function PromiseReject(s){return new DexiePromise(INTERNAL,!1,s)}function wrap(s,a){var l=PSD;return function(){var c=beginMicroTickScope(),u=PSD;try{return switchToZone(l,!0),s.apply(this,arguments)}catch(d){a&&a(d)}finally{switchToZone(u,!1),c&&endMicroTickScope()}}}var task={awaits:0,echoes:0,id:0},taskCounter=0,zoneStack=[],zoneEchoes=0,totalEchoes=0,zone_id_counter=0;function newScope(s,a,l,c){var u=PSD,d=Object.create(u);d.parent=u,d.ref=0,d.global=!1,d.id=++zone_id_counter;var f=globalPSD.env;d.env=patchGlobalPromise?{Promise:DexiePromise,PromiseProp:{value:DexiePromise,configurable:!0,writable:!0},all:DexiePromise.all,race:DexiePromise.race,allSettled:DexiePromise.allSettled,any:DexiePromise.any,resolve:DexiePromise.resolve,reject:DexiePromise.reject,nthen:getPatchedPromiseThen(f.nthen,d),gthen:getPatchedPromiseThen(f.gthen,d)}:{},a&&extend(d,a),++u.ref,d.finalize=function(){--this.parent.ref||this.parent.finalize()};var m=usePSD(d,s,l,c);return d.ref===0&&d.finalize(),m}function incrementExpectedAwaits(){return task.id||(task.id=++taskCounter),++task.awaits,task.echoes+=ZONE_ECHO_LIMIT,task.id}function decrementExpectedAwaits(){return task.awaits?(--task.awaits===0&&(task.id=0),task.echoes=task.awaits*ZONE_ECHO_LIMIT,!0):!1}(""+nativePromiseThen).indexOf("[native code]")===-1&&(incrementExpectedAwaits=decrementExpectedAwaits=nop);function onPossibleParallellAsync(s){return task.echoes&&s&&s.constructor===NativePromise?(incrementExpectedAwaits(),s.then(function(a){return decrementExpectedAwaits(),a},function(a){return decrementExpectedAwaits(),rejection(a)})):s}function zoneEnterEcho(s){++totalEchoes,(!task.echoes||--task.echoes===0)&&(task.echoes=task.id=0),zoneStack.push(PSD),switchToZone(s,!0)}function zoneLeaveEcho(){var s=zoneStack[zoneStack.length-1];zoneStack.pop(),switchToZone(s,!1)}function switchToZone(s,a){var l=PSD;if((a?task.echoes&&(!zoneEchoes++||s!==PSD):zoneEchoes&&(!--zoneEchoes||s!==PSD))&&queueMicrotask(a?zoneEnterEcho.bind(null,s):zoneLeaveEcho),s!==PSD&&(PSD=s,l===globalPSD&&(globalPSD.env=snapShot()),patchGlobalPromise)){var c=globalPSD.env.Promise,u=s.env;nativePromiseProto.then=u.nthen,c.prototype.then=u.gthen,(l.global||s.global)&&(Object.defineProperty(_global,"Promise",u.PromiseProp),c.all=u.all,c.race=u.race,c.resolve=u.resolve,c.reject=u.reject,u.allSettled&&(c.allSettled=u.allSettled),u.any&&(c.any=u.any))}}function snapShot(){var s=_global.Promise;return patchGlobalPromise?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(_global,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject,nthen:nativePromiseProto.then,gthen:s.prototype.then}:{}}function usePSD(s,a,l,c,u){var d=PSD;try{return switchToZone(s,!0),a(l,c,u)}finally{switchToZone(d,!1)}}function nativeAwaitCompatibleWrap(s,a,l,c){return typeof s!="function"?s:function(){var u=PSD;l&&incrementExpectedAwaits(),switchToZone(a,!0);try{return s.apply(this,arguments)}finally{switchToZone(u,!1),c&&queueMicrotask(decrementExpectedAwaits)}}}function getPatchedPromiseThen(s,a){return function(l,c){return s.call(this,nativeAwaitCompatibleWrap(l,a),nativeAwaitCompatibleWrap(c,a))}}var rejection=DexiePromise.reject;function tempTransaction(s,a,l,c){if(!s.idbdb||!s._state.openComplete&&!PSD.letThrough&&!s._vip){if(s._state.openComplete)return rejection(new exceptions.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._options.autoOpen)return rejection(new exceptions.DatabaseClosed);s.open().catch(nop)}return s._state.dbReadyPromise.then(function(){return tempTransaction(s,a,l,c)})}else{var u=s._createTransaction(a,l,s._dbSchema);try{u.create(),s._state.PR1398_maxLoop=3}catch(d){return d.name===errnames.InvalidState&&s.isOpen()&&--s._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),s._close(),s.open().then(function(){return tempTransaction(s,a,l,c)})):rejection(d)}return u._promise(a,function(d,f){return newScope(function(){return PSD.trans=u,c(d,f,u)})}).then(function(d){if(a==="readwrite")try{u.idbtrans.commit()}catch{}return a==="readonly"?d:u._completion.then(function(){return d})})}}var DEXIE_VERSION="4.0.1-alpha.25",maxString=String.fromCharCode(65535),minKey=-1/0,INVALID_KEY_ARGUMENT="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",STRING_EXPECTED="String expected.",connections=[],isIEOrEdge=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),hasIEDeleteObjectStoreBug=isIEOrEdge,hangsOnDeleteLargeKeyRange=isIEOrEdge,dexieStackFrameFilter=function(s){return!/(dexie\.js|dexie\.min\.js)/.test(s)},DBNAMES_DB="__dbnames",READONLY="readonly",READWRITE="readwrite";function combine(s,a){return s?a?function(){return s.apply(this,arguments)&&a.apply(this,arguments)}:s:a}var AnyRange={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function workaroundForUndefinedPrimKey(s){return typeof s=="string"&&!/\./.test(s)?function(a){return a[s]===void 0&&s in a&&(a=deepClone(a),delete a[s]),a}:function(a){return a}}function Entity(){throw exceptions.Type()}function cmp(s,a){try{var l=type(s),c=type(a);if(l!==c)return l==="Array"?1:c==="Array"?-1:l==="binary"?1:c==="binary"?-1:l==="string"?1:c==="string"?-1:l==="Date"?1:c!=="Date"?NaN:-1;switch(l){case"number":case"Date":case"string":return s>a?1:s<a?-1:0;case"binary":return compareUint8Arrays(getUint8Array(s),getUint8Array(a));case"Array":return compareArrays(s,a)}}catch{}return NaN}function compareArrays(s,a){for(var l=s.length,c=a.length,u=l<c?l:c,d=0;d<u;++d){var f=cmp(s[d],a[d]);if(f!==0)return f}return l===c?0:l<c?-1:1}function compareUint8Arrays(s,a){for(var l=s.length,c=a.length,u=l<c?l:c,d=0;d<u;++d)if(s[d]!==a[d])return s[d]<a[d]?-1:1;return l===c?0:l<c?-1:1}function type(s){var a=typeof s;if(a!=="object")return a;if(ArrayBuffer.isView(s))return"binary";var l=toStringTag(s);return l==="ArrayBuffer"?"binary":l}function getUint8Array(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}var Table=function(){function s(){}return s.prototype._trans=function(a,l,c){var u=this._tx||PSD.trans,d=this.name;function f(g,v,y){if(!y.schema[d])throw new exceptions.NotFound("Table "+d+" not part of transaction");return l(y.idbtrans,y)}var m=beginMicroTickScope();try{return u&&u.db===this.db?u===PSD.trans?u._promise(a,f,c):newScope(function(){return u._promise(a,f,c)},{trans:u,transless:PSD.transless||PSD}):tempTransaction(this.db,a,[this.name],f)}finally{m&&endMicroTickScope()}},s.prototype.get=function(a,l){var c=this;return a&&a.constructor===Object?this.where(a).first(l):this._trans("readonly",function(u){return c.core.get({trans:u,key:a}).then(function(d){return c.hook.reading.fire(d)})}).then(l)},s.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(isArray$1(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var l=keys(a);if(l.length===1)return this.where(l[0]).equals(a[l[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&l.every(function(T){return b.keyPath.indexOf(T)>=0})){for(var _=0;_<l.length;++_)if(l.indexOf(b.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(b,_){return b.keyPath.length-_.keyPath.length})[0];if(c&&this.db._maxKey!==maxString){var u=c.keyPath.slice(0,l.length);return this.where(u).equals(u.map(function(b){return a[b]}))}!c&&debug&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit of a ")+"compound index [".concat(l.join("+"),"]"));var d=this.schema.idxByName,f=this.db._deps.indexedDB;function m(b,_){return f.cmp(b,_)===0}var g=l.reduce(function(b,_){var T=b[0],E=b[1],P=d[_],C=a[_];return[T||P,T||!P?combine(E,P&&P.multi?function(S){var N=getByKeyPath(S,_);return isArray$1(N)&&N.some(function(O){return m(C,O)})}:function(S){return m(C,getByKeyPath(S,_))}):E]},[null,null]),v=g[0],y=g[1];return v?this.where(v.name).equals(a[v.keyPath]).filter(y):c?this.filter(y):this.where(l).equals("")},s.prototype.filter=function(a){return this.toCollection().and(a)},s.prototype.count=function(a){return this.toCollection().count(a)},s.prototype.offset=function(a){return this.toCollection().offset(a)},s.prototype.limit=function(a){return this.toCollection().limit(a)},s.prototype.each=function(a){return this.toCollection().each(a)},s.prototype.toArray=function(a){return this.toCollection().toArray(a)},s.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},s.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,isArray$1(a)?"[".concat(a.join("+"),"]"):a))},s.prototype.reverse=function(){return this.toCollection().reverse()},s.prototype.mapToClass=function(a){var l=this,c=l.db,u=l.name;this.schema.mappedClass=a,a.prototype instanceof Entity&&(a=function(g){__extends(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return Object.defineProperty(v.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),v.prototype.table=function(){return u},v}(a));for(var d=new Set,f=a.prototype;f;f=getProto(f))Object.getOwnPropertyNames(f).forEach(function(g){return d.add(g)});var m=function(g){if(!g)return g;var v=Object.create(a.prototype);for(var y in g)if(!d.has(y))try{v[y]=g[y]}catch{}return v};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=m,this.hook("reading",m),a},s.prototype.defineClass=function(){function a(l){extend(this,l)}return this.mapToClass(a)},s.prototype.add=function(a,l){var c=this,u=this.schema.primKey,d=u.auto,f=u.keyPath,m=a;return f&&d&&(m=workaroundForUndefinedPrimKey(f)(a)),this._trans("readwrite",function(g){return c.core.mutate({trans:g,type:"add",keys:l!=null?[l]:null,values:[m]})}).then(function(g){return g.numFailures?DexiePromise.reject(g.failures[0]):g.lastResult}).then(function(g){if(f)try{setByKeyPath(a,f,g)}catch{}return g})},s.prototype.update=function(a,l){if(typeof a=="object"&&!isArray$1(a)){var c=getByKeyPath(a,this.schema.primKey.keyPath);return c===void 0?rejection(new exceptions.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(l)}else return this.where(":id").equals(a).modify(l)},s.prototype.put=function(a,l){var c=this,u=this.schema.primKey,d=u.auto,f=u.keyPath,m=a;return f&&d&&(m=workaroundForUndefinedPrimKey(f)(a)),this._trans("readwrite",function(g){return c.core.mutate({trans:g,type:"put",values:[m],keys:l!=null?[l]:null})}).then(function(g){return g.numFailures?DexiePromise.reject(g.failures[0]):g.lastResult}).then(function(g){if(f)try{setByKeyPath(a,f,g)}catch{}return g})},s.prototype.delete=function(a){var l=this;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"delete",keys:[a]})}).then(function(c){return c.numFailures?DexiePromise.reject(c.failures[0]):void 0})},s.prototype.clear=function(){var a=this;return this._trans("readwrite",function(l){return a.core.mutate({trans:l,type:"deleteRange",range:AnyRange})}).then(function(l){return l.numFailures?DexiePromise.reject(l.failures[0]):void 0})},s.prototype.bulkGet=function(a){var l=this;return this._trans("readonly",function(c){return l.core.getMany({keys:a,trans:c}).then(function(u){return u.map(function(d){return l.hook.reading.fire(d)})})})},s.prototype.bulkAdd=function(a,l,c){var u=this,d=Array.isArray(l)?l:void 0;c=c||(d?void 0:l);var f=c?c.allKeys:void 0;return this._trans("readwrite",function(m){var g=u.schema.primKey,v=g.auto,y=g.keyPath;if(y&&d)throw new exceptions.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(d&&d.length!==a.length)throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");var b=a.length,_=y&&v?a.map(workaroundForUndefinedPrimKey(y)):a;return u.core.mutate({trans:m,type:"add",keys:d,values:_,wantResults:f}).then(function(T){var E=T.numFailures,P=T.results,C=T.lastResult,S=T.failures,N=f?P:C;if(E===0)return N;throw new BulkError("".concat(u.name,".bulkAdd(): ").concat(E," of ").concat(b," operations failed"),S)})})},s.prototype.bulkPut=function(a,l,c){var u=this,d=Array.isArray(l)?l:void 0;c=c||(d?void 0:l);var f=c?c.allKeys:void 0;return this._trans("readwrite",function(m){var g=u.schema.primKey,v=g.auto,y=g.keyPath;if(y&&d)throw new exceptions.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(d&&d.length!==a.length)throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");var b=a.length,_=y&&v?a.map(workaroundForUndefinedPrimKey(y)):a;return u.core.mutate({trans:m,type:"put",keys:d,values:_,wantResults:f}).then(function(T){var E=T.numFailures,P=T.results,C=T.lastResult,S=T.failures,N=f?P:C;if(E===0)return N;throw new BulkError("".concat(u.name,".bulkPut(): ").concat(E," of ").concat(b," operations failed"),S)})})},s.prototype.bulkUpdate=function(a){var l=this,c=this.core,u=a.map(function(m){return m.key}),d=a.map(function(m){return m.changes}),f=[];return this._trans("readwrite",function(m){return c.getMany({trans:m,keys:u,cache:"clone"}).then(function(g){var v=[],y=[];a.forEach(function(_,T){var E=_.key,P=_.changes,C=g[T];if(C){for(var S=0,N=Object.keys(P);S<N.length;S++){var O=N[S],x=P[O];if(O===l.schema.primKey.keyPath){if(cmp(x,E)!==0)throw new exceptions.Constraint("Cannot update primary key in bulkUpdate()")}else setByKeyPath(C,O,x)}f.push(T),v.push(E),y.push(C)}});var b=v.length;return c.mutate({trans:m,type:"put",keys:v,values:y,updates:{keys:u,changeSpecs:d}}).then(function(_){var T=_.numFailures,E=_.failures;if(T===0)return b;for(var P=0,C=Object.keys(E);P<C.length;P++){var S=C[P],N=f[Number(S)];if(N!=null){var O=E[S];delete E[S],E[N]=O}}throw new BulkError("".concat(l.name,".bulkUpdate(): ").concat(T," of ").concat(b," operations failed"),E)})})})},s.prototype.bulkDelete=function(a){var l=this,c=a.length;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"delete",keys:a})}).then(function(u){var d=u.numFailures,f=u.lastResult,m=u.failures;if(d===0)return f;throw new BulkError("".concat(l.name,".bulkDelete(): ").concat(d," of ").concat(c," operations failed"),m)})},s}();function Events(s){var a={},l=function(m,g){if(g){for(var v=arguments.length,y=new Array(v-1);--v;)y[v-1]=arguments[v];return a[m].subscribe.apply(null,y),s}else if(typeof m=="string")return a[m]};l.addEventType=d;for(var c=1,u=arguments.length;c<u;++c)d(arguments[c]);return l;function d(m,g,v){if(typeof m=="object")return f(m);g||(g=reverseStoppableEventChain),v||(v=nop);var y={subscribers:[],fire:v,subscribe:function(b){y.subscribers.indexOf(b)===-1&&(y.subscribers.push(b),y.fire=g(y.fire,b))},unsubscribe:function(b){y.subscribers=y.subscribers.filter(function(_){return _!==b}),y.fire=y.subscribers.reduce(g,v)}};return a[m]=l[m]=y,y}function f(m){keys(m).forEach(function(g){var v=m[g];if(isArray$1(v))d(g,m[g][0],m[g][1]);else if(v==="asap")var y=d(g,mirror,function(){for(var _=arguments.length,T=new Array(_);_--;)T[_]=arguments[_];y.subscribers.forEach(function(E){asap$1(function(){E.apply(null,T)})})});else throw new exceptions.InvalidArgument("Invalid event config")})}}function makeClassConstructor(s,a){return derive(a).from({prototype:s}),a}function createTableConstructor(s){return makeClassConstructor(Table.prototype,function(l,c,u){this.db=s,this._tx=u,this.name=l,this.schema=c,this.hook=s._allTables[l]?s._allTables[l].hook:Events(null,{creating:[hookCreatingChain,nop],reading:[pureFunctionChain,mirror],updating:[hookUpdatingChain,nop],deleting:[hookDeletingChain,nop]})})}function isPlainKeyRange(s,a){return!(s.filter||s.algorithm||s.or)&&(a?s.justLimit:!s.replayFilter)}function addFilter(s,a){s.filter=combine(s.filter,a)}function addReplayFilter(s,a,l){var c=s.replayFilter;s.replayFilter=c?function(){return combine(c(),a())}:a,s.justLimit=l&&!c}function addMatchFilter(s,a){s.isMatch=combine(s.isMatch,a)}function getIndexOrStore(s,a){if(s.isPrimKey)return a.primaryKey;var l=a.getIndexByKeyPath(s.index);if(!l)throw new exceptions.Schema("KeyPath "+s.index+" on object store "+a.name+" is not indexed");return l}function openCursor(s,a,l){var c=getIndexOrStore(s,a.schema);return a.openCursor({trans:l,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:c,range:s.range}})}function iter(s,a,l,c){var u=s.replayFilter?combine(s.filter,s.replayFilter()):s.filter;if(s.or){var d={},f=function(m,g,v){if(!u||u(g,v,function(_){return g.stop(_)},function(_){return g.fail(_)})){var y=g.primaryKey,b=""+y;b==="[object ArrayBuffer]"&&(b=""+new Uint8Array(y)),hasOwn$1(d,b)||(d[b]=!0,a(m,g,v))}};return Promise.all([s.or._iterate(f,l),iterate(openCursor(s,c,l),s.algorithm,f,!s.keysOnly&&s.valueMapper)])}else return iterate(openCursor(s,c,l),combine(s.algorithm,u),a,!s.keysOnly&&s.valueMapper)}function iterate(s,a,l,c){var u=c?function(f,m,g){return l(c(f),m,g)}:l,d=wrap(u);return s.then(function(f){if(f)return f.start(function(){var m=function(){return f.continue()};(!a||a(f,function(g){return m=g},function(g){f.stop(g),m=nop},function(g){f.fail(g),m=nop}))&&d(f.value,f,function(g){return m=g}),m()})})}var Collection=function(){function s(){}return s.prototype._read=function(a,l){var c=this._ctx;return c.error?c.table._trans(null,rejection.bind(null,c.error)):c.table._trans("readonly",a).then(l)},s.prototype._write=function(a){var l=this._ctx;return l.error?l.table._trans(null,rejection.bind(null,l.error)):l.table._trans("readwrite",a,"locked")},s.prototype._addAlgorithm=function(a){var l=this._ctx;l.algorithm=combine(l.algorithm,a)},s.prototype._iterate=function(a,l){return iter(this._ctx,a,l,this._ctx.table.core)},s.prototype.clone=function(a){var l=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return a&&extend(c,a),l._ctx=c,l},s.prototype.raw=function(){return this._ctx.valueMapper=null,this},s.prototype.each=function(a){var l=this._ctx;return this._read(function(c){return iter(l,a,c,l.table.core)})},s.prototype.count=function(a){var l=this;return this._read(function(c){var u=l._ctx,d=u.table.core;if(isPlainKeyRange(u,!0))return d.count({trans:c,query:{index:getIndexOrStore(u,d.schema),range:u.range}}).then(function(m){return Math.min(m,u.limit)});var f=0;return iter(u,function(){return++f,!1},c,d).then(function(){return f})}).then(a)},s.prototype.sortBy=function(a,l){var c=a.split(".").reverse(),u=c[0],d=c.length-1;function f(v,y){return y?f(v[c[y]],y-1):v[u]}var m=this._ctx.dir==="next"?1:-1;function g(v,y){var b=f(v,d),_=f(y,d);return b<_?-m:b>_?m:0}return this.toArray(function(v){return v.sort(g)}).then(l)},s.prototype.toArray=function(a){var l=this;return this._read(function(c){var u=l._ctx;if(u.dir==="next"&&isPlainKeyRange(u,!0)&&u.limit>0){var d=u.valueMapper,f=getIndexOrStore(u,u.table.core.schema);return u.table.core.query({trans:c,limit:u.limit,values:!0,query:{index:f,range:u.range}}).then(function(g){var v=g.result;return d?v.map(d):v})}else{var m=[];return iter(u,function(g){return m.push(g)},c,u.table.core).then(function(){return m})}},a)},s.prototype.offset=function(a){var l=this._ctx;return a<=0?this:(l.offset+=a,isPlainKeyRange(l)?addReplayFilter(l,function(){var c=a;return function(u,d){return c===0?!0:c===1?(--c,!1):(d(function(){u.advance(c),c=0}),!1)}}):addReplayFilter(l,function(){var c=a;return function(){return--c<0}}),this)},s.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),addReplayFilter(this._ctx,function(){var l=a;return function(c,u,d){return--l<=0&&u(d),l>=0}},!0),this},s.prototype.until=function(a,l){return addFilter(this._ctx,function(c,u,d){return a(c.value)?(u(d),l):!0}),this},s.prototype.first=function(a){return this.limit(1).toArray(function(l){return l[0]}).then(a)},s.prototype.last=function(a){return this.reverse().first(a)},s.prototype.filter=function(a){return addFilter(this._ctx,function(l){return a(l.value)}),addMatchFilter(this._ctx,a),this},s.prototype.and=function(a){return this.filter(a)},s.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},s.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},s.prototype.desc=function(){return this.reverse()},s.prototype.eachKey=function(a){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,u){a(u.key,u)})},s.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},s.prototype.eachPrimaryKey=function(a){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,u){a(u.primaryKey,u)})},s.prototype.keys=function(a){var l=this._ctx;l.keysOnly=!l.isMatch;var c=[];return this.each(function(u,d){c.push(d.key)}).then(function(){return c}).then(a)},s.prototype.primaryKeys=function(a){var l=this._ctx;if(l.dir==="next"&&isPlainKeyRange(l,!0)&&l.limit>0)return this._read(function(u){var d=getIndexOrStore(l,l.table.core.schema);return l.table.core.query({trans:u,values:!1,limit:l.limit,query:{index:d,range:l.range}})}).then(function(u){var d=u.result;return d}).then(a);l.keysOnly=!l.isMatch;var c=[];return this.each(function(u,d){c.push(d.primaryKey)}).then(function(){return c}).then(a)},s.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},s.prototype.firstKey=function(a){return this.limit(1).keys(function(l){return l[0]}).then(a)},s.prototype.lastKey=function(a){return this.reverse().firstKey(a)},s.prototype.distinct=function(){var a=this._ctx,l=a.index&&a.table.schema.idxByName[a.index];if(!l||!l.multi)return this;var c={};return addFilter(this._ctx,function(u){var d=u.primaryKey.toString(),f=hasOwn$1(c,d);return c[d]=!0,!f}),this},s.prototype.modify=function(a){var l=this,c=this._ctx;return this._write(function(u){var d;if(typeof a=="function")d=a;else{var f=keys(a),m=f.length;d=function(S){for(var N=!1,O=0;O<m;++O){var x=f[O],A=a[x];getByKeyPath(S,x)!==A&&(setByKeyPath(S,x,A),N=!0)}return N}}var g=c.table.core,v=g.schema.primaryKey,y=v.outbound,b=v.extractKey,_=l.db._options.modifyChunkSize||200,T=[],E=0,P=[],C=function(S,N){var O=N.failures,x=N.numFailures;E+=S-x;for(var A=0,L=keys(O);A<L.length;A++){var $=L[A];T.push(O[$])}};return l.clone().primaryKeys().then(function(S){var N=function(O){var x=Math.min(_,S.length-O);return g.getMany({trans:u,keys:S.slice(O,O+x),cache:"immutable"}).then(function(A){for(var L=[],$=[],B=y?[]:null,M=[],K=0;K<x;++K){var Y=A[K],U={value:deepClone(Y),primKey:S[O+K]};d.call(U,U.value,U)!==!1&&(U.value==null?M.push(S[O+K]):!y&&cmp(b(Y),b(U.value))!==0?(M.push(S[O+K]),L.push(U.value)):($.push(U.value),y&&B.push(S[O+K])))}var Z=isPlainKeyRange(c)&&c.limit===1/0&&(typeof a!="function"||a===deleteCallback)&&{index:c.index,range:c.range};return Promise.resolve(L.length>0&&g.mutate({trans:u,type:"add",values:L}).then(function(q){for(var Q in q.failures)M.splice(parseInt(Q),1);C(L.length,q)})).then(function(){return($.length>0||Z&&typeof a=="object")&&g.mutate({trans:u,type:"put",keys:B,values:$,criteria:Z,changeSpec:typeof a!="function"&&a}).then(function(q){return C($.length,q)})}).then(function(){return(M.length>0||Z&&a===deleteCallback)&&g.mutate({trans:u,type:"delete",keys:M,criteria:Z}).then(function(q){return C(M.length,q)})}).then(function(){return S.length>O+x&&N(O+_)})})};return N(0).then(function(){if(T.length>0)throw new ModifyError("Error modifying one or more objects",T,E,P);return S.length})})})},s.prototype.delete=function(){var a=this._ctx,l=a.range;return isPlainKeyRange(a)&&(a.isPrimKey&&!hangsOnDeleteLargeKeyRange||l.type===3)?this._write(function(c){var u=a.table.core.schema.primaryKey,d=l;return a.table.core.count({trans:c,query:{index:u,range:d}}).then(function(f){return a.table.core.mutate({trans:c,type:"deleteRange",range:d}).then(function(m){var g=m.failures;m.lastResult,m.results;var v=m.numFailures;if(v)throw new ModifyError("Could not delete some values",Object.keys(g).map(function(y){return g[y]}),f-v);return f-v})})}):this.modify(deleteCallback)},s}(),deleteCallback=function(s,a){return a.value=null};function createCollectionConstructor(s){return makeClassConstructor(Collection.prototype,function(l,c){this.db=s;var u=AnyRange,d=null;if(c)try{u=c()}catch(v){d=v}var f=l._ctx,m=f.table,g=m.hook.reading.fire;this._ctx={table:m,index:f.index,isPrimKey:!f.index||m.schema.primKey.keyPath&&f.index===m.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:d,or:f.or,valueMapper:g!==mirror?g:null}})}function simpleCompare(s,a){return s<a?-1:s===a?0:1}function simpleCompareReverse(s,a){return s>a?-1:s===a?0:1}function fail(s,a,l){var c=s instanceof WhereClause?new s.Collection(s):s;return c._ctx.error=l?new l(a):new TypeError(a),c}function emptyCollection(s){return new s.Collection(s,function(){return rangeEqual("")}).limit(0)}function upperFactory(s){return s==="next"?function(a){return a.toUpperCase()}:function(a){return a.toLowerCase()}}function lowerFactory(s){return s==="next"?function(a){return a.toLowerCase()}:function(a){return a.toUpperCase()}}function nextCasing(s,a,l,c,u,d){for(var f=Math.min(s.length,c.length),m=-1,g=0;g<f;++g){var v=a[g];if(v!==c[g])return u(s[g],l[g])<0?s.substr(0,g)+l[g]+l.substr(g+1):u(s[g],c[g])<0?s.substr(0,g)+c[g]+l.substr(g+1):m>=0?s.substr(0,m)+a[m]+l.substr(m+1):null;u(s[g],v)<0&&(m=g)}return f<c.length&&d==="next"?s+l.substr(s.length):f<s.length&&d==="prev"?s.substr(0,l.length):m<0?null:s.substr(0,m)+c[m]+l.substr(m+1)}function addIgnoreCaseAlgorithm(s,a,l,c){var u,d,f,m,g,v,y,b=l.length;if(!l.every(function(P){return typeof P=="string"}))return fail(s,STRING_EXPECTED);function _(P){u=upperFactory(P),d=lowerFactory(P),f=P==="next"?simpleCompare:simpleCompareReverse;var C=l.map(function(S){return{lower:d(S),upper:u(S)}}).sort(function(S,N){return f(S.lower,N.lower)});m=C.map(function(S){return S.upper}),g=C.map(function(S){return S.lower}),v=P,y=P==="next"?"":c}_("next");var T=new s.Collection(s,function(){return createRange(m[0],g[b-1]+c)});T._ondirectionchange=function(P){_(P)};var E=0;return T._addAlgorithm(function(P,C,S){var N=P.key;if(typeof N!="string")return!1;var O=d(N);if(a(O,g,E))return!0;for(var x=null,A=E;A<b;++A){var L=nextCasing(N,O,m[A],g[A],f,v);L===null&&x===null?E=A+1:(x===null||f(x,L)>0)&&(x=L)}return C(x!==null?function(){P.continue(x+y)}:S),!1}),T}function createRange(s,a,l,c){return{type:2,lower:s,upper:a,lowerOpen:l,upperOpen:c}}function rangeEqual(s){return{type:1,lower:s,upper:s}}var WhereClause=function(){function s(){}return Object.defineProperty(s.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),s.prototype.between=function(a,l,c,u){c=c!==!1,u=u===!0;try{return this._cmp(a,l)>0||this._cmp(a,l)===0&&(c||u)&&!(c&&u)?emptyCollection(this):new this.Collection(this,function(){return createRange(a,l,!c,!u)})}catch{return fail(this,INVALID_KEY_ARGUMENT)}},s.prototype.equals=function(a){return a==null?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,function(){return rangeEqual(a)})},s.prototype.above=function(a){return a==null?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,function(){return createRange(a,void 0,!0)})},s.prototype.aboveOrEqual=function(a){return a==null?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,function(){return createRange(a,void 0,!1)})},s.prototype.below=function(a){return a==null?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,function(){return createRange(void 0,a,!1,!0)})},s.prototype.belowOrEqual=function(a){return a==null?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,function(){return createRange(void 0,a)})},s.prototype.startsWith=function(a){return typeof a!="string"?fail(this,STRING_EXPECTED):this.between(a,a+maxString,!0,!0)},s.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):addIgnoreCaseAlgorithm(this,function(l,c){return l.indexOf(c[0])===0},[a],maxString)},s.prototype.equalsIgnoreCase=function(a){return addIgnoreCaseAlgorithm(this,function(l,c){return l===c[0]},[a],"")},s.prototype.anyOfIgnoreCase=function(){var a=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return a.length===0?emptyCollection(this):addIgnoreCaseAlgorithm(this,function(l,c){return c.indexOf(l)!==-1},a,"")},s.prototype.startsWithAnyOfIgnoreCase=function(){var a=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return a.length===0?emptyCollection(this):addIgnoreCaseAlgorithm(this,function(l,c){return c.some(function(u){return l.indexOf(u)===0})},a,maxString)},s.prototype.anyOf=function(){var a=this,l=getArrayOf.apply(NO_CHAR_ARRAY,arguments),c=this._cmp;try{l.sort(c)}catch{return fail(this,INVALID_KEY_ARGUMENT)}if(l.length===0)return emptyCollection(this);var u=new this.Collection(this,function(){return createRange(l[0],l[l.length-1])});u._ondirectionchange=function(f){c=f==="next"?a._ascending:a._descending,l.sort(c)};var d=0;return u._addAlgorithm(function(f,m,g){for(var v=f.key;c(v,l[d])>0;)if(++d,d===l.length)return m(g),!1;return c(v,l[d])===0?!0:(m(function(){f.continue(l[d])}),!1)}),u},s.prototype.notEqual=function(a){return this.inAnyRange([[minKey,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},s.prototype.noneOf=function(){var a=getArrayOf.apply(NO_CHAR_ARRAY,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return fail(this,INVALID_KEY_ARGUMENT)}var l=a.reduce(function(c,u){return c?c.concat([[c[c.length-1][1],u]]):[[minKey,u]]},null);return l.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},s.prototype.inAnyRange=function(a,l){var c=this,u=this._cmp,d=this._ascending,f=this._descending,m=this._min,g=this._max;if(a.length===0)return emptyCollection(this);if(!a.every(function(A){return A[0]!==void 0&&A[1]!==void 0&&d(A[0],A[1])<=0}))return fail(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",exceptions.InvalidArgument);var v=!l||l.includeLowers!==!1,y=l&&l.includeUppers===!0;function b(A,L){for(var $=0,B=A.length;$<B;++$){var M=A[$];if(u(L[0],M[1])<0&&u(L[1],M[0])>0){M[0]=m(M[0],L[0]),M[1]=g(M[1],L[1]);break}}return $===B&&A.push(L),A}var _=d;function T(A,L){return _(A[0],L[0])}var E;try{E=a.reduce(b,[]),E.sort(T)}catch{return fail(this,INVALID_KEY_ARGUMENT)}var P=0,C=y?function(A){return d(A,E[P][1])>0}:function(A){return d(A,E[P][1])>=0},S=v?function(A){return f(A,E[P][0])>0}:function(A){return f(A,E[P][0])>=0};function N(A){return!C(A)&&!S(A)}var O=C,x=new this.Collection(this,function(){return createRange(E[0][0],E[E.length-1][1],!v,!y)});return x._ondirectionchange=function(A){A==="next"?(O=C,_=d):(O=S,_=f),E.sort(T)},x._addAlgorithm(function(A,L,$){for(var B=A.key;O(B);)if(++P,P===E.length)return L($),!1;return N(B)?!0:(c._cmp(B,E[P][1])===0||c._cmp(B,E[P][0])===0||L(function(){_===d?A.continue(E[P][0]):A.continue(E[P][1])}),!1)}),x},s.prototype.startsWithAnyOf=function(){var a=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return a.every(function(l){return typeof l=="string"})?a.length===0?emptyCollection(this):this.inAnyRange(a.map(function(l){return[l,l+maxString]})):fail(this,"startsWithAnyOf() only works with strings")},s}();function createWhereClauseConstructor(s){return makeClassConstructor(WhereClause.prototype,function(l,c,u){if(this.db=s,this._ctx={table:l,index:c===":id"?null:c,or:u},this._cmp=this._ascending=cmp,this._descending=function(d,f){return cmp(f,d)},this._max=function(d,f){return cmp(d,f)>0?d:f},this._min=function(d,f){return cmp(d,f)<0?d:f},this._IDBKeyRange=s._deps.IDBKeyRange,!this._IDBKeyRange)throw new exceptions.MissingAPI})}function eventRejectHandler(s){return wrap(function(a){return preventDefault(a),s(a.target.error),!1})}function preventDefault(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var DEXIE_STORAGE_MUTATED_EVENT_NAME="storagemutated",STORAGE_MUTATED_DOM_EVENT_NAME="x-storagemutated-1",globalEvents=Events(null,DEXIE_STORAGE_MUTATED_EVENT_NAME),Transaction=function(){function s(){}return s.prototype._lock=function(){return assert(!PSD.global),++this._reculock,this._reculock===1&&!PSD.global&&(PSD.lockOwnerFor=this),this},s.prototype._unlock=function(){if(assert(!PSD.global),--this._reculock===0)for(PSD.global||(PSD.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var a=this._blockedFuncs.shift();try{usePSD(a[1],a[0])}catch{}}return this},s.prototype._locked=function(){return this._reculock&&PSD.lockOwnerFor!==this},s.prototype.create=function(a){var l=this;if(!this.mode)return this;var c=this.db.idbdb,u=this.db._state.dbOpenError;if(assert(!this.idbtrans),!a&&!c)switch(u&&u.name){case"DatabaseClosedError":throw new exceptions.DatabaseClosed(u);case"MissingAPIError":throw new exceptions.MissingAPI(u.message,u);default:throw new exceptions.OpenFailed(u)}if(!this.active)throw new exceptions.TransactionInactive;return assert(this._completion._state===null),a=this.idbtrans=a||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):c.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),a.onerror=wrap(function(d){preventDefault(d),l._reject(a.error)}),a.onabort=wrap(function(d){preventDefault(d),l.active&&l._reject(new exceptions.Abort(a.error)),l.active=!1,l.on("abort").fire(d)}),a.oncomplete=wrap(function(){l.active=!1,l._resolve(),"mutatedParts"in a&&globalEvents.storagemutated.fire(a.mutatedParts)}),this},s.prototype._promise=function(a,l,c){var u=this;if(a==="readwrite"&&this.mode!=="readwrite")return rejection(new exceptions.ReadOnly("Transaction is readonly"));if(!this.active)return rejection(new exceptions.TransactionInactive);if(this._locked())return new DexiePromise(function(f,m){u._blockedFuncs.push([function(){u._promise(a,l,c).then(f,m)},PSD])});if(c)return newScope(function(){var f=new DexiePromise(function(m,g){u._lock();var v=l(m,g,u);v&&v.then&&v.then(m,g)});return f.finally(function(){return u._unlock()}),f._lib=!0,f});var d=new DexiePromise(function(f,m){var g=l(f,m,u);g&&g.then&&g.then(f,m)});return d._lib=!0,d},s.prototype._root=function(){return this.parent?this.parent._root():this},s.prototype.waitFor=function(a){var l=this._root(),c=DexiePromise.resolve(a);if(l._waitingFor)l._waitingFor=l._waitingFor.then(function(){return c});else{l._waitingFor=c,l._waitingQueue=[];var u=l.idbtrans.objectStore(l.storeNames[0]);(function f(){for(++l._spinCount;l._waitingQueue.length;)l._waitingQueue.shift()();l._waitingFor&&(u.get(-1/0).onsuccess=f)})()}var d=l._waitingFor;return new DexiePromise(function(f,m){c.then(function(g){return l._waitingQueue.push(wrap(f.bind(null,g)))},function(g){return l._waitingQueue.push(wrap(m.bind(null,g)))}).finally(function(){l._waitingFor===d&&(l._waitingFor=null)})})},s.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new exceptions.Abort))},s.prototype.table=function(a){var l=this._memoizedTables||(this._memoizedTables={});if(hasOwn$1(l,a))return l[a];var c=this.schema[a];if(!c)throw new exceptions.NotFound("Table "+a+" not part of transaction");var u=new this.db.Table(a,c,this);return u.core=this.db.core.table(a),l[a]=u,u},s}();function createTransactionConstructor(s){return makeClassConstructor(Transaction.prototype,function(l,c,u,d,f){var m=this;this.db=s,this.mode=l,this.storeNames=c,this.schema=u,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=Events(this,"complete","error","abort"),this.parent=f||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new DexiePromise(function(g,v){m._resolve=g,m._reject=v}),this._completion.then(function(){m.active=!1,m.on.complete.fire()},function(g){var v=m.active;return m.active=!1,m.on.error.fire(g),m.parent?m.parent._reject(g):v&&m.idbtrans&&m.idbtrans.abort(),rejection(g)})})}function createIndexSpec(s,a,l,c,u,d,f){return{name:s,keyPath:a,unique:l,multi:c,auto:u,compound:d,src:(l&&!f?"&":"")+(c?"*":"")+(u?"++":"")+nameFromKeyPath(a)}}function nameFromKeyPath(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function createTableSchema(s,a,l){return{name:s,primKey:a,indexes:l,mappedClass:null,idxByName:arrayToObject(l,function(c){return[c.name,c]})}}function safariMultiStoreFix(s){return s.length===1?s[0]:s}var getMaxKey=function(s){try{return s.only([[]]),getMaxKey=function(){return[[]]},[[]]}catch{return getMaxKey=function(){return maxString},maxString}};function getKeyExtractor(s){return s==null?function(){}:typeof s=="string"?getSinglePathKeyExtractor(s):function(a){return getByKeyPath(a,s)}}function getSinglePathKeyExtractor(s){var a=s.split(".");return a.length===1?function(l){return l[s]}:function(l){return getByKeyPath(l,s)}}function arrayify(s){return[].slice.call(s)}var _id_counter=0;function getKeyPathAlias(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function createDBCore(s,a,l){function c(b,_){var T=arrayify(b.objectStoreNames);return{schema:{name:b.name,tables:T.map(function(E){return _.objectStore(E)}).map(function(E){var P=E.keyPath,C=E.autoIncrement,S=isArray$1(P),N=P==null,O={},x={name:E.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:N,compound:S,keyPath:P,autoIncrement:C,unique:!0,extractKey:getKeyExtractor(P)},indexes:arrayify(E.indexNames).map(function(A){return E.index(A)}).map(function(A){var L=A.name,$=A.unique,B=A.multiEntry,M=A.keyPath,K=isArray$1(M),Y={name:L,compound:K,keyPath:M,unique:$,multiEntry:B,extractKey:getKeyExtractor(M)};return O[getKeyPathAlias(M)]=Y,Y}),getIndexByKeyPath:function(A){return O[getKeyPathAlias(A)]}};return O[":id"]=x.primaryKey,P!=null&&(O[getKeyPathAlias(P)]=x.primaryKey),x})},hasGetAll:T.length>0&&"getAll"in _.objectStore(T[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function u(b){if(b.type===3)return null;if(b.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var _=b.lower,T=b.upper,E=b.lowerOpen,P=b.upperOpen,C=_===void 0?T===void 0?null:a.upperBound(T,!!P):T===void 0?a.lowerBound(_,!!E):a.bound(_,T,!!E,!!P);return C}function d(b){var _=b.name;function T(C){var S=C.trans,N=C.type,O=C.keys,x=C.values,A=C.range;return new Promise(function(L,$){L=wrap(L);var B=S.objectStore(_),M=B.keyPath==null,K=N==="put"||N==="add";if(!K&&N!=="delete"&&N!=="deleteRange")throw new Error("Invalid operation type: "+N);var Y=(O||x||{length:1}).length;if(O&&x&&O.length!==x.length)throw new Error("Given keys array must have same length as given values array.");if(Y===0)return L({numFailures:0,failures:{},results:[],lastResult:void 0});var U,Z=[],q=[],Q=0,ae=function(de){++Q,preventDefault(de)};if(N==="deleteRange"){if(A.type===4)return L({numFailures:Q,failures:q,results:[],lastResult:void 0});A.type===3?Z.push(U=B.clear()):Z.push(U=B.delete(u(A)))}else{var oe=K?M?[x,O]:[x,null]:[O,null],se=oe[0],fe=oe[1];if(K)for(var pe=0;pe<Y;++pe)Z.push(U=fe&&fe[pe]!==void 0?B[N](se[pe],fe[pe]):B[N](se[pe])),U.onerror=ae;else for(var pe=0;pe<Y;++pe)Z.push(U=B[N](se[pe])),U.onerror=ae}var me=function(de){var ye=de.target.result;Z.forEach(function(ge,_e){return ge.error!=null&&(q[_e]=ge.error)}),L({numFailures:Q,failures:q,results:N==="delete"?O:Z.map(function(ge){return ge.result}),lastResult:ye})};U.onerror=function(de){ae(de),me(de)},U.onsuccess=me})}function E(C){var S=C.trans,N=C.values,O=C.query,x=C.reverse,A=C.unique;return new Promise(function(L,$){L=wrap(L);var B=O.index,M=O.range,K=S.objectStore(_),Y=B.isPrimaryKey?K:K.index(B.name),U=x?A?"prevunique":"prev":A?"nextunique":"next",Z=N||!("openKeyCursor"in Y)?Y.openCursor(u(M),U):Y.openKeyCursor(u(M),U);Z.onerror=eventRejectHandler($),Z.onsuccess=wrap(function(q){var Q=Z.result;if(!Q){L(null);return}Q.___id=++_id_counter,Q.done=!1;var ae=Q.continue.bind(Q),oe=Q.continuePrimaryKey;oe&&(oe=oe.bind(Q));var se=Q.advance.bind(Q),fe=function(){throw new Error("Cursor not started")},pe=function(){throw new Error("Cursor not stopped")};Q.trans=S,Q.stop=Q.continue=Q.continuePrimaryKey=Q.advance=fe,Q.fail=wrap($),Q.next=function(){var me=this,de=1;return this.start(function(){return de--?me.continue():me.stop()}).then(function(){return me})},Q.start=function(me){var de=new Promise(function(ge,_e){ge=wrap(ge),Z.onerror=eventRejectHandler(_e),Q.fail=_e,Q.stop=function(ve){Q.stop=Q.continue=Q.continuePrimaryKey=Q.advance=pe,ge(ve)}}),ye=function(){if(Z.result)try{me()}catch(ge){Q.fail(ge)}else Q.done=!0,Q.start=function(){throw new Error("Cursor behind last entry")},Q.stop()};return Z.onsuccess=wrap(function(ge){Z.onsuccess=ye,ye()}),Q.continue=ae,Q.continuePrimaryKey=oe,Q.advance=se,ye(),de},L(Q)},$)})}function P(C){return function(S){return new Promise(function(N,O){N=wrap(N);var x=S.trans,A=S.values,L=S.limit,$=S.query,B=L===1/0?void 0:L,M=$.index,K=$.range,Y=x.objectStore(_),U=M.isPrimaryKey?Y:Y.index(M.name),Z=u(K);if(L===0)return N({result:[]});if(C){var q=A?U.getAll(Z,B):U.getAllKeys(Z,B);q.onsuccess=function(se){return N({result:se.target.result})},q.onerror=eventRejectHandler(O)}else{var Q=0,ae=A||!("openKeyCursor"in U)?U.openCursor(Z):U.openKeyCursor(Z),oe=[];ae.onsuccess=function(se){var fe=ae.result;if(!fe)return N({result:oe});if(oe.push(A?fe.value:fe.primaryKey),++Q===L)return N({result:oe});fe.continue()},ae.onerror=eventRejectHandler(O)}})}}return{name:_,schema:b,mutate:T,getMany:function(C){var S=C.trans,N=C.keys;return new Promise(function(O,x){O=wrap(O);for(var A=S.objectStore(_),L=N.length,$=new Array(L),B=0,M=0,K,Y=function(Q){var ae=Q.target;($[ae._pos]=ae.result)!=null,++M===B&&O($)},U=eventRejectHandler(x),Z=0;Z<L;++Z){var q=N[Z];q!=null&&(K=A.get(N[Z]),K._pos=Z,K.onsuccess=Y,K.onerror=U,++B)}B===0&&O($)})},get:function(C){var S=C.trans,N=C.key;return new Promise(function(O,x){O=wrap(O);var A=S.objectStore(_),L=A.get(N);L.onsuccess=function($){return O($.target.result)},L.onerror=eventRejectHandler(x)})},query:P(g),openCursor:E,count:function(C){var S=C.query,N=C.trans,O=S.index,x=S.range;return new Promise(function(A,L){var $=N.objectStore(_),B=O.isPrimaryKey?$:$.index(O.name),M=u(x),K=M?B.count(M):B.count();K.onsuccess=wrap(function(Y){return A(Y.target.result)}),K.onerror=eventRejectHandler(L)})}}}var f=c(s,l),m=f.schema,g=f.hasGetAll,v=m.tables.map(function(b){return d(b)}),y={};return v.forEach(function(b){return y[b.name]=b}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(b){var _=y[b];if(!_)throw new Error("Table '".concat(b,"' not found"));return y[b]},MIN_KEY:-1/0,MAX_KEY:getMaxKey(a),schema:m}}function createMiddlewareStack(s,a){return a.reduce(function(l,c){var u=c.create;return __assign(__assign({},l),u(l))},s)}function createMiddlewareStacks(s,a,l,c){var u=l.IDBKeyRange;l.indexedDB;var d=createMiddlewareStack(createDBCore(a,u,c),s.dbcore);return{dbcore:d}}function generateMiddlewareStacks(s,a){var l=a.db,c=createMiddlewareStacks(s._middlewares,l,s._deps,a);s.core=c.dbcore,s.tables.forEach(function(u){var d=u.name;s.core.schema.tables.some(function(f){return f.name===d})&&(u.core=s.core.table(d),s[d]instanceof s.Table&&(s[d].core=u.core))})}function setApiOnPlace(s,a,l,c){l.forEach(function(u){var d=c[u];a.forEach(function(f){var m=getPropertyDescriptor(f,u);(!m||"value"in m&&m.value===void 0)&&(f===s.Transaction.prototype||f instanceof s.Transaction?setProp(f,u,{get:function(){return this.table(u)},set:function(g){defineProperty(this,u,{value:g,writable:!0,configurable:!0,enumerable:!0})}}):f[u]=new s.Table(u,d))})})}function removeTablesApi(s,a){a.forEach(function(l){for(var c in l)l[c]instanceof s.Table&&delete l[c]})}function lowerVersionFirst(s,a){return s._cfg.version-a._cfg.version}function runUpgraders(s,a,l,c){var u=s._dbSchema,d=s._createTransaction("readwrite",s._storeNames,u);d.create(l),d._completion.catch(c);var f=d._reject.bind(d),m=PSD.transless||PSD;newScope(function(){PSD.trans=d,PSD.transless=m,a===0?(keys(u).forEach(function(g){createTable(l,g,u[g].primKey,u[g].indexes)}),generateMiddlewareStacks(s,l),DexiePromise.follow(function(){return s.on.populate.fire(d)}).catch(f)):updateTablesAndIndexes(s,a,d,l).catch(f)})}function updateTablesAndIndexes(s,a,l,c){var u=[],d=s._versions,f=s._dbSchema=buildGlobalSchema(s,s.idbdb,c),m=!1,g=d.filter(function(y){return y._cfg.version>=a});g.forEach(function(y){u.push(function(){var b=f,_=y._cfg.dbschema;adjustToExistingIndexNames(s,b,c),adjustToExistingIndexNames(s,_,c),f=s._dbSchema=_;var T=getSchemaDiff(b,_);T.add.forEach(function(O){createTable(c,O[0],O[1].primKey,O[1].indexes)}),T.change.forEach(function(O){if(O.recreate)throw new exceptions.Upgrade("Not yet support for changing primary key");var x=c.objectStore(O.name);O.add.forEach(function(A){return addIndex(x,A)}),O.change.forEach(function(A){x.deleteIndex(A.name),addIndex(x,A)}),O.del.forEach(function(A){return x.deleteIndex(A)})});var E=y._cfg.contentUpgrade;if(E&&y._cfg.version>a){generateMiddlewareStacks(s,c),l._memoizedTables={},m=!0;var P=shallowClone(_);T.del.forEach(function(O){P[O]=b[O]}),removeTablesApi(s,[s.Transaction.prototype]),setApiOnPlace(s,[s.Transaction.prototype],keys(P),P),l.schema=P;var C=isAsyncFunction(E);C&&incrementExpectedAwaits();var S,N=DexiePromise.follow(function(){if(S=E(l),S&&C){var O=decrementExpectedAwaits.bind(null,null);S.then(O,O)}});return S&&typeof S.then=="function"?DexiePromise.resolve(S):N.then(function(){return S})}}),u.push(function(b){if(!m||!hasIEDeleteObjectStoreBug){var _=y._cfg.dbschema;deleteRemovedTables(_,b)}removeTablesApi(s,[s.Transaction.prototype]),setApiOnPlace(s,[s.Transaction.prototype],s._storeNames,s._dbSchema),l.schema=s._dbSchema})});function v(){return u.length?DexiePromise.resolve(u.shift()(l.idbtrans)).then(v):DexiePromise.resolve()}return v().then(function(){createMissingTables(f,c)})}function getSchemaDiff(s,a){var l={del:[],add:[],change:[]},c;for(c in s)a[c]||l.del.push(c);for(c in a){var u=s[c],d=a[c];if(!u)l.add.push([c,d]);else{var f={name:c,def:d,recreate:!1,del:[],add:[],change:[]};if(""+(u.primKey.keyPath||"")!=""+(d.primKey.keyPath||"")||u.primKey.auto!==d.primKey.auto&&!isIEOrEdge)f.recreate=!0,l.change.push(f);else{var m=u.idxByName,g=d.idxByName,v=void 0;for(v in m)g[v]||f.del.push(v);for(v in g){var y=m[v],b=g[v];y?y.src!==b.src&&f.change.push(b):f.add.push(b)}(f.del.length>0||f.add.length>0||f.change.length>0)&&l.change.push(f)}}}return l}function createTable(s,a,l,c){var u=s.db.createObjectStore(a,l.keyPath?{keyPath:l.keyPath,autoIncrement:l.auto}:{autoIncrement:l.auto});return c.forEach(function(d){return addIndex(u,d)}),u}function createMissingTables(s,a){keys(s).forEach(function(l){a.db.objectStoreNames.contains(l)||createTable(a,l,s[l].primKey,s[l].indexes)})}function deleteRemovedTables(s,a){[].slice.call(a.db.objectStoreNames).forEach(function(l){return s[l]==null&&a.db.deleteObjectStore(l)})}function addIndex(s,a){s.createIndex(a.name,a.keyPath,{unique:a.unique,multiEntry:a.multi})}function buildGlobalSchema(s,a,l){var c={},u=slice(a.objectStoreNames,0);return u.forEach(function(d){for(var f=l.objectStore(d),m=f.keyPath,g=createIndexSpec(nameFromKeyPath(m),m||"",!1,!1,!!f.autoIncrement,m&&typeof m!="string",!0),v=[],y=0;y<f.indexNames.length;++y){var b=f.index(f.indexNames[y]);m=b.keyPath;var _=createIndexSpec(b.name,m,!!b.unique,!!b.multiEntry,!1,m&&typeof m!="string",!1);v.push(_)}c[d]=createTableSchema(d,g,v)}),c}function readGlobalSchema(s,a,l){s.verno=a.version/10;var c=s._dbSchema=buildGlobalSchema(s,a,l);s._storeNames=slice(a.objectStoreNames,0),setApiOnPlace(s,[s._allTables],keys(c),c)}function verifyInstalledSchema(s,a){var l=buildGlobalSchema(s,s.idbdb,a),c=getSchemaDiff(l,s._dbSchema);return!(c.add.length||c.change.some(function(u){return u.add.length||u.change.length}))}function adjustToExistingIndexNames(s,a,l){for(var c=l.db.objectStoreNames,u=0;u<c.length;++u){var d=c[u],f=l.objectStore(d);s._hasGetAll="getAll"in f;for(var m=0;m<f.indexNames.length;++m){var g=f.indexNames[m],v=f.index(g).keyPath,y=typeof v=="string"?v:"["+slice(v).join("+")+"]";if(a[d]){var b=a[d].idxByName[y];b&&(b.name=g,delete a[d].idxByName[y],a[d].idxByName[g]=b)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&_global.WorkerGlobalScope&&_global instanceof _global.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function parseIndexSyntax(s){return s.split(",").map(function(a,l){a=a.trim();var c=a.replace(/([&*]|\+\+)/g,""),u=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return createIndexSpec(c,u||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),isArray$1(u),l===0)})}var Version=function(){function s(){}return s.prototype._parseStoresSpec=function(a,l){keys(a).forEach(function(c){if(a[c]!==null){var u=parseIndexSyntax(a[c]),d=u.shift();if(d.multi)throw new exceptions.Schema("Primary key cannot be multi-valued");u.forEach(function(f){if(f.auto)throw new exceptions.Schema("Only primary key can be marked as autoIncrement (++)");if(!f.keyPath)throw new exceptions.Schema("Index must have a name and cannot be an empty string")}),l[c]=createTableSchema(c,d,u)}})},s.prototype.stores=function(a){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?extend(this._cfg.storesSource,a):a;var c=l._versions,u={},d={};return c.forEach(function(f){extend(u,f._cfg.storesSource),d=f._cfg.dbschema={},f._parseStoresSpec(u,d)}),l._dbSchema=d,removeTablesApi(l,[l._allTables,l,l.Transaction.prototype]),setApiOnPlace(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],keys(d),d),l._storeNames=keys(d),this},s.prototype.upgrade=function(a){return this._cfg.contentUpgrade=promisableChain(this._cfg.contentUpgrade||nop,a),this},s}();function createVersionConstructor(s){return makeClassConstructor(Version.prototype,function(l){this.db=s,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function getDbNamesTable(s,a){var l=s._dbNamesDB;return l||(l=s._dbNamesDB=new Dexie$1(DBNAMES_DB,{addons:[],indexedDB:s,IDBKeyRange:a}),l.version(1).stores({dbnames:"name"})),l.table("dbnames")}function hasDatabasesNative(s){return s&&typeof s.databases=="function"}function getDatabaseNames(s){var a=s.indexedDB,l=s.IDBKeyRange;return hasDatabasesNative(a)?Promise.resolve(a.databases()).then(function(c){return c.map(function(u){return u.name}).filter(function(u){return u!==DBNAMES_DB})}):getDbNamesTable(a,l).toCollection().primaryKeys()}function _onDatabaseCreated(s,a){var l=s.indexedDB,c=s.IDBKeyRange;!hasDatabasesNative(l)&&a!==DBNAMES_DB&&getDbNamesTable(l,c).put({name:a}).catch(nop)}function _onDatabaseDeleted(s,a){var l=s.indexedDB,c=s.IDBKeyRange;!hasDatabasesNative(l)&&a!==DBNAMES_DB&&getDbNamesTable(l,c).delete(a).catch(nop)}function vip(s){return newScope(function(){return PSD.letThrough=!0,s()})}function idbReady(){var s=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!s||!indexedDB.databases)return Promise.resolve();var a;return new Promise(function(l){var c=function(){return indexedDB.databases().finally(l)};a=setInterval(c,100),c()}).finally(function(){return clearInterval(a)})}var _a;function isEmptyRange(s){return!("from"in s)}var RangeSet=function(s,a){if(this)extend(this,arguments.length?{d:1,from:s,to:arguments.length>1?a:s}:{d:0});else{var l=new RangeSet;return s&&"d"in s&&extend(l,s),l}};props$1(RangeSet.prototype,(_a={add:function(s){return mergeRanges(this,s),this},addKey:function(s){return addRange(this,s,s),this},addKeys:function(s){var a=this;return s.forEach(function(l){return addRange(a,l,l)}),this}},_a[iteratorSymbol]=function(){return getRangeSetIterator(this)},_a));function addRange(s,a,l){var c=cmp(a,l);if(!isNaN(c)){if(c>0)throw RangeError();if(isEmptyRange(s))return extend(s,{from:a,to:l,d:1});var u=s.l,d=s.r;if(cmp(l,s.from)<0)return u?addRange(u,a,l):s.l={from:a,to:l,d:1,l:null,r:null},rebalance(s);if(cmp(a,s.to)>0)return d?addRange(d,a,l):s.r={from:a,to:l,d:1,l:null,r:null},rebalance(s);cmp(a,s.from)<0&&(s.from=a,s.l=null,s.d=d?d.d+1:1),cmp(l,s.to)>0&&(s.to=l,s.r=null,s.d=s.l?s.l.d+1:1);var f=!s.r;u&&!s.l&&mergeRanges(s,u),d&&f&&mergeRanges(s,d)}}function mergeRanges(s,a){function l(c,u){var d=u.from,f=u.to,m=u.l,g=u.r;addRange(c,d,f),m&&l(c,m),g&&l(c,g)}isEmptyRange(a)||l(s,a)}function rangesOverlap(s,a){var l=getRangeSetIterator(a),c=l.next();if(c.done)return!1;for(var u=c.value,d=getRangeSetIterator(s),f=d.next(u.from),m=f.value;!c.done&&!f.done;){if(cmp(m.from,u.to)<=0&&cmp(m.to,u.from)>=0)return!0;cmp(u.from,m.from)<0?u=(c=l.next(m.from)).value:m=(f=d.next(u.from)).value}return!1}function getRangeSetIterator(s){var a=isEmptyRange(s)?null:{s:0,n:s};return{next:function(l){for(var c=arguments.length>0;a;)switch(a.s){case 0:if(a.s=1,c)for(;a.n.l&&cmp(l,a.n.from)<0;)a={up:a,n:a.n.l,s:1};else for(;a.n.l;)a={up:a,n:a.n.l,s:1};case 1:if(a.s=2,!c||cmp(l,a.n.to)<=0)return{value:a.n,done:!1};case 2:if(a.n.r){a.s=3,a={up:a,n:a.n.r,s:0};continue}case 3:a=a.up}return{done:!0}}}}function rebalance(s){var a,l,c=(((a=s.r)===null||a===void 0?void 0:a.d)||0)-(((l=s.l)===null||l===void 0?void 0:l.d)||0),u=c>1?"r":c<-1?"l":"";if(u){var d=u==="r"?"l":"r",f=__assign({},s),m=s[u];s.from=m.from,s.to=m.to,s[u]=m[u],f[u]=m[d],s[d]=f,f.d=computeDepth(f)}s.d=computeDepth(s)}function computeDepth(s){var a=s.r,l=s.l;return(a?l?Math.max(a.d,l.d):a.d:l?l.d:0)+1}function extendObservabilitySet(s,a){return keys(a).forEach(function(l){s[l]?mergeRanges(s[l],a[l]):s[l]=cloneSimpleObjectTree(a[l])}),s}function obsSetsOverlap(s,a){return Object.keys(s).some(function(l){return a[l]&&rangesOverlap(a[l],s[l])})}var cache$1={},unsignaledParts={},isTaskEnqueued=!1;function signalSubscribersLazily(s){extendObservabilitySet(unsignaledParts,s),isTaskEnqueued||(isTaskEnqueued=!0,queueMicrotask(function(){isTaskEnqueued=!1;var a=unsignaledParts;unsignaledParts={},signalSubscribersNow(a)}))}function signalSubscribersNow(s,a){a===void 0&&(a=!1);var l=new Set;for(var c in s){var u=/^idb\:\/\/(.*)\/(.*)\//.exec(c);if(u){var d=u[1],f=u[2],m=cache$1["idb://".concat(d,"/").concat(f)];m&&signalTableSubscribersNow(m,s,l,a)}}l.forEach(function(g){return g()})}function signalTableSubscribersNow(s,a,l,c){for(var u=c&&[],d=0,f=Object.entries(s.queries.query);d<f.length;d++){for(var m=f[d],g=m[0],v=m[1],y=c&&[],b=0,_=v;b<_.length;b++){var T=_[b];T.obsSet&&obsSetsOverlap(a,T.obsSet)?T.subscribers.forEach(function(S){return l.add(S)}):c&&y.push(T)}c&&u.push([g,y])}if(c)for(var E=0,P=u;E<P.length;E++){var C=P[E],g=C[0],y=C[1];s.queries.query[g]=y}}function dexieOpen(s){var a=s._state,l=s._deps.indexedDB;if(a.isBeingOpened||s.idbdb)return a.dbReadyPromise.then(function(){return a.dbOpenError?rejection(a.dbOpenError):s});debug&&(a.openCanceller._stackHolder=getErrorWithStack()),a.isBeingOpened=!0,a.dbOpenError=null,a.openComplete=!1;var c=a.openCanceller;function u(){if(a.openCanceller!==c)throw new exceptions.DatabaseClosed("db.open() was cancelled")}var d=a.dbReadyResolve,f=null,m=!1;return DexiePromise.race([c,(typeof navigator=="undefined"?DexiePromise.resolve():idbReady()).then(function(){return new DexiePromise(function(g,v){if(u(),!l)throw new exceptions.MissingAPI;var y=s.name,b=a.autoSchema?l.open(y):l.open(y,Math.round(s.verno*10));if(!b)throw new exceptions.MissingAPI;b.onerror=eventRejectHandler(v),b.onblocked=wrap(s._fireOnBlocked),b.onupgradeneeded=wrap(function(_){if(f=b.transaction,a.autoSchema&&!s._options.allowEmptyDB){b.onerror=preventDefault,f.abort(),b.result.close();var T=l.deleteDatabase(y);T.onsuccess=T.onerror=wrap(function(){v(new exceptions.NoSuchDatabase("Database ".concat(y," doesnt exist")))})}else{f.onerror=eventRejectHandler(v);var E=_.oldVersion>Math.pow(2,62)?0:_.oldVersion;m=E<1,s.idbdb=b.result,runUpgraders(s,E/10,f,v)}},v),b.onsuccess=wrap(function(){f=null;var _=s.idbdb=b.result,T=slice(_.objectStoreNames);if(T.length>0)try{var E=_.transaction(safariMultiStoreFix(T),"readonly");a.autoSchema?readGlobalSchema(s,_,E):(adjustToExistingIndexNames(s,s._dbSchema,E),verifyInstalledSchema(s,E)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),generateMiddlewareStacks(s,E)}catch{}connections.push(s),_.onversionchange=wrap(function(P){a.vcFired=!0,s.on("versionchange").fire(P)}),_.onclose=wrap(function(P){s.on("close").fire(P)}),m&&_onDatabaseCreated(s._deps,y),g()},v)})})]).then(function(){return u(),a.onReadyBeingFired=[],DexiePromise.resolve(vip(function(){return s.on.ready.fire(s.vip)})).then(function g(){if(a.onReadyBeingFired.length>0){var v=a.onReadyBeingFired.reduce(promisableChain,nop);return a.onReadyBeingFired=[],DexiePromise.resolve(vip(function(){return v(s.vip)})).then(g)}})}).finally(function(){a.openCanceller===c&&(a.onReadyBeingFired=null,a.isBeingOpened=!1)}).catch(function(g){a.dbOpenError=g;try{f&&f.abort()}catch{}return c===a.openCanceller&&s._close(),rejection(g)}).finally(function(){a.openComplete=!0,d()}).then(function(){if(m){var g={};s.tables.forEach(function(v){v.schema.indexes.forEach(function(y){y.name&&(g["idb://".concat(s.name,"/").concat(v.name,"/").concat(y.name)]=new RangeSet(-1/0,[[[]]]))}),g["idb://".concat(s.name,"/").concat(v.name,"/")]=g["idb://".concat(s.name,"/").concat(v.name,"/:dels")]=new RangeSet(-1/0,[[[]]])}),globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME).fire(g),signalSubscribersNow(g,!0)}return s})}function awaitIterator(s){var a=function(f){return s.next(f)},l=function(f){return s.throw(f)},c=d(a),u=d(l);function d(f){return function(m){var g=f(m),v=g.value;return g.done?v:!v||typeof v.then!="function"?isArray$1(v)?Promise.all(v).then(c,u):c(v):v.then(c,u)}}return d(a)()}function extractTransactionArgs(s,a,l){var c=arguments.length;if(c<2)throw new exceptions.InvalidArgument("Too few arguments");for(var u=new Array(c-1);--c;)u[c-1]=arguments[c];l=u.pop();var d=flatten(u);return[s,d,l]}function enterTransactionScope(s,a,l,c,u){return DexiePromise.resolve().then(function(){var d=PSD.transless||PSD,f=s._createTransaction(a,l,s._dbSchema,c);f.explicit=!0;var m={trans:f,transless:d};if(c)f.idbtrans=c.idbtrans;else try{f.create(),s._state.PR1398_maxLoop=3}catch(b){return b.name===errnames.InvalidState&&s.isOpen()&&--s._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),s._close(),s.open().then(function(){return enterTransactionScope(s,a,l,null,u)})):rejection(b)}var g=isAsyncFunction(u);g&&incrementExpectedAwaits();var v,y=DexiePromise.follow(function(){if(v=u.call(f,f),v)if(g){var b=decrementExpectedAwaits.bind(null,null);v.then(b,b)}else typeof v.next=="function"&&typeof v.throw=="function"&&(v=awaitIterator(v))},m);return(v&&typeof v.then=="function"?DexiePromise.resolve(v).then(function(b){return f.active?b:rejection(new exceptions.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):y.then(function(){return v})).then(function(b){return c&&f._resolve(),f._completion.then(function(){return b})}).catch(function(b){return f._reject(b),rejection(b)})})}function pad(s,a,l){for(var c=isArray$1(s)?s.slice():[s],u=0;u<l;++u)c.push(a);return c}function createVirtualIndexMiddleware(s){return __assign(__assign({},s),{table:function(a){var l=s.table(a),c=l.schema,u={},d=[];function f(P,C,S){var N=getKeyPathAlias(P),O=u[N]=u[N]||[],x=P==null?0:typeof P=="string"?1:P.length,A=C>0,L=__assign(__assign({},S),{name:A?"".concat(N,"(virtual-from:").concat(S.name,")"):S.name,lowLevelIndex:S,isVirtual:A,keyTail:C,keyLength:x,extractKey:getKeyExtractor(P),unique:!A&&S.unique});if(O.push(L),L.isPrimaryKey||d.push(L),x>1){var $=x===2?P[0]:P.slice(0,x-1);f($,C+1,S)}return O.sort(function(B,M){return B.keyTail-M.keyTail}),L}var m=f(c.primaryKey.keyPath,0,c.primaryKey);u[":id"]=[m];for(var g=0,v=c.indexes;g<v.length;g++){var y=v[g];f(y.keyPath,0,y)}function b(P){var C=u[getKeyPathAlias(P)];return C&&C[0]}function _(P,C){return{type:P.type===1?2:P.type,lower:pad(P.lower,P.lowerOpen?s.MAX_KEY:s.MIN_KEY,C),lowerOpen:!0,upper:pad(P.upper,P.upperOpen?s.MIN_KEY:s.MAX_KEY,C),upperOpen:!0}}function T(P){var C=P.query.index;return C.isVirtual?__assign(__assign({},P),{query:{index:C.lowLevelIndex,range:_(P.query.range,C.keyTail)}}):P}var E=__assign(__assign({},l),{schema:__assign(__assign({},c),{primaryKey:m,indexes:d,getIndexByKeyPath:b}),count:function(P){return l.count(T(P))},query:function(P){return l.query(T(P))},openCursor:function(P){var C=P.query.index,S=C.keyTail,N=C.isVirtual,O=C.keyLength;if(!N)return l.openCursor(P);function x(A){function L(B){B!=null?A.continue(pad(B,P.reverse?s.MAX_KEY:s.MIN_KEY,S)):P.unique?A.continue(A.key.slice(0,O).concat(P.reverse?s.MIN_KEY:s.MAX_KEY,S)):A.continue()}var $=Object.create(A,{continue:{value:L},continuePrimaryKey:{value:function(B,M){A.continuePrimaryKey(pad(B,s.MAX_KEY,S),M)}},primaryKey:{get:function(){return A.primaryKey}},key:{get:function(){var B=A.key;return O===1?B[0]:B.slice(0,O)}},value:{get:function(){return A.value}}});return $}return l.openCursor(T(P)).then(function(A){return A&&x(A)})}});return E}})}var virtualIndexMiddleware={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:createVirtualIndexMiddleware};function getObjectDiff(s,a,l,c){return l=l||{},c=c||"",keys(s).forEach(function(u){if(!hasOwn$1(a,u))l[c+u]=void 0;else{var d=s[u],f=a[u];if(typeof d=="object"&&typeof f=="object"&&d&&f){var m=toStringTag(d),g=toStringTag(f);m!==g?l[c+u]=a[u]:m==="Object"?getObjectDiff(d,f,l,c+u+"."):d!==f&&(l[c+u]=a[u])}else d!==f&&(l[c+u]=a[u])}}),keys(a).forEach(function(u){hasOwn$1(s,u)||(l[c+u]=a[u])}),l}function getEffectiveKeys(s,a){return a.type==="delete"?a.keys:a.keys||a.values.map(s.extractKey)}var hooksMiddleware={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return __assign(__assign({},s),{table:function(a){var l=s.table(a),c=l.schema.primaryKey,u=__assign(__assign({},l),{mutate:function(d){var f=PSD.trans,m=f.table(a).hook,g=m.deleting,v=m.creating,y=m.updating;switch(d.type){case"add":if(v.fire===nop)break;return f._promise("readwrite",function(){return b(d)},!0);case"put":if(v.fire===nop&&y.fire===nop)break;return f._promise("readwrite",function(){return b(d)},!0);case"delete":if(g.fire===nop)break;return f._promise("readwrite",function(){return b(d)},!0);case"deleteRange":if(g.fire===nop)break;return f._promise("readwrite",function(){return _(d)},!0)}return l.mutate(d);function b(E){var P=PSD.trans,C=E.keys||getEffectiveKeys(c,E);if(!C)throw new Error("Keys missing");return E=E.type==="add"||E.type==="put"?__assign(__assign({},E),{keys:C}):__assign({},E),E.type!=="delete"&&(E.values=__spreadArray([],E.values,!0)),E.keys&&(E.keys=__spreadArray([],E.keys,!0)),getExistingValues(l,E,C).then(function(S){var N=C.map(function(O,x){var A=S[x],L={onerror:null,onsuccess:null};if(E.type==="delete")g.fire.call(L,O,A,P);else if(E.type==="add"||A===void 0){var $=v.fire.call(L,O,E.values[x],P);O==null&&$!=null&&(O=$,E.keys[x]=O,c.outbound||setByKeyPath(E.values[x],c.keyPath,O))}else{var B=getObjectDiff(A,E.values[x]),M=y.fire.call(L,B,O,A,P);if(M){var K=E.values[x];Object.keys(M).forEach(function(Y){hasOwn$1(K,Y)?K[Y]=M[Y]:setByKeyPath(K,Y,M[Y])})}}return L});return l.mutate(E).then(function(O){for(var x=O.failures,A=O.results,L=O.numFailures,$=O.lastResult,B=0;B<C.length;++B){var M=A?A[B]:C[B],K=N[B];M==null?K.onerror&&K.onerror(x[B]):K.onsuccess&&K.onsuccess(E.type==="put"&&S[B]?E.values[B]:M)}return{failures:x,results:A,numFailures:L,lastResult:$}}).catch(function(O){return N.forEach(function(x){return x.onerror&&x.onerror(O)}),Promise.reject(O)})})}function _(E){return T(E.trans,E.range,1e4)}function T(E,P,C){return l.query({trans:E,values:!1,query:{index:c,range:P},limit:C}).then(function(S){var N=S.result;return b({type:"delete",keys:N,trans:E}).then(function(O){return O.numFailures>0?Promise.reject(O.failures[0]):N.length<C?{failures:[],numFailures:0,lastResult:void 0}:T(E,__assign(__assign({},P),{lower:N[N.length-1],lowerOpen:!0}),C)})})}}});return u}})}};function getExistingValues(s,a,l){return a.type==="add"?Promise.resolve([]):s.getMany({trans:a.trans,keys:l,cache:"immutable"})}function getFromTransactionCache(s,a,l){try{if(!a||a.keys.length<s.length)return null;for(var c=[],u=0,d=0;u<a.keys.length&&d<s.length;++u)cmp(a.keys[u],s[d])===0&&(c.push(l?deepClone(a.values[u]):a.values[u]),++d);return c.length===s.length?c:null}catch{return null}}var cacheExistingValuesMiddleware={stack:"dbcore",level:-1,create:function(s){return{table:function(a){var l=s.table(a);return __assign(__assign({},l),{getMany:function(c){if(!c.cache)return l.getMany(c);var u=getFromTransactionCache(c.keys,c.trans._cache,c.cache==="clone");return u?DexiePromise.resolve(u):l.getMany(c).then(function(d){return c.trans._cache={keys:c.keys,values:c.cache==="clone"?deepClone(d):d},d})},mutate:function(c){return c.type!=="add"&&(c.trans._cache=null),l.mutate(c)}})}}}};function isCachableContext(s,a){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!a.schema.primaryKey.outbound}function isCachableRequest(s,a){switch(s){case"query":return a.values&&!a.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var observabilityMiddleware={stack:"dbcore",level:0,name:"Observability",create:function(s){var a=s.schema.name,l=new RangeSet(s.MIN_KEY,s.MAX_KEY);return __assign(__assign({},s),{transaction:function(c,u,d){if(PSD.subscr&&u!=="readonly")throw new exceptions.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(PSD.querier));return s.transaction(c,u,d)},table:function(c){var u=s.table(c),d=u.schema,f=d.primaryKey,m=f.extractKey,g=f.outbound,v=__assign(__assign({},u),{mutate:function(_){var T=_.trans,E=_.mutatedParts||(_.mutatedParts={}),P=function(M){var K="idb://".concat(a,"/").concat(c,"/").concat(M);return E[K]||(E[K]=new RangeSet)},C=P(""),S=P(":dels"),N=_.type,O=_.type==="deleteRange"?[_.range]:_.type==="delete"?[_.keys]:_.values.length<50?[getEffectiveKeys(f,_).filter(function(M){return M}),_.values]:[],x=O[0],A=O[1],L=_.trans._cache;if(isArray$1(x)){C.addKeys(x);var $=N==="delete"||x.length===A.length?getFromTransactionCache(x,L):null;!$&&N!=="add"&&S.addKeys(x),($||A)&&trackAffectedIndexes(P,d,$,A)}else if(x){var B={from:x.lower,to:x.upper};S.add(B),C.add(B)}else C.add(l),S.add(l),d.indexes.forEach(function(M){return P(M.name).add(l)});return u.mutate(_).then(function(M){return x&&(_.type==="add"||_.type==="put")&&C.addKeys(M.results),T.mutatedParts=extendObservabilitySet(T.mutatedParts||{},E),M})}}),y=function(_){var T,E,P=_.query,C=P.index,S=P.range;return[C,new RangeSet((T=S.lower)!==null&&T!==void 0?T:s.MIN_KEY,(E=S.upper)!==null&&E!==void 0?E:s.MAX_KEY)]},b={get:function(_){return[f,new RangeSet(_.key)]},getMany:function(_){return[f,new RangeSet().addKeys(_.keys)]},count:y,query:y,openCursor:y};return keys(b).forEach(function(_){v[_]=function(T){var E=PSD.subscr,P=!!E,C=isCachableContext(PSD,u)&&isCachableRequest(_,T),S=C?T.obsSet={}:E;if(P){var N=function(M){var K="idb://".concat(a,"/").concat(c,"/").concat(M);return S[K]||(S[K]=new RangeSet)},O=N(""),x=N(":dels"),A=b[_](T),L=A[0],$=A[1];if(N(L.name||"").add($),!L.isPrimaryKey)if(_==="count")x.add(l);else{var B=_==="query"&&g&&T.values&&u.query(__assign(__assign({},T),{values:!1}));return u[_].apply(this,arguments).then(function(M){if(_==="query"){if(g&&T.values)return B.then(function(Z){var q=Z.result;return O.addKeys(q),M});var K=T.values?M.result.map(m):M.result;T.values?O.addKeys(K):x.addKeys(K)}else if(_==="openCursor"){var Y=M,U=T.values;return Y&&Object.create(Y,{key:{get:function(){return x.addKey(Y.primaryKey),Y.key}},primaryKey:{get:function(){var Z=Y.primaryKey;return x.addKey(Z),Z}},value:{get:function(){return U&&O.addKey(Y.primaryKey),Y.value}}})}return M})}}return u[_].apply(this,arguments)}}),v}})}};function trackAffectedIndexes(s,a,l,c){function u(d){var f=s(d.name||"");function m(v){return v!=null?d.extractKey(v):null}var g=function(v){return d.multiEntry&&isArray$1(v)?v.forEach(function(y){return f.addKey(y)}):f.addKey(v)};(l||c).forEach(function(v,y){var b=l&&m(l[y]),_=c&&m(c[y]);cmp(b,_)!==0&&(b!=null&&g(b),_!=null&&g(_))})}a.indexes.forEach(u)}function isAboveLower(s,a){return a.lower===void 0?!0:a.lowerOpen?cmp(s,a.lower)>0:cmp(s,a.lower)>=0}function isBelowUpper(s,a){return a.upper===void 0?!0:a.upperOpen?cmp(s,a.upper)<0:cmp(s,a.upper)<=0}function isWithinRange(s,a){return isAboveLower(s,a)&&isBelowUpper(s,a)}function applyOptimisticOps(s,a,l,c,u,d){if(!l||l.length===0)return s;var f=a.query.index,m=c.schema.primaryKey,g=m.extractKey,v=f.extractKey,y=(f.lowLevelIndex||f).extractKey,b=l.reduce(function(_,T){var E=_,P=T.type==="add"||T.type==="put"?T.values.filter(function(O){return isWithinRange(v(O),a.query.range)}).map(function(O){return O=deepClone(O),d&&Object.freeze(O),O}):[];switch(T.type){case"add":E=_.concat(a.values?P:P.map(function(O){return g(O)}));break;case"put":var C=new RangeSet().addKeys(T.values.map(function(O){return g(O)}));E=_.filter(function(O){var x=a.values?g(O):O;return!rangesOverlap(new RangeSet(x),C)}).concat(a.values?P:P.map(function(O){return g(O)}));break;case"delete":var S=new RangeSet().addKeys(T.keys);E=_.filter(function(O){var x=a.values?g(O):O;return!rangesOverlap(new RangeSet(x),S)});break;case"deleteRange":var N=T.range;E=_.filter(function(O){return!isWithinRange(g(O),N)});break}return E},s);return b===s?s:(b.sort(function(_,T){return cmp(y(_),y(T))||cmp(g(_),g(T))}),a.limit&&a.limit<1/0&&(b.length>a.limit?b.length=a.limit:s.length===a.limit&&b.length<a.limit&&(u.dirty=!0)),d?Object.freeze(b):b)}function areRangesEqual(s,a){return cmp(s.lower,a.lower)===0&&cmp(s.upper,a.upper)===0&&!!s.lowerOpen==!!a.lowerOpen&&!!s.upperOpen==!!a.upperOpen}function compareLowers(s,a,l,c){if(s===void 0)return a!==void 0?-1:0;if(a===void 0)return 1;var u=cmp(s,a);if(u===0){if(l&&c)return 0;if(l)return 1;if(c)return-1}return u}function compareUppers(s,a,l,c){if(s===void 0)return a!==void 0?1:0;if(a===void 0)return-1;var u=cmp(s,a);if(u===0){if(l&&c)return 0;if(l)return-1;if(c)return 1}return u}function isSuperRange(s,a){return compareLowers(s.lower,a.lower,s.lowerOpen,a.lowerOpen)<=0&&compareUppers(s.upper,a.upper,s.upperOpen,a.upperOpen)>=0}function findCompatibleQuery(s,a,l,c){var u=cache$1["idb://".concat(s,"/").concat(a)];if(!u)return[];var d=u.queries[l];if(!d)return[null,!1,u,null];var f=c.query?c.query.index.name:null,m=d[f||""];if(!m)return[null,!1,u,null];switch(l){case"query":var g=m.find(function(b){return b.req.limit===c.limit&&b.req.values===c.values&&areRangesEqual(b.req.query.range,c.query.range)});if(g)return[g,!0,u,m];var v=m.find(function(b){var _="limit"in b.req?b.req.limit:1/0;return _>=c.limit&&(c.values?b.req.values:!0)&&isSuperRange(b.req.query.range,c.query.range)});return[v,!1,u,m];case"count":var y=m.find(function(b){return areRangesEqual(b.req.query.range,c.query.range)});return[y,!!y,u,m]}}function subscribeToCacheEntry(s,a,l,c){s.subscribers.add(l),c.addEventListener("abort",function(){s.subscribers.delete(l),s.subscribers.size===0&&enqueForDeletion(s,a)})}function enqueForDeletion(s,a){setTimeout(function(){s.subscribers.size===0&&delArrayItem(a,s)},3e3)}var cacheMiddleware={stack:"dbcore",level:0,name:"Cache",create:function(s){var a=s.schema.name,l=__assign(__assign({},s),{transaction:function(c,u,d){var f=s.transaction(c,u,d);if(u==="readwrite"){var m=new AbortController,g=m.signal,v=function(y){return function(){if(m.abort(),u==="readwrite"){for(var b=new Set,_=0,T=c;_<T.length;_++){var E=T[_],P=cache$1["idb://".concat(a,"/").concat(E)],C=s.table(E);if(P){var S=P.optimisticOps.filter(function(K){return K.trans===f});if(S.length>0){P.optimisticOps=P.optimisticOps.filter(function(K){return K.trans!==f});for(var N=0,O=Object.values(P.queries.query);N<O.length;N++)for(var x=O[N],A=0,L=x.slice();A<L.length;A++){var $=L[A];if($.res!=null&&f.mutatedParts)if(y&&!$.dirty){var B=Object.isFrozen($.res),M=applyOptimisticOps($.res,$.req,S,C,$,B);$.dirty?(delArrayItem(x,$),$.subscribers.forEach(function(K){return b.add(K)})):M!==$.res&&($.res=M,$.promise=DexiePromise.resolve({result:M}))}else $.dirty&&delArrayItem(x,$),$.subscribers.forEach(function(K){return b.add(K)})}}}}b.forEach(function(K){return K()})}}};f.addEventListener("abort",v(!1),{signal:g}),f.addEventListener("error",v(!1),{signal:g}),f.addEventListener("complete",v(!0),{signal:g})}return f},table:function(c){var u=s.table(c),d=u.schema.primaryKey,f=__assign(__assign({},u),{mutate:function(m){if(d.outbound||PSD.trans.db._options.cache==="disabled")return u.mutate(m);var g=cache$1["idb://".concat(a,"/").concat(c)];if(!g)return u.mutate(m);var v=u.mutate(m);return(m.type==="add"||m.type==="put")&&(m.values.length>=50||getEffectiveKeys(d,m).some(function(y){return y==null}))?v.then(function(y){var b=__assign(__assign({},m),{values:m.values.map(function(_,T){var E=d.keyPath.includes(".")?deepClone(_):__assign({},_);return setByKeyPath(E,d.keyPath,y.results[T]),E})});g.optimisticOps.push(b),queueMicrotask(function(){return signalSubscribersLazily(m.mutatedParts)})}):(g.optimisticOps.push(m),signalSubscribersLazily(m.mutatedParts),v.catch(function(){delArrayItem(g.optimisticOps,m),signalSubscribersLazily(m.mutatedParts)})),v},query:function(m){if(!isCachableContext(PSD,u)||!isCachableRequest("query",m))return u.query(m);var g=PSD.trans.db._options.cache==="immutable",v=PSD,y=v.requery,b=v.signal,_=findCompatibleQuery(a,c,"query",m),T=_[0],E=_[1],P=_[2],C=_[3];if(T&&E)T.obsSet=m.obsSet;else{var S=u.query(m).then(function(N){var O=N.result;if(T.res=O,g){for(var x=0,A=O.length;x<A;++x)Object.freeze(O[x]);Object.freeze(O)}else N.result=deepClone(O);return N}).catch(function(N){return C&&T&&delArrayItem(C,T),Promise.reject(N)});T={obsSet:m.obsSet,promise:S,subscribers:new Set,type:"query",req:m,dirty:!1},C?C.push(T):(C=[T],P||(P=cache$1["idb://".concat(a,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),P.queries.query[m.query.index.name||""]=C)}return subscribeToCacheEntry(T,C,y,b),T.promise.then(function(N){return{result:applyOptimisticOps(N.result,m,P==null?void 0:P.optimisticOps,u,T,g)}})}});return f}});return l}};function vipify(s,a){return new Proxy(s,{get:function(l,c,u){return c==="db"?a:Reflect.get(l,c,u)}})}var Dexie$1=function(){function s(a,l){var c=this;this._middlewares={},this.verno=0;var u=s.dependencies;this._options=l=__assign({addons:s.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange};var d=l.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:nop,dbReadyPromise:null,cancelOpen:nop,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};f.dbReadyPromise=new DexiePromise(function(g){f.dbReadyResolve=g}),f.openCanceller=new DexiePromise(function(g,v){f.cancelOpen=v}),this._state=f,this.name=a,this.on=Events(this,"populate","blocked","versionchange","close",{ready:[promisableChain,nop]}),this.on.ready.subscribe=override(this.on.ready.subscribe,function(g){return function(v,y){s.vip(function(){var b=c._state;if(b.openComplete)b.dbOpenError||DexiePromise.resolve().then(v),y&&g(v);else if(b.onReadyBeingFired)b.onReadyBeingFired.push(v),y&&g(v);else{g(v);var _=c;y||g(function T(){_.on.ready.unsubscribe(v),_.on.ready.unsubscribe(T)})}})}}),this.Collection=createCollectionConstructor(this),this.Table=createTableConstructor(this),this.Transaction=createTransactionConstructor(this),this.Version=createVersionConstructor(this),this.WhereClause=createWhereClauseConstructor(this),this.on("versionchange",function(g){g.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1}),c._state.openComplete=!1}),this.on("blocked",function(g){!g.newVersion||g.newVersion<g.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(g.oldVersion/10))}),this._maxKey=getMaxKey(l.IDBKeyRange),this._createTransaction=function(g,v,y,b){return new c.Transaction(g,v,y,c._options.chromeTransactionDurability,b)},this._fireOnBlocked=function(g){c.on("blocked").fire(g),connections.filter(function(v){return v.name===c.name&&v!==c&&!v._state.vcFired}).map(function(v){return v.on("versionchange").fire(g)})},this.use(cacheExistingValuesMiddleware),this.use(cacheMiddleware),this.use(observabilityMiddleware),this.use(virtualIndexMiddleware),this.use(hooksMiddleware);var m=new Proxy(this,{get:function(g,v,y){if(v==="_vip")return!0;if(v==="table")return function(_){return vipify(c.table(_),m)};var b=Reflect.get(g,v,y);return b instanceof Table?vipify(b,m):v==="tables"?b.map(function(_){return vipify(_,m)}):v==="_createTransaction"?function(){var _=b.apply(this,arguments);return vipify(_,m)}:b}});this.vip=m,d.forEach(function(g){return g(c)})}return s.prototype.version=function(a){if(isNaN(a)||a<.1)throw new exceptions.Type("Given version is not a positive number");if(a=Math.round(a*10)/10,this.idbdb||this._state.isBeingOpened)throw new exceptions.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var l=this._versions,c=l.filter(function(u){return u._cfg.version===a})[0];return c||(c=new this.Version(a),l.push(c),l.sort(lowerVersionFirst),c.stores({}),this._state.autoSchema=!1,c)},s.prototype._whenReady=function(a){var l=this;return this.idbdb&&(this._state.openComplete||PSD.letThrough||this._vip)?a():new DexiePromise(function(c,u){if(l._state.openComplete)return u(new exceptions.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._options.autoOpen){u(new exceptions.DatabaseClosed);return}l.open().catch(nop)}l._state.dbReadyPromise.then(c,u)}).then(a)},s.prototype.use=function(a){var l=a.stack,c=a.create,u=a.level,d=a.name;d&&this.unuse({stack:l,name:d});var f=this._middlewares[l]||(this._middlewares[l]=[]);return f.push({stack:l,create:c,level:u==null?10:u,name:d}),f.sort(function(m,g){return m.level-g.level}),this},s.prototype.unuse=function(a){var l=a.stack,c=a.name,u=a.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(d){return u?d.create!==u:c?d.name!==c:!1})),this},s.prototype.open=function(){var a=this;return usePSD(globalPSD,function(){return dexieOpen(a)})},s.prototype._close=function(){var a=this._state,l=connections.indexOf(this);if(l>=0&&connections.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.dbReadyPromise=new DexiePromise(function(c){a.dbReadyResolve=c}),a.openCanceller=new DexiePromise(function(c,u){a.cancelOpen=u})},s.prototype.close=function(a){var l=a===void 0?{disableAutoOpen:!0}:a,c=l.disableAutoOpen;this._close();var u=this._state;c&&(this._options.autoOpen=!1),u.dbOpenError=new exceptions.DatabaseClosed,u.isBeingOpened&&u.cancelOpen(u.dbOpenError)},s.prototype.delete=function(){var a=this,l=arguments.length>0,c=this._state;return new DexiePromise(function(u,d){var f=function(){a.close({disableAutoOpen:!1});var m=a._deps.indexedDB.deleteDatabase(a.name);m.onsuccess=wrap(function(){_onDatabaseDeleted(a._deps,a.name),u()}),m.onerror=eventRejectHandler(d),m.onblocked=a._fireOnBlocked};if(l)throw new exceptions.InvalidArgument("Arguments not allowed in db.delete()");c.isBeingOpened?c.dbReadyPromise.then(f):f()})},s.prototype.backendDB=function(){return this.idbdb},s.prototype.isOpen=function(){return this.idbdb!==null},s.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},s.prototype.hasFailed=function(){return this._state.dbOpenError!==null},s.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(s.prototype,"tables",{get:function(){var a=this;return keys(this._allTables).map(function(l){return a._allTables[l]})},enumerable:!1,configurable:!0}),s.prototype.transaction=function(){var a=extractTransactionArgs.apply(this,arguments);return this._transaction.apply(this,a)},s.prototype._transaction=function(a,l,c){var u=this,d=PSD.trans;(!d||d.db!==this||a.indexOf("!")!==-1)&&(d=null);var f=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");var m,g;try{if(g=l.map(function(y){var b=y instanceof u.Table?y.name:y;if(typeof b!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return b}),a=="r"||a===READONLY)m=READONLY;else if(a=="rw"||a==READWRITE)m=READWRITE;else throw new exceptions.InvalidArgument("Invalid transaction mode: "+a);if(d){if(d.mode===READONLY&&m===READWRITE)if(f)d=null;else throw new exceptions.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");d&&g.forEach(function(y){if(d&&d.storeNames.indexOf(y)===-1)if(f)d=null;else throw new exceptions.SubTransaction("Table "+y+" not included in parent transaction.")}),f&&d&&!d.active&&(d=null)}}catch(y){return d?d._promise(null,function(b,_){_(y)}):rejection(y)}var v=enterTransactionScope.bind(null,this,m,g,d,c);return d?d._promise(m,v,"lock"):PSD.trans?usePSD(PSD.transless,function(){return u._whenReady(v)}):this._whenReady(v)},s.prototype.table=function(a){if(!hasOwn$1(this._allTables,a))throw new exceptions.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},s}(),symbolObservable=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",Observable=function(){function s(a){this._subscribe=a}return s.prototype.subscribe=function(a,l,c){return this._subscribe(!a||typeof a=="function"?{next:a,error:l,complete:c}:a)},s.prototype[symbolObservable]=function(){return this},s}(),domDeps;try{domDeps={indexedDB:_global.indexedDB||_global.mozIndexedDB||_global.webkitIndexedDB||_global.msIndexedDB,IDBKeyRange:_global.IDBKeyRange||_global.webkitIDBKeyRange}}catch(s){domDeps={indexedDB:null,IDBKeyRange:null}}function liveQuery(s){var a=!1,l,c=new Observable(function(u){var d=isAsyncFunction(s);function f(C){var S=beginMicroTickScope();try{d&&incrementExpectedAwaits();var N=newScope(s,C);return d&&N.finally(decrementExpectedAwaits),N}finally{S&&endMicroTickScope()}}var m=!1,g,v={},y={},b={get closed(){return m},unsubscribe:function(){m||(m=!0,g&&g.abort(),_&&globalEvents.storagemutated.unsubscribe(E))}};u.start&&u.start(b);var _=!1;function T(){return obsSetsOverlap(y,v)}var E=function(C){extendObservabilitySet(v,C),T()&&P()},P=function(){if(!(m||!domDeps.indexedDB)){v={};var C={};g&&g.abort(),g=new AbortController;var S={subscr:C,signal:g.signal,requery:P,querier:s,trans:null},N=f(S);Promise.resolve(N).then(function(O){a=!0,l=O,!(m||S.signal.aborted)&&(v={},y=C,!objectIsEmpty(y)&&!_&&(globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,E),_=!0),u.next&&u.next(O))},function(O){if(a=!1,!["DatabaseClosedError","AbortError"].includes(O==null?void 0:O.name)){if(m)return;u.error&&u.error(O)}})}};return P(),b});return c.hasValue=function(){return a},c.getValue=function(){return l},c}var Dexie=Dexie$1;props$1(Dexie,__assign(__assign({},fullNameExceptions),{delete:function(s){var a=new Dexie(s,{addons:[]});return a.delete()},exists:function(s){return new Dexie(s,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return getDatabaseNames(Dexie.dependencies).then(s)}catch{return rejection(new exceptions.MissingAPI)}},defineClass:function(){function s(a){extend(this,a)}return s},ignoreTransaction:function(s){return PSD.trans?usePSD(PSD.transless,s):s()},vip,async:function(s){return function(){try{var a=awaitIterator(s.apply(this,arguments));return!a||typeof a.then!="function"?DexiePromise.resolve(a):a}catch(l){return rejection(l)}}},spawn:function(s,a,l){try{var c=awaitIterator(s.apply(l,a||[]));return!c||typeof c.then!="function"?DexiePromise.resolve(c):c}catch(u){return rejection(u)}},currentTransaction:{get:function(){return PSD.trans||null}},waitFor:function(s,a){var l=DexiePromise.resolve(typeof s=="function"?Dexie.ignoreTransaction(s):s).timeout(a||6e4);return PSD.trans?PSD.trans.waitFor(l):l},Promise:DexiePromise,debug:{get:function(){return debug},set:function(s){setDebug(s,s==="dexie"?function(){return!0}:dexieStackFrameFilter)}},derive,extend,props:props$1,override,Events,on:globalEvents,liveQuery,extendObservabilitySet,getByKeyPath,setByKeyPath,delByKeyPath,shallowClone,deepClone,getObjectDiff,cmp,asap:asap$1,minKey,addons:[],connections,errnames,dependencies:domDeps,cache:cache$1,semVer:DEXIE_VERSION,version:DEXIE_VERSION.split(".").map(function(s){return parseInt(s)}).reduce(function(s,a,l){return s+a/Math.pow(10,l*2)})}));Dexie.maxKey=getMaxKey(Dexie.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,function(s){if(!propagatingLocally){var a;isIEOrEdge?(a=document.createEvent("CustomEvent"),a.initCustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME,!0,!0,s)):a=new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME,{detail:s}),propagatingLocally=!0,dispatchEvent(a),propagatingLocally=!1}}),addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME,function(s){var a=s.detail;propagatingLocally||propagateLocally(a)}));function propagateLocally(s){var a=propagatingLocally;try{propagatingLocally=!0,globalEvents.storagemutated.fire(s),signalSubscribersNow(s,!0)}finally{propagatingLocally=a}}var propagatingLocally=!1;if(typeof BroadcastChannel!="undefined"){var bc_1=new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);typeof bc_1.unref=="function"&&bc_1.unref(),globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,function(s){propagatingLocally||bc_1.postMessage(s)}),bc_1.onmessage=function(s){s.data&&propagateLocally(s.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,function(s){try{propagatingLocally||(typeof localStorage!="undefined"&&localStorage.setItem(STORAGE_MUTATED_DOM_EVENT_NAME,JSON.stringify({trig:Math.random(),changedParts:s})),typeof self.clients=="object"&&__spreadArray([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(a){return a.postMessage({type:STORAGE_MUTATED_DOM_EVENT_NAME,changedParts:s})}))}catch{}}),typeof addEventListener!="undefined"&&addEventListener("storage",function(s){if(s.key===STORAGE_MUTATED_DOM_EVENT_NAME){var a=JSON.parse(s.newValue);a&&propagateLocally(a.changedParts)}});var swContainer=self.document&&navigator.serviceWorker;swContainer&&swContainer.addEventListener("message",propagateMessageLocally)}function propagateMessageLocally(s){var a=s.data;a&&a.type===STORAGE_MUTATED_DOM_EVENT_NAME&&propagateLocally(a.changedParts)}DexiePromise.rejectionMapper=mapError;setDebug(debug,dexieStackFrameFilter);class Database extends Dexie$1{constructor(...l){super("orgnote");Ee(this,"currentVersion",13);this.initSchema(l),this.open()}initSchema(l){const c=this.getCombinedStoresSchema(l);this.version(this.currentVersion).stores(c)}getCombinedStoresSchema(l){return l.reduce((u,d)=>(u[d.storeName]=d.indexes,u),{})}}const xe=class extends BaseRepository{get store(){return this.db.table(xe.storeName)}async save(a){await this.store.put(a)}async deleteByName(a){await this.store.where("name").equals(a).delete()}async getByName(a){return this.store.get({name:a})}async getFirst(){return this.store.toCollection().first()}};let FileRepository=xe;Ee(FileRepository,"storeName","files"),Ee(FileRepository,"indexes","++id, name");const ke=class extends BaseRepository{get store(){return this.db.table(ke.storeName)}async getAll(){var a;return(a=await this.store.toCollection().first())==null?void 0:a.fileTree}async upsert(a){await this.store.put({key:ke.storeName,fileTree:a})}};let FileManagerRepository=ke;Ee(FileManagerRepository,"storeName","file-manager"),Ee(FileManagerRepository,"indexes","&key");const db=new Database(NoteRepository,FileRepository,FileManagerRepository),repositories={notes:new NoteRepository(db),files:new FileRepository(db),fileManager:new FileManagerRepository(db)};var repositories$1=({app:s})=>{s.config.globalProperties.$db=db,s.config.globalProperties.$repositories=repositories},repositories$2=Object.freeze(Object.defineProperty({__proto__:null,default:repositories$1,db,repositories},Symbol.toStringTag,{value:"Module"}));const useSyncStore=defineStore("sync",()=>{const s=ref(),a=useNotesStore(),l=useAuthStore();return{syncNotes:async()=>{var f,m;if(!l.user||l.user.isAnonymous)return;const u=await repositories.notes.getNotesAfterUpdateTime(s.value),d=(await repositories.notes.getDeletedNotes()).map(g=>g.id);try{const g=await sdk.notes.notesSyncPost({notes:u,deletedNotesIds:d,timestamp:(f=s.value)!=null?f:new Date(0).toISOString()});a.deleteNotes(g.data.data.deletedNotes.map(v=>v.id)),a.upsertNotes(g.data.data.notes),s.value=new Date().toISOString()}catch(g){if(((m=g.response)==null?void 0:m.status)===401)return;throw g}},lastSyncTime:s}},{persist:!0}),defaultUserAccount=()=>({id:v4(),nickName:"Anonymous",isAnonymous:!0}),useAuthStore=defineStore("auth",()=>{const s=ref(),a=ref(),l=ref("github"),c=async()=>{try{const v=(await sdk.auth.authProviderLoginGet(l.value)).data;window.location.replace(v.data.redirectUrl)}catch(v){console.log("\u270E: [line 22][auth.ts] e: ",v)}},u=()=>{a.value=defaultUserAccount(),s.value=null},d=async()=>{useSettingsStore().reset(),u(),await sdk.auth.authLogoutGet()},f=async()=>{if(!s.value||a.value.isAnonymous){u();return}try{const{data:v}=(await sdk.auth.authVerifyGet()).data;a.value=v}catch(v){v.response.status===400&&u()}},m=useSyncStore();return{token:s,user:a,provider:l,authViaGithub:c,logout:d,verifyUser:f,authUser:(v,y)=>{a.value=v,s.value=y,m.syncNotes()}}},{persist:!0});var RouteNames=(s=>(s.Home="Home",s.UserNotes="UserNotes",s.NoteList="NoteList",s.NoteDetail="NoteDetail",s.AuthPage="AuthPage",s.NotFound="NotFound",s.UserGraph="UserGraph",s.EditNote="EditNote",s.ApiSettings="ApiSettings",s.ViewSettings="ViewSettings",s.CommonSettings="CommonSettings",s.Extensions="Extensions",s.Keybindings="Keybindings",s.RawEditor="Raw editor",s.WysiwygEditor="WYSIWYG editor",s.PreviewEditor="Preview editor",s))(RouteNames||{});const MAIN_PAGE_ROUTE={path:"/",component:()=>__vitePreload(()=>import("./MainLayout.cb3693c1.js"),["assets/MainLayout.cb3693c1.js","assets/MainLayout.8dcb8154.css","assets/QFooter.4d1ffcb9.js","assets/ClosePopup.6775e2be.js","assets/selection.f044c102.js","assets/TouchPan.20c65915.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/ActionBtn.fe20e2cb.js","assets/ActionBtn.a97f43d5.css","assets/AsyncItemContainer.c33b9601.js"]),name:"Home",children:[{path:"auth/login",name:"AuthPage",component:()=>__vitePreload(()=>import("./AuthPage.ffa3e148.js"),[]),meta:{programmaticalNavigation:!1}},{path:"extensions",name:"Extensions",component:()=>__vitePreload(()=>import("./ExtensionsPage.0990241f.js"),["assets/ExtensionsPage.0990241f.js","assets/QPage.6c51e21a.js","assets/plugin-vue_export-helper.21dcd24c.js"]),beforeEnter:()=>useAuthStore().user?!0:{name:"NoteList"}},{path:"note-editor/:id?",name:"EditNote",component:()=>__vitePreload(()=>import("./NoteEditorPage.099b5285.js"),["assets/NoteEditorPage.099b5285.js","assets/NoteEditorPage.29a4e638.css","assets/TouchPan.20c65915.js","assets/selection.f044c102.js","assets/QPage.6c51e21a.js","assets/change-toolbar-actions.cbc5385b.js","assets/plugin-vue_export-helper.21dcd24c.js"]),redirect:{name:"Raw editor"},children:[{path:"raw",name:"Raw editor",component:()=>__vitePreload(()=>import("./NoteRawEditorPage.d45d112d.js"),["assets/NoteRawEditorPage.d45d112d.js","assets/RawEditor.331f2bc0.js","assets/RawEditor.555dfdc3.css","assets/ActionBtn.fe20e2cb.js","assets/ActionBtn.a97f43d5.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/ClosePopup.6775e2be.js","assets/selection.f044c102.js","assets/PublicNotePreview.3f55e05d.js","assets/PublicNotePreview.1bf337f4.css"])},{name:"WYSIWYG editor",path:"wysiwyg",component:()=>__vitePreload(()=>import("./NoteWysiwygEditorPage.9c8cec8f.js"),[])},{name:"Preview editor",path:"preview",component:()=>__vitePreload(()=>import("./NotePreviewEditorPage.75fcc569.js"),["assets/NotePreviewEditorPage.75fcc569.js","assets/NotePreviewEditorPage.2f4e113d.css","assets/NoteDetail.f38dd1f6.js","assets/NoteDetail.a8f5df08.css","assets/change-toolbar-actions.cbc5385b.js","assets/RawEditor.331f2bc0.js","assets/RawEditor.555dfdc3.css","assets/ActionBtn.fe20e2cb.js","assets/ActionBtn.a97f43d5.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/ClosePopup.6775e2be.js","assets/selection.f044c102.js","assets/PublicNotePreview.3f55e05d.js","assets/PublicNotePreview.1bf337f4.css"])}]},{path:"detail/:id",name:"NoteDetail",component:()=>__vitePreload(()=>import("./NoteDetailPage.576991fd.js"),["assets/NoteDetailPage.576991fd.js","assets/QPage.6c51e21a.js","assets/PublicNotePreview.3f55e05d.js","assets/PublicNotePreview.1bf337f4.css","assets/ClosePopup.6775e2be.js","assets/selection.f044c102.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/NoteDetail.f38dd1f6.js","assets/NoteDetail.a8f5df08.css","assets/change-toolbar-actions.cbc5385b.js","assets/RawEditor.331f2bc0.js","assets/RawEditor.555dfdc3.css","assets/ActionBtn.fe20e2cb.js","assets/ActionBtn.a97f43d5.css"])},{path:":userId/graph",name:"UserGraph",component:()=>__vitePreload(()=>import("./UserGraphPage.67f465d8.js"),["assets/UserGraphPage.67f465d8.js","assets/UserGraphPage.373e1de1.css","assets/_commonjsHelpers.2cf1d77b.js"])},{path:":userId",name:"UserNotes",component:()=>__vitePreload(()=>import("./PrivateNotesPage.9510e1c3.js"),["assets/PrivateNotesPage.9510e1c3.js","assets/PrivateNotesPage.714524dc.css","assets/ClosePopup.6775e2be.js","assets/selection.f044c102.js","assets/NoteList.6d44b4e3.js","assets/NoteList.46da2f2b.css","assets/PublicNotePreview.3f55e05d.js","assets/PublicNotePreview.1bf337f4.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/AsyncItemContainer.c33b9601.js","assets/QFooter.4d1ffcb9.js"])},{path:"",name:"NoteList",component:()=>__vitePreload(()=>import("./PublicNotesPage.45748670.js"),["assets/PublicNotesPage.45748670.js","assets/PublicNotesPage.8cfd14c2.css","assets/NoteList.6d44b4e3.js","assets/NoteList.46da2f2b.css","assets/PublicNotePreview.3f55e05d.js","assets/PublicNotePreview.1bf337f4.css","assets/ClosePopup.6775e2be.js","assets/selection.f044c102.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/AsyncItemContainer.c33b9601.js"])},{path:"/:catchAll(.*)*",name:"NotFound",component:()=>__vitePreload(()=>import("./ErrorNotFoundPage.9c844080.js"),["assets/ErrorNotFoundPage.9c844080.js","assets/ErrorNotFoundPage.15677b30.css"])}]},routes=[MAIN_PAGE_ROUTE],useNoteCreatorStore=defineStore("noteCreatorStore",()=>{const s=u=>{const d=new Date().toISOString();return{createAt:d,updateAt:d,...u}},a=useNotesStore(),l=useRouter();return{create:async(u,d,f)=>{u!=null||(u=v4()),d!=null||(d=["Untitled.org"]);const m=d[d.length-1],g=getInitialNoteTemplate(u,getFileNameWithoutExtension(m)),v=withMetaInfo(parse$1(g)),y=s({content:g,id:u,filePath:d,isMy:!0,meta:v.meta});await a.upsertNotesLocally([y]),l.push({name:RouteNames.EditNote,params:{id:y.id}})}}}),useFileManagerStore=defineStore("file-manager",()=>{const s=ref(),a=ref();repositories.fileManager.getAll().then(T=>{s.value=T||{}});const l=debounce(async()=>{const T=await repositories.notes.getFilePaths(),E=buildFileTree(T);s.value=mergeFilesTrees(s.value,E),Object.keys(s.value).length&&await repositories.fileManager.upsert(toDeepRaw(s.value))},300),c=async()=>{l()},u=async T=>{const E="Untitled",P=T?[...T.filePath,T.name]:[],C={name:E,filePath:P,id:v4(),type:"folder",children:{}};a.value=C,s.value=addFileToTree(s.value,C),await _()},d=useNoteCreatorStore(),f=async T=>{var x,A;const E=(x=T==null?void 0:T.children)!=null?x:s.value,P=getUniqueFileName(E),C=v4(),S=`${P}.org`,N=T?[...(A=T==null?void 0:T.filePath)!=null?A:[],T.name,S]:[S],O={name:S,filePath:N,id:C,type:"file"};s.value=addFileToTree(s.value,O),a.value=O,await d.create(C,O.filePath)},m=()=>{a.value=null},g=computed(()=>convertFileTreeToFlatTree(s.value)),v=useNotesStore(),y=async T=>{const[E,P]=deletePathFromTree(s.value,T);s.value=E,await v.markAsDeleted(P)},b=async(T,E)=>{const[P,C]=renameFileInTree(s.value,T,E);s.value=P;const S=C.map(N=>({id:N.id,changes:{filePath:N.filePath}}));await v.bulkPathNotesLocally(S),await _()},_=async()=>await repositories.fileManager.upsert(toDeepRaw(s.value));return onMounted(()=>c()),{fileTree:s,fileManager:g,createFile:f,renameFile:b,deleteFile:y,updateFileManager:c,createFolder:u,editedFileItem:a,stopEdit:m}}),DEFAULT_LIMIT=20,DEFAULT_OFFSET=0,useNotesStore=defineStore("notes",()=>{const s=ref([]),a=ref({limit:DEFAULT_LIMIT,offset:DEFAULT_OFFSET}),l=ref(0),c=ref(),u=P=>{var S;const C={...a.value,...P};C.searchText=(S=C.searchText)==null?void 0:S.trim(),C.limit||(C.limit=DEFAULT_LIMIT),C.offset||(C.offset=DEFAULT_OFFSET),a.value=C},d=async P=>{await repositories.notes.deleteNotes(P),s.value=s.value.filter(C=>!P.includes(C.id)),await v.updateFileManager()},f=async P=>{await repositories.notes.markAsDeleted(P),await v.updateFileManager()},m=async P=>{await repositories.notes.saveNotes(P),E()},g=useSyncStore(),v=useFileManagerStore(),y=async P=>{await m(P),await g.syncNotes(),await v.updateFileManager()},b=async P=>{await repositories.notes.bulkPartialUpdate(P),s.value=s.value.map(C=>{const S=P.find(N=>N.id===C.id);return S?{...C,...S.changes,updateAt:new Date().toISOString()}:C}),await g.syncNotes()},_=async(P,C)=>{if(a.value.offset===P)return;u({offset:P});const S=await repositories.notes.getNotePreviews(C,P,a.value.searchText),N=[...s.value];S.forEach((O,x)=>{N[x+P]=O}),s.value=N},T=async P=>{try{await sdk.notes.notesPost(P),E(),g.syncNotes()}catch(C){console.log("\u270E: [line 68][notes.ts] e: ",C)}},E=async()=>{s.value=await repositories.notes.getNotePreviews(a.value.limit,a.value.offset),l.value=await repositories.notes.count()};return{notes:s,selectedNote:c,total:l,filters:a,markAsDeleted:f,loadNotes:E,deleteNotes:d,fetchNotes:_,setFilters:u,createNote:T,upsertNotes:m,upsertNotesLocally:y,bulkPathNotesLocally:b}}),defaultCompletionLimit=500,useCompletionStore=defineStore("completion",()=>{const s=ref([]),a=ref(),l=ref(""),c=ref(!1),u=ref(!1),d=ref(),f=ref(),m=ref(null),g=ref(null),v=$=>{g.value=$},y=$=>{v($.itemsGetter),f.value=$.placeholder,s.value=[],l.value="",m.value=0,T(l.value)},b=()=>{s.value=[]};watch(()=>l.value,$=>{T($)});const _=($,B)=>{const M=[...s.value];$.result.forEach((K,Y)=>{M[Y+B]=K}),s.value=M,d.value=$.total},T=($=defaultCompletionLimit,B=0)=>{m.value=0;const M=g.value(l.value,$,B);if(typeof(M==null?void 0:M.then)=="function"){u.value=!0,M.then(K=>{_(K,B),u.value=!1});return}_(M,B)},E=()=>{c.value=!0},P=()=>{c.value=!c.value},C=()=>{c.value=!1},S=$=>{m.value=$},N=()=>{!c.value||(m.value===null?m.value=1:m.value===d.value-1?m.value=0:m.value++,a.value=m.value)},O=()=>{!c.value||(m.value===null?m.value=s.value.length-1:m.value===0?m.value=d.value-1:m.value--,a.value=m.value)},x=computed(()=>{var $;return($=m.value)!=null?$:0}),A=computed(()=>{var $;return m.value===null?($=s.value)==null?void 0:$[0]:s.value[m.value]});return{candidates:s,clearCandidates:b,search:T,closeCompletion:C,toggleCompletion:P,opened:c,filter:l,selectedCandidateIndex:m,nextCandidate:N,previousCandidate:O,selectedCandidate:A,selectedIndex:x,openCompletion:E,initNewCompletion:y,total:d,focusCandidate:S,candidateSelectedByDirection:a,placeholder:f,restoreLastCompletionSession:()=>{c.value||!g.value||(c.value=!0)}}}),DEFAULT_KEYBINDING_GROUP="default",useKeybindingStore=defineStore("keybindings",()=>{const s=ref({}),a=computed(()=>Object.values(s.value).reduce((_,T)=>{var P;const E=T.group;return(P=_[E])!=null||(_[E]=[]),_[E].push(T),_},{})),l=computed(()=>Object.values(s.value));let c=[];const u=()=>{c.forEach(_=>_()),c=[]},d=_=>{const T={...s.value};T[_]&&delete T[_],s.value=T},f=()=>{Object.values(s.value).forEach(_=>{const T={[_.keySequence]:_.handler};c.push(hotkeys(window,T,!_.allowOnInput))})},m=useCompletionStore();return{keybindingList:l,executeCommand:({command:_,commandHandler:T})=>{var E,P;if(T){T(),m.closeCompletion();return}(P=(E=s.value[_])==null?void 0:E.handler)==null||P.call(E)},registerKeybindings:_=>{u();const T=_.reduce((E,P)=>{var C;return(C=P.group)!=null||(P.group=DEFAULT_KEYBINDING_GROUP),E[P.command]=P,E},{});s.value={...s.value,...T},f()},deleteKeybinding:d,groupedKeybindings:a,uregisterKeybindings:_=>{u(),_.forEach(T=>{delete s.value[T.command]}),f()},initCompletion:()=>{const _=l.value.filter(E=>!E.ignorePrompt).map(E=>({command:E.command,description:E.description,group:E.group,icon:"settings"})),T=E=>{const P=_.filter(C=>C.command.includes(E));return{total:P.length,result:P}};m.initNewCompletion({itemsGetter:T,placeholder:"search command"})}}});var COMMAND=(s=>(s.openSearch="openSearch",s.restoreLastCompletionSession="restoreLastCompletionSession",s.toggleExecuteCommand="toggleExecuteCommand",s))(COMMAND||{});function useCommandExecutor(){const{registerKeybindings:s,executeCommand:a,uregisterKeybindings:l}=useKeybindingStore(),c=useCompletionStore(),u=useKeybindingStore(),d=useSearchStore(),f=useRouter(),m=f.getRoutes().filter(T=>{var E;return T.name&&!T.path.includes(":")&&((E=T==null?void 0:T.meta)==null?void 0:E.programmaticalNavigation)!==!1}).map(T=>({command:camelCaseToWords(T.name.toString()),description:`Open ${T.name.toString()}`,group:"Navigation",handler:()=>f.push({name:T.name})})),g=[{command:"toggleExecuteCommand",keySequence:"Alt+KeyX",description:"Toggle command executor",group:"Completion",allowOnInput:!0,handler:()=>{c.toggleCompletion(),u.initCompletion()}},{command:"openSearch",keySequence:"/",description:"search notes",group:"Search",handler:()=>{c.openCompletion(),d.initCompletion()}},{command:"restoreLastCompletionSession",keySequence:"'",description:" Restore last completion session",group:"Search",handler:()=>{c.restoreLastCompletionSession()}},...m],v=[{handler:()=>{c.closeCompletion()},command:"exitCommandExecutor",keySequence:"Escape",description:"Exit command executor",group:"Completion",allowOnInput:!0},{handler:()=>{c.nextCandidate()},command:"nextCandidate",keySequence:"Control+KeyJ",description:"Next candidate",group:"Completion",allowOnInput:!0},{handler:()=>{c.previousCandidate()},command:"previousCandidate",keySequence:"Control+KeyK",description:"Previous candidate",group:"Completion",allowOnInput:!0},{command:"executeCandidate",keySequence:"Enter",description:"Execute candidate",group:"Completion",allowOnInput:!0,ignorePrompt:!0,handler:()=>{!c.opened||(a(c.selectedCandidate),c.closeCompletion())}}];return{register:()=>{s(g)},registerDynamicCommands:()=>{s(v)},unregisterDynamicCommands:()=>{l(v)}}}function useQuasar(){return inject(quasarKey)}/*!
  * shared v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const inBrowser=typeof window!="undefined",makeSymbol=(s,a=!1)=>a?Symbol.for(s):Symbol(s),generateFormatCacheKey=(s,a,l)=>friendlyJSONstringify({l:s,k:a,s:l}),friendlyJSONstringify=s=>JSON.stringify(s).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),isNumber=s=>typeof s=="number"&&isFinite(s),isDate=s=>toTypeString(s)==="[object Date]",isRegExp=s=>toTypeString(s)==="[object RegExp]",isEmptyObject=s=>isPlainObject(s)&&Object.keys(s).length===0,assign$1=Object.assign;let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function escapeHtml(s){return s.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwn(s,a){return hasOwnProperty.call(s,a)}const isArray=Array.isArray,isFunction=s=>typeof s=="function",isString$1=s=>typeof s=="string",isBoolean=s=>typeof s=="boolean",isObject$1=s=>s!==null&&typeof s=="object",objectToString=Object.prototype.toString,toTypeString=s=>objectToString.call(s),isPlainObject=s=>{if(!isObject$1(s))return!1;const a=Object.getPrototypeOf(s);return a===null||a.constructor===Object},toDisplayString=s=>s==null?"":isArray(s)||isPlainObject(s)&&s.toString===objectToString?JSON.stringify(s,null,2):String(s);function join$1(s,a=""){return s.reduce((l,c,u)=>u===0?l+c:l+a+c,"")}function incrementer(s){let a=s;return()=>++a}function warn(s,a){typeof console!="undefined"&&(console.warn("[intlify] "+s),a&&console.warn(a.stack))}/*!
  * message-compiler v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function createPosition(s,a,l){return{line:s,column:a,offset:l}}function createLocation(s,a,l){const c={start:s,end:a};return l!=null&&(c.source=l),c}const RE_ARGS=/\{([0-9a-zA-Z]+)\}/g;function format$1(s,...a){return a.length===1&&isObject(a[0])&&(a=a[0]),(!a||!a.hasOwnProperty)&&(a={}),s.replace(RE_ARGS,(l,c)=>a.hasOwnProperty(c)?a[c]:"")}const assign=Object.assign,isString=s=>typeof s=="string",isObject=s=>s!==null&&typeof s=="object";function join(s,a=""){return s.reduce((l,c,u)=>u===0?l+c:l+a+c,"")}const CompileErrorCodes={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},errorMessages={[CompileErrorCodes.EXPECTED_TOKEN]:"Expected token: '{0}'",[CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[CompileErrorCodes.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[CompileErrorCodes.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[CompileErrorCodes.EMPTY_PLACEHOLDER]:"Empty placeholder",[CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[CompileErrorCodes.INVALID_LINKED_FORMAT]:"Invalid linked format",[CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function createCompileError(s,a,l={}){const{domain:c,messages:u,args:d}=l,f=format$1((u||errorMessages)[s]||"",...d||[]),m=new SyntaxError(String(f));return m.code=s,a&&(m.location=a),m.domain=c,m}function defaultOnError(s){throw s}const CHAR_SP=" ",CHAR_CR="\r",CHAR_LF=`
`,CHAR_LS=String.fromCharCode(8232),CHAR_PS=String.fromCharCode(8233);function createScanner(s){const a=s;let l=0,c=1,u=1,d=0;const f=$=>a[$]===CHAR_CR&&a[$+1]===CHAR_LF,m=$=>a[$]===CHAR_LF,g=$=>a[$]===CHAR_PS,v=$=>a[$]===CHAR_LS,y=$=>f($)||m($)||g($)||v($),b=()=>l,_=()=>c,T=()=>u,E=()=>d,P=$=>f($)||g($)||v($)?CHAR_LF:a[$],C=()=>P(l),S=()=>P(l+d);function N(){return d=0,y(l)&&(c++,u=0),f(l)&&l++,l++,u++,a[l]}function O(){return f(l+d)&&d++,d++,a[l+d]}function x(){l=0,c=1,u=1,d=0}function A($=0){d=$}function L(){const $=l+d;for(;$!==l;)N();d=0}return{index:b,line:_,column:T,peekOffset:E,charAt:P,currentChar:C,currentPeek:S,next:N,peek:O,reset:x,resetPeek:A,skipToPeek:L}}const EOF=void 0,DOT=".",LITERAL_DELIMITER="'",ERROR_DOMAIN$3="tokenizer";function createTokenizer(s,a={}){const l=a.location!==!1,c=createScanner(s),u=()=>c.index(),d=()=>createPosition(c.line(),c.column(),c.index()),f=d(),m=u(),g={currentType:14,offset:m,startLoc:f,endLoc:f,lastType:14,lastOffset:m,lastStartLoc:f,lastEndLoc:f,braceNest:0,inLinked:!1,text:""},v=()=>g,{onError:y}=a;function b(w,k,I,...F){const H=v();if(k.column+=I,k.offset+=I,y){const W=l?createLocation(H.startLoc,k):null,z=createCompileError(w,W,{domain:ERROR_DOMAIN$3,args:F});y(z)}}function _(w,k,I){w.endLoc=d(),w.currentType=k;const F={type:k};return l&&(F.loc=createLocation(w.startLoc,w.endLoc)),I!=null&&(F.value=I),F}const T=w=>_(w,14);function E(w,k){return w.currentChar()===k?(w.next(),k):(b(CompileErrorCodes.EXPECTED_TOKEN,d(),0,k),"")}function P(w){let k="";for(;w.currentPeek()===CHAR_SP||w.currentPeek()===CHAR_LF;)k+=w.currentPeek(),w.peek();return k}function C(w){const k=P(w);return w.skipToPeek(),k}function S(w){if(w===EOF)return!1;const k=w.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k===95}function N(w){if(w===EOF)return!1;const k=w.charCodeAt(0);return k>=48&&k<=57}function O(w,k){const{currentType:I}=k;if(I!==2)return!1;P(w);const F=S(w.currentPeek());return w.resetPeek(),F}function x(w,k){const{currentType:I}=k;if(I!==2)return!1;P(w);const F=w.currentPeek()==="-"?w.peek():w.currentPeek(),H=N(F);return w.resetPeek(),H}function A(w,k){const{currentType:I}=k;if(I!==2)return!1;P(w);const F=w.currentPeek()===LITERAL_DELIMITER;return w.resetPeek(),F}function L(w,k){const{currentType:I}=k;if(I!==8)return!1;P(w);const F=w.currentPeek()===".";return w.resetPeek(),F}function $(w,k){const{currentType:I}=k;if(I!==9)return!1;P(w);const F=S(w.currentPeek());return w.resetPeek(),F}function B(w,k){const{currentType:I}=k;if(!(I===8||I===12))return!1;P(w);const F=w.currentPeek()===":";return w.resetPeek(),F}function M(w,k){const{currentType:I}=k;if(I!==10)return!1;const F=()=>{const W=w.currentPeek();return W==="{"?S(w.peek()):W==="@"||W==="%"||W==="|"||W===":"||W==="."||W===CHAR_SP||!W?!1:W===CHAR_LF?(w.peek(),F()):S(W)},H=F();return w.resetPeek(),H}function K(w){P(w);const k=w.currentPeek()==="|";return w.resetPeek(),k}function Y(w){const k=P(w),I=w.currentPeek()==="%"&&w.peek()==="{";return w.resetPeek(),{isModulo:I,hasSpace:k.length>0}}function U(w,k=!0){const I=(H=!1,W="",z=!1)=>{const J=w.currentPeek();return J==="{"?W==="%"?!1:H:J==="@"||!J?W==="%"?!0:H:J==="%"?(w.peek(),I(H,"%",!0)):J==="|"?W==="%"||z?!0:!(W===CHAR_SP||W===CHAR_LF):J===CHAR_SP?(w.peek(),I(!0,CHAR_SP,z)):J===CHAR_LF?(w.peek(),I(!0,CHAR_LF,z)):!0},F=I();return k&&w.resetPeek(),F}function Z(w,k){const I=w.currentChar();return I===EOF?EOF:k(I)?(w.next(),I):null}function q(w){return Z(w,I=>{const F=I.charCodeAt(0);return F>=97&&F<=122||F>=65&&F<=90||F>=48&&F<=57||F===95||F===36})}function Q(w){return Z(w,I=>{const F=I.charCodeAt(0);return F>=48&&F<=57})}function ae(w){return Z(w,I=>{const F=I.charCodeAt(0);return F>=48&&F<=57||F>=65&&F<=70||F>=97&&F<=102})}function oe(w){let k="",I="";for(;k=Q(w);)I+=k;return I}function se(w){C(w);const k=w.currentChar();return k!=="%"&&b(CompileErrorCodes.EXPECTED_TOKEN,d(),0,k),w.next(),"%"}function fe(w){let k="";for(;;){const I=w.currentChar();if(I==="{"||I==="}"||I==="@"||I==="|"||!I)break;if(I==="%")if(U(w))k+=I,w.next();else break;else if(I===CHAR_SP||I===CHAR_LF)if(U(w))k+=I,w.next();else{if(K(w))break;k+=I,w.next()}else k+=I,w.next()}return k}function pe(w){C(w);let k="",I="";for(;k=q(w);)I+=k;return w.currentChar()===EOF&&b(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,d(),0),I}function me(w){C(w);let k="";return w.currentChar()==="-"?(w.next(),k+=`-${oe(w)}`):k+=oe(w),w.currentChar()===EOF&&b(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,d(),0),k}function de(w){C(w),E(w,"'");let k="",I="";const F=W=>W!==LITERAL_DELIMITER&&W!==CHAR_LF;for(;k=Z(w,F);)k==="\\"?I+=ye(w):I+=k;const H=w.currentChar();return H===CHAR_LF||H===EOF?(b(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,d(),0),H===CHAR_LF&&(w.next(),E(w,"'")),I):(E(w,"'"),I)}function ye(w){const k=w.currentChar();switch(k){case"\\":case"'":return w.next(),`\\${k}`;case"u":return ge(w,k,4);case"U":return ge(w,k,6);default:return b(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE,d(),0,k),""}}function ge(w,k,I){E(w,k);let F="";for(let H=0;H<I;H++){const W=ae(w);if(!W){b(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,d(),0,`\\${k}${F}${w.currentChar()}`);break}F+=W}return`\\${k}${F}`}function _e(w){C(w);let k="",I="";const F=H=>H!=="{"&&H!=="}"&&H!==CHAR_SP&&H!==CHAR_LF;for(;k=Z(w,F);)I+=k;return I}function ve(w){let k="",I="";for(;k=q(w);)I+=k;return I}function j(w){const k=(I=!1,F)=>{const H=w.currentChar();return H==="{"||H==="%"||H==="@"||H==="|"||H==="("||H===")"||!H||H===CHAR_SP?F:H===CHAR_LF||H===DOT?(F+=H,w.next(),k(I,F)):(F+=H,w.next(),k(!0,F))};return k(!1,"")}function te(w){C(w);const k=E(w,"|");return C(w),k}function X(w,k){let I=null;switch(w.currentChar()){case"{":return k.braceNest>=1&&b(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER,d(),0),w.next(),I=_(k,2,"{"),C(w),k.braceNest++,I;case"}":return k.braceNest>0&&k.currentType===2&&b(CompileErrorCodes.EMPTY_PLACEHOLDER,d(),0),w.next(),I=_(k,3,"}"),k.braceNest--,k.braceNest>0&&C(w),k.inLinked&&k.braceNest===0&&(k.inLinked=!1),I;case"@":return k.braceNest>0&&b(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,d(),0),I=ne(w,k)||T(k),k.braceNest=0,I;default:let H=!0,W=!0,z=!0;if(K(w))return k.braceNest>0&&b(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,d(),0),I=_(k,1,te(w)),k.braceNest=0,k.inLinked=!1,I;if(k.braceNest>0&&(k.currentType===5||k.currentType===6||k.currentType===7))return b(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,d(),0),k.braceNest=0,le(w,k);if(H=O(w,k))return I=_(k,5,pe(w)),C(w),I;if(W=x(w,k))return I=_(k,6,me(w)),C(w),I;if(z=A(w,k))return I=_(k,7,de(w)),C(w),I;if(!H&&!W&&!z)return I=_(k,13,_e(w)),b(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,d(),0,I.value),C(w),I;break}return I}function ne(w,k){const{currentType:I}=k;let F=null;const H=w.currentChar();switch((I===8||I===9||I===12||I===10)&&(H===CHAR_LF||H===CHAR_SP)&&b(CompileErrorCodes.INVALID_LINKED_FORMAT,d(),0),H){case"@":return w.next(),F=_(k,8,"@"),k.inLinked=!0,F;case".":return C(w),w.next(),_(k,9,".");case":":return C(w),w.next(),_(k,10,":");default:return K(w)?(F=_(k,1,te(w)),k.braceNest=0,k.inLinked=!1,F):L(w,k)||B(w,k)?(C(w),ne(w,k)):$(w,k)?(C(w),_(k,12,ve(w))):M(w,k)?(C(w),H==="{"?X(w,k)||F:_(k,11,j(w))):(I===8&&b(CompileErrorCodes.INVALID_LINKED_FORMAT,d(),0),k.braceNest=0,k.inLinked=!1,le(w,k))}}function le(w,k){let I={type:14};if(k.braceNest>0)return X(w,k)||T(k);if(k.inLinked)return ne(w,k)||T(k);switch(w.currentChar()){case"{":return X(w,k)||T(k);case"}":return b(CompileErrorCodes.UNBALANCED_CLOSING_BRACE,d(),0),w.next(),_(k,3,"}");case"@":return ne(w,k)||T(k);default:if(K(w))return I=_(k,1,te(w)),k.braceNest=0,k.inLinked=!1,I;const{isModulo:H,hasSpace:W}=Y(w);if(H)return W?_(k,0,fe(w)):_(k,4,se(w));if(U(w))return _(k,0,fe(w));break}return I}function R(){const{currentType:w,offset:k,startLoc:I,endLoc:F}=g;return g.lastType=w,g.lastOffset=k,g.lastStartLoc=I,g.lastEndLoc=F,g.offset=u(),g.startLoc=d(),c.currentChar()===EOF?_(g,14):le(c,g)}return{nextToken:R,currentOffset:u,currentPosition:d,context:v}}const ERROR_DOMAIN$2="parser",KNOWN_ESCAPES=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fromEscapeSequence(s,a,l){switch(s){case"\\\\":return"\\";case"\\'":return"'";default:{const c=parseInt(a||l,16);return c<=55295||c>=57344?String.fromCodePoint(c):"\uFFFD"}}}function createParser(s={}){const a=s.location!==!1,{onError:l}=s;function c(S,N,O,x,...A){const L=S.currentPosition();if(L.offset+=x,L.column+=x,l){const $=a?createLocation(O,L):null,B=createCompileError(N,$,{domain:ERROR_DOMAIN$2,args:A});l(B)}}function u(S,N,O){const x={type:S};return a&&(x.start=N,x.end=N,x.loc={start:O,end:O}),x}function d(S,N,O,x){x&&(S.type=x),a&&(S.end=N,S.loc&&(S.loc.end=O))}function f(S,N){const O=S.context(),x=u(3,O.offset,O.startLoc);return x.value=N,d(x,S.currentOffset(),S.currentPosition()),x}function m(S,N){const O=S.context(),{lastOffset:x,lastStartLoc:A}=O,L=u(5,x,A);return L.index=parseInt(N,10),S.nextToken(),d(L,S.currentOffset(),S.currentPosition()),L}function g(S,N){const O=S.context(),{lastOffset:x,lastStartLoc:A}=O,L=u(4,x,A);return L.key=N,S.nextToken(),d(L,S.currentOffset(),S.currentPosition()),L}function v(S,N){const O=S.context(),{lastOffset:x,lastStartLoc:A}=O,L=u(9,x,A);return L.value=N.replace(KNOWN_ESCAPES,fromEscapeSequence),S.nextToken(),d(L,S.currentOffset(),S.currentPosition()),L}function y(S){const N=S.nextToken(),O=S.context(),{lastOffset:x,lastStartLoc:A}=O,L=u(8,x,A);return N.type!==12?(c(S,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,O.lastStartLoc,0),L.value="",d(L,x,A),{nextConsumeToken:N,node:L}):(N.value==null&&c(S,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,O.lastStartLoc,0,getTokenCaption(N)),L.value=N.value||"",d(L,S.currentOffset(),S.currentPosition()),{node:L})}function b(S,N){const O=S.context(),x=u(7,O.offset,O.startLoc);return x.value=N,d(x,S.currentOffset(),S.currentPosition()),x}function _(S){const N=S.context(),O=u(6,N.offset,N.startLoc);let x=S.nextToken();if(x.type===9){const A=y(S);O.modifier=A.node,x=A.nextConsumeToken||S.nextToken()}switch(x.type!==10&&c(S,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(x)),x=S.nextToken(),x.type===2&&(x=S.nextToken()),x.type){case 11:x.value==null&&c(S,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(x)),O.key=b(S,x.value||"");break;case 5:x.value==null&&c(S,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(x)),O.key=g(S,x.value||"");break;case 6:x.value==null&&c(S,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(x)),O.key=m(S,x.value||"");break;case 7:x.value==null&&c(S,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(x)),O.key=v(S,x.value||"");break;default:c(S,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,N.lastStartLoc,0);const A=S.context(),L=u(7,A.offset,A.startLoc);return L.value="",d(L,A.offset,A.startLoc),O.key=L,d(O,A.offset,A.startLoc),{nextConsumeToken:x,node:O}}return d(O,S.currentOffset(),S.currentPosition()),{node:O}}function T(S){const N=S.context(),O=N.currentType===1?S.currentOffset():N.offset,x=N.currentType===1?N.endLoc:N.startLoc,A=u(2,O,x);A.items=[];let L=null;do{const M=L||S.nextToken();switch(L=null,M.type){case 0:M.value==null&&c(S,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(M)),A.items.push(f(S,M.value||""));break;case 6:M.value==null&&c(S,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(M)),A.items.push(m(S,M.value||""));break;case 5:M.value==null&&c(S,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(M)),A.items.push(g(S,M.value||""));break;case 7:M.value==null&&c(S,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,getTokenCaption(M)),A.items.push(v(S,M.value||""));break;case 8:const K=_(S);A.items.push(K.node),L=K.nextConsumeToken||null;break}}while(N.currentType!==14&&N.currentType!==1);const $=N.currentType===1?N.lastOffset:S.currentOffset(),B=N.currentType===1?N.lastEndLoc:S.currentPosition();return d(A,$,B),A}function E(S,N,O,x){const A=S.context();let L=x.items.length===0;const $=u(1,N,O);$.cases=[],$.cases.push(x);do{const B=T(S);L||(L=B.items.length===0),$.cases.push(B)}while(A.currentType!==14);return L&&c(S,CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,O,0),d($,S.currentOffset(),S.currentPosition()),$}function P(S){const N=S.context(),{offset:O,startLoc:x}=N,A=T(S);return N.currentType===14?A:E(S,O,x,A)}function C(S){const N=createTokenizer(S,assign({},s)),O=N.context(),x=u(0,O.offset,O.startLoc);return a&&x.loc&&(x.loc.source=S),x.body=P(N),s.onCacheKey&&(x.cacheKey=s.onCacheKey(S)),O.currentType!==14&&c(N,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,O.lastStartLoc,0,S[O.offset]||""),d(x,N.currentOffset(),N.currentPosition()),x}return{parse:C}}function getTokenCaption(s){if(s.type===14)return"EOF";const a=(s.value||"").replace(/\r?\n/gu,"\\n");return a.length>10?a.slice(0,9)+"\u2026":a}function createTransformer(s,a={}){const l={ast:s,helpers:new Set};return{context:()=>l,helper:d=>(l.helpers.add(d),d)}}function traverseNodes(s,a){for(let l=0;l<s.length;l++)traverseNode(s[l],a)}function traverseNode(s,a){switch(s.type){case 1:traverseNodes(s.cases,a),a.helper("plural");break;case 2:traverseNodes(s.items,a);break;case 6:traverseNode(s.key,a),a.helper("linked"),a.helper("type");break;case 5:a.helper("interpolate"),a.helper("list");break;case 4:a.helper("interpolate"),a.helper("named");break}}function transform(s,a={}){const l=createTransformer(s);l.helper("normalize"),s.body&&traverseNode(s.body,l);const c=l.context();s.helpers=Array.from(c.helpers)}function optimize(s){const a=s.body;return a.type===2?optimizeMessageNode(a):a.cases.forEach(l=>optimizeMessageNode(l)),s}function optimizeMessageNode(s){if(s.items.length===1){const a=s.items[0];(a.type===3||a.type===9)&&(s.static=a.value,delete a.value)}else{const a=[];for(let l=0;l<s.items.length;l++){const c=s.items[l];if(!(c.type===3||c.type===9)||c.value==null)break;a.push(c.value)}if(a.length===s.items.length){s.static=join(a);for(let l=0;l<s.items.length;l++){const c=s.items[l];(c.type===3||c.type===9)&&delete c.value}}}}const ERROR_DOMAIN$1="minifier";function minify(s){switch(s.t=s.type,s.type){case 0:const a=s;minify(a.body),a.b=a.body,delete a.body;break;case 1:const l=s,c=l.cases;for(let y=0;y<c.length;y++)minify(c[y]);l.c=c,delete l.cases;break;case 2:const u=s,d=u.items;for(let y=0;y<d.length;y++)minify(d[y]);u.i=d,delete u.items,u.static&&(u.s=u.static,delete u.static);break;case 3:case 9:case 8:case 7:const f=s;f.value&&(f.v=f.value,delete f.value);break;case 6:const m=s;minify(m.key),m.k=m.key,delete m.key,m.modifier&&(minify(m.modifier),m.m=m.modifier,delete m.modifier);break;case 5:const g=s;g.i=g.index,delete g.index;break;case 4:const v=s;v.k=v.key,delete v.key;break;default:throw createCompileError(CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:ERROR_DOMAIN$1,args:[s.type]})}delete s.type}const ERROR_DOMAIN="parser";function createCodeGenerator(s,a){const{sourceMap:l,filename:c,breakLineCode:u,needIndent:d}=a,f=a.location!==!1,m={filename:c,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:u,needIndent:d,indentLevel:0};f&&s.loc&&(m.source=s.loc.source);const g=()=>m;function v(C,S){m.code+=C}function y(C,S=!0){const N=S?u:"";v(d?N+"  ".repeat(C):N)}function b(C=!0){const S=++m.indentLevel;C&&y(S)}function _(C=!0){const S=--m.indentLevel;C&&y(S)}function T(){y(m.indentLevel)}return{context:g,push:v,indent:b,deindent:_,newline:T,helper:C=>`_${C}`,needIndent:()=>m.needIndent}}function generateLinkedNode(s,a){const{helper:l}=s;s.push(`${l("linked")}(`),generateNode(s,a.key),a.modifier?(s.push(", "),generateNode(s,a.modifier),s.push(", _type")):s.push(", undefined, _type"),s.push(")")}function generateMessageNode(s,a){const{helper:l,needIndent:c}=s;s.push(`${l("normalize")}([`),s.indent(c());const u=a.items.length;for(let d=0;d<u&&(generateNode(s,a.items[d]),d!==u-1);d++)s.push(", ");s.deindent(c()),s.push("])")}function generatePluralNode(s,a){const{helper:l,needIndent:c}=s;if(a.cases.length>1){s.push(`${l("plural")}([`),s.indent(c());const u=a.cases.length;for(let d=0;d<u&&(generateNode(s,a.cases[d]),d!==u-1);d++)s.push(", ");s.deindent(c()),s.push("])")}}function generateResource(s,a){a.body?generateNode(s,a.body):s.push("null")}function generateNode(s,a){const{helper:l}=s;switch(a.type){case 0:generateResource(s,a);break;case 1:generatePluralNode(s,a);break;case 2:generateMessageNode(s,a);break;case 6:generateLinkedNode(s,a);break;case 8:s.push(JSON.stringify(a.value),a);break;case 7:s.push(JSON.stringify(a.value),a);break;case 5:s.push(`${l("interpolate")}(${l("list")}(${a.index}))`,a);break;case 4:s.push(`${l("interpolate")}(${l("named")}(${JSON.stringify(a.key)}))`,a);break;case 9:s.push(JSON.stringify(a.value),a);break;case 3:s.push(JSON.stringify(a.value),a);break;default:throw createCompileError(CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:ERROR_DOMAIN,args:[a.type]})}}const generate=(s,a={})=>{const l=isString(a.mode)?a.mode:"normal",c=isString(a.filename)?a.filename:"message.intl",u=!!a.sourceMap,d=a.breakLineCode!=null?a.breakLineCode:l==="arrow"?";":`
`,f=a.needIndent?a.needIndent:l!=="arrow",m=s.helpers||[],g=createCodeGenerator(s,{mode:l,filename:c,sourceMap:u,breakLineCode:d,needIndent:f});g.push(l==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),g.indent(f),m.length>0&&(g.push(`const { ${join(m.map(b=>`${b}: _${b}`),", ")} } = ctx`),g.newline()),g.push("return "),generateNode(g,s),g.deindent(f),g.push("}"),delete s.helpers;const{code:v,map:y}=g.context();return{ast:s,code:v,map:y?y.toJSON():void 0}};function baseCompile$1(s,a={}){const l=assign({},a),c=!!l.jit,u=!!l.minify,d=l.optimize==null?!0:l.optimize,m=createParser(l).parse(s);return c?(d&&optimize(m),u&&minify(m),{ast:m,code:""}):(transform(m,l),generate(m,l))}/*!
  * core-base v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function initFeatureFlags$1(){typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(getGlobalThis().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const pathStateMachine=[];pathStateMachine[0]={w:[0],i:[3,0],["["]:[4],o:[7]};pathStateMachine[1]={w:[1],["."]:[2],["["]:[4],o:[7]};pathStateMachine[2]={w:[2],i:[3,0],[0]:[3,0]};pathStateMachine[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};pathStateMachine[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};pathStateMachine[5]={["'"]:[4,0],o:8,l:[5,0]};pathStateMachine[6]={['"']:[4,0],o:8,l:[6,0]};const literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(s){return literalValueRE.test(s)}function stripQuotes(s){const a=s.charCodeAt(0),l=s.charCodeAt(s.length-1);return a===l&&(a===34||a===39)?s.slice(1,-1):s}function getPathCharType(s){if(s==null)return"o";switch(s.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return s;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function formatSubPath(s){const a=s.trim();return s.charAt(0)==="0"&&isNaN(parseInt(s))?!1:isLiteral(a)?stripQuotes(a):"*"+a}function parse(s){const a=[];let l=-1,c=0,u=0,d,f,m,g,v,y,b;const _=[];_[0]=()=>{f===void 0?f=m:f+=m},_[1]=()=>{f!==void 0&&(a.push(f),f=void 0)},_[2]=()=>{_[0](),u++},_[3]=()=>{if(u>0)u--,c=4,_[0]();else{if(u=0,f===void 0||(f=formatSubPath(f),f===!1))return!1;_[1]()}};function T(){const E=s[l+1];if(c===5&&E==="'"||c===6&&E==='"')return l++,m="\\"+E,_[0](),!0}for(;c!==null;)if(l++,d=s[l],!(d==="\\"&&T())){if(g=getPathCharType(d),b=pathStateMachine[c],v=b[g]||b.l||8,v===8||(c=v[0],v[1]!==void 0&&(y=_[v[1]],y&&(m=d,y()===!1))))return;if(c===7)return a}}const cache=new Map;function resolveWithKeyValue(s,a){return isObject$1(s)?s[a]:null}function resolveValue(s,a){if(!isObject$1(s))return null;let l=cache.get(a);if(l||(l=parse(a),l&&cache.set(a,l)),!l)return null;const c=l.length;let u=s,d=0;for(;d<c;){const f=u[l[d]];if(f===void 0)return null;u=f,d++}return u}const DEFAULT_MODIFIER=s=>s,DEFAULT_MESSAGE=s=>"",DEFAULT_MESSAGE_DATA_TYPE="text",DEFAULT_NORMALIZE=s=>s.length===0?"":join$1(s),DEFAULT_INTERPOLATE=toDisplayString;function pluralDefault(s,a){return s=Math.abs(s),a===2?s?s>1?1:0:1:s?Math.min(s,2):0}function getPluralIndex(s){const a=isNumber(s.pluralIndex)?s.pluralIndex:-1;return s.named&&(isNumber(s.named.count)||isNumber(s.named.n))?isNumber(s.named.count)?s.named.count:isNumber(s.named.n)?s.named.n:a:a}function normalizeNamed(s,a){a.count||(a.count=s),a.n||(a.n=s)}function createMessageContext(s={}){const a=s.locale,l=getPluralIndex(s),c=isObject$1(s.pluralRules)&&isString$1(a)&&isFunction(s.pluralRules[a])?s.pluralRules[a]:pluralDefault,u=isObject$1(s.pluralRules)&&isString$1(a)&&isFunction(s.pluralRules[a])?pluralDefault:void 0,d=S=>S[c(l,S.length,u)],f=s.list||[],m=S=>f[S],g=s.named||{};isNumber(s.pluralIndex)&&normalizeNamed(l,g);const v=S=>g[S];function y(S){const N=isFunction(s.messages)?s.messages(S):isObject$1(s.messages)?s.messages[S]:!1;return N||(s.parent?s.parent.message(S):DEFAULT_MESSAGE)}const b=S=>s.modifiers?s.modifiers[S]:DEFAULT_MODIFIER,_=isPlainObject(s.processor)&&isFunction(s.processor.normalize)?s.processor.normalize:DEFAULT_NORMALIZE,T=isPlainObject(s.processor)&&isFunction(s.processor.interpolate)?s.processor.interpolate:DEFAULT_INTERPOLATE,E=isPlainObject(s.processor)&&isString$1(s.processor.type)?s.processor.type:DEFAULT_MESSAGE_DATA_TYPE,C={list:m,named:v,plural:d,linked:(S,...N)=>{const[O,x]=N;let A="text",L="";N.length===1?isObject$1(O)?(L=O.modifier||L,A=O.type||A):isString$1(O)&&(L=O||L):N.length===2&&(isString$1(O)&&(L=O||L),isString$1(x)&&(A=x||A));const $=y(S)(C),B=A==="vnode"&&isArray($)&&L?$[0]:$;return L?b(L)(B,A):B},message:y,type:E,interpolate:T,normalize:_,values:assign$1({},f,g)};return C}const CoreWarnCodes={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function fallbackWithSimple(s,a,l){return[...new Set([l,...isArray(a)?a:isObject$1(a)?Object.keys(a):isString$1(a)?[a]:[l]])]}function fallbackWithLocaleChain(s,a,l){const c=isString$1(l)?l:DEFAULT_LOCALE,u=s;u.__localeChainCache||(u.__localeChainCache=new Map);let d=u.__localeChainCache.get(c);if(!d){d=[];let f=[l];for(;isArray(f);)f=appendBlockToChain(d,f,a);const m=isArray(a)||!isPlainObject(a)?a:a.default?a.default:null;f=isString$1(m)?[m]:m,isArray(f)&&appendBlockToChain(d,f,!1),u.__localeChainCache.set(c,d)}return d}function appendBlockToChain(s,a,l){let c=!0;for(let u=0;u<a.length&&isBoolean(c);u++){const d=a[u];isString$1(d)&&(c=appendLocaleToChain(s,a[u],l))}return c}function appendLocaleToChain(s,a,l){let c;const u=a.split("-");do{const d=u.join("-");c=appendItemToChain(s,d,l),u.splice(-1,1)}while(u.length&&c===!0);return c}function appendItemToChain(s,a,l){let c=!1;if(!s.includes(a)&&(c=!0,a)){c=a[a.length-1]!=="!";const u=a.replace(/!/g,"");s.push(u),(isArray(l)||isPlainObject(l))&&l[u]&&(c=l[u])}return c}const VERSION$1="9.4.1",NOT_REOSLVED=-1,DEFAULT_LOCALE="en-US",MISSING_RESOLVE_VALUE="",capitalize=s=>`${s.charAt(0).toLocaleUpperCase()}${s.substr(1)}`;function getDefaultLinkedModifiers(){return{upper:(s,a)=>a==="text"&&isString$1(s)?s.toUpperCase():a==="vnode"&&isObject$1(s)&&"__v_isVNode"in s?s.children.toUpperCase():s,lower:(s,a)=>a==="text"&&isString$1(s)?s.toLowerCase():a==="vnode"&&isObject$1(s)&&"__v_isVNode"in s?s.children.toLowerCase():s,capitalize:(s,a)=>a==="text"&&isString$1(s)?capitalize(s):a==="vnode"&&isObject$1(s)&&"__v_isVNode"in s?capitalize(s.children):s}}let _compiler;function registerMessageCompiler(s){_compiler=s}let _resolver;function registerMessageResolver(s){_resolver=s}let _fallbacker;function registerLocaleFallbacker(s){_fallbacker=s}const setAdditionalMeta=s=>{};let _fallbackContext=null;const setFallbackContext=s=>{_fallbackContext=s},getFallbackContext=()=>_fallbackContext;let _cid=0;function createCoreContext(s={}){const a=isFunction(s.onWarn)?s.onWarn:warn,l=isString$1(s.version)?s.version:VERSION$1,c=isString$1(s.locale)?s.locale:DEFAULT_LOCALE,u=isArray(s.fallbackLocale)||isPlainObject(s.fallbackLocale)||isString$1(s.fallbackLocale)||s.fallbackLocale===!1?s.fallbackLocale:c,d=isPlainObject(s.messages)?s.messages:{[c]:{}},f=isPlainObject(s.datetimeFormats)?s.datetimeFormats:{[c]:{}},m=isPlainObject(s.numberFormats)?s.numberFormats:{[c]:{}},g=assign$1({},s.modifiers||{},getDefaultLinkedModifiers()),v=s.pluralRules||{},y=isFunction(s.missing)?s.missing:null,b=isBoolean(s.missingWarn)||isRegExp(s.missingWarn)?s.missingWarn:!0,_=isBoolean(s.fallbackWarn)||isRegExp(s.fallbackWarn)?s.fallbackWarn:!0,T=!!s.fallbackFormat,E=!!s.unresolving,P=isFunction(s.postTranslation)?s.postTranslation:null,C=isPlainObject(s.processor)?s.processor:null,S=isBoolean(s.warnHtmlMessage)?s.warnHtmlMessage:!0,N=!!s.escapeParameter,O=isFunction(s.messageCompiler)?s.messageCompiler:_compiler,x=isFunction(s.messageResolver)?s.messageResolver:_resolver||resolveWithKeyValue,A=isFunction(s.localeFallbacker)?s.localeFallbacker:_fallbacker||fallbackWithSimple,L=isObject$1(s.fallbackContext)?s.fallbackContext:void 0,$=s,B=isObject$1($.__datetimeFormatters)?$.__datetimeFormatters:new Map,M=isObject$1($.__numberFormatters)?$.__numberFormatters:new Map,K=isObject$1($.__meta)?$.__meta:{};_cid++;const Y={version:l,cid:_cid,locale:c,fallbackLocale:u,messages:d,modifiers:g,pluralRules:v,missing:y,missingWarn:b,fallbackWarn:_,fallbackFormat:T,unresolving:E,postTranslation:P,processor:C,warnHtmlMessage:S,escapeParameter:N,messageCompiler:O,messageResolver:x,localeFallbacker:A,fallbackContext:L,onWarn:a,__meta:K};return Y.datetimeFormats=f,Y.numberFormats=m,Y.__datetimeFormatters=B,Y.__numberFormatters=M,Y}function handleMissing(s,a,l,c,u){const{missing:d,onWarn:f}=s;if(d!==null){const m=d(s,l,a,u);return isString$1(m)?m:a}else return a}function updateFallbackLocale(s,a,l){const c=s;c.__localeChainCache=new Map,s.localeFallbacker(s,l,a)}function format(s){return l=>formatParts(l,s)}function formatParts(s,a){const l=a.b||a.body;if((l.t||l.type)===1){const c=l,u=c.c||c.cases;return s.plural(u.reduce((d,f)=>[...d,formatMessageParts(s,f)],[]))}else return formatMessageParts(s,l)}function formatMessageParts(s,a){const l=a.s||a.static;if(l)return s.type==="text"?l:s.normalize([l]);{const c=(a.i||a.items).reduce((u,d)=>[...u,formatMessagePart(s,d)],[]);return s.normalize(c)}}function formatMessagePart(s,a){const l=a.t||a.type;switch(l){case 3:const c=a;return c.v||c.value;case 9:const u=a;return u.v||u.value;case 4:const d=a;return s.interpolate(s.named(d.k||d.key));case 5:const f=a;return s.interpolate(s.list(f.i||f.index));case 6:const m=a,g=m.m||m.modifier;return s.linked(formatMessagePart(s,m.k||m.key),g?formatMessagePart(s,g):void 0,s.type);case 7:const v=a;return v.v||v.value;case 8:const y=a;return y.v||y.value;default:throw new Error(`unhandled node type on format message part: ${l}`)}}const code$2=CompileErrorCodes.__EXTEND_POINT__,inc$2=incrementer(code$2),CoreErrorCodes={INVALID_ARGUMENT:code$2,INVALID_DATE_ARGUMENT:inc$2(),INVALID_ISO_DATE_ARGUMENT:inc$2(),NOT_SUPPORT_NON_STRING_MESSAGE:inc$2(),__EXTEND_POINT__:inc$2()};function createCoreError(s){return createCompileError(s,null,void 0)}const defaultOnCacheKey=s=>s;let compileCache=Object.create(null);const isMessageAST=s=>isObject$1(s)&&(s.t===0||s.type===0)&&("b"in s||"body"in s);function baseCompile(s,a={}){let l=!1;const c=a.onError||defaultOnError;return a.onError=u=>{l=!0,c(u)},{...baseCompile$1(s,a),detectError:l}}function compile(s,a){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&isString$1(s)){isBoolean(a.warnHtmlMessage)&&a.warnHtmlMessage;const c=(a.onCacheKey||defaultOnCacheKey)(s),u=compileCache[c];if(u)return u;const{ast:d,detectError:f}=baseCompile(s,{...a,location:!1,jit:!0}),m=format(d);return f?m:compileCache[c]=m}else{const l=s.cacheKey;if(l){const c=compileCache[l];return c||(compileCache[l]=format(s))}else return format(s)}}const NOOP_MESSAGE_FUNCTION=()=>"",isMessageFunction=s=>isFunction(s);function translate(s,...a){const{fallbackFormat:l,postTranslation:c,unresolving:u,messageCompiler:d,fallbackLocale:f,messages:m}=s,[g,v]=parseTranslateArgs(...a),y=isBoolean(v.missingWarn)?v.missingWarn:s.missingWarn,b=isBoolean(v.fallbackWarn)?v.fallbackWarn:s.fallbackWarn,_=isBoolean(v.escapeParameter)?v.escapeParameter:s.escapeParameter,T=!!v.resolvedMessage,E=isString$1(v.default)||isBoolean(v.default)?isBoolean(v.default)?d?g:()=>g:v.default:l?d?g:()=>g:"",P=l||E!=="",C=isString$1(v.locale)?v.locale:s.locale;_&&escapeParams(v);let[S,N,O]=T?[g,C,m[C]||{}]:resolveMessageFormat(s,g,C,f,b,y),x=S,A=g;if(!T&&!(isString$1(x)||isMessageAST(x)||isMessageFunction(x))&&P&&(x=E,A=x),!T&&(!(isString$1(x)||isMessageAST(x)||isMessageFunction(x))||!isString$1(N)))return u?NOT_REOSLVED:g;let L=!1;const $=()=>{L=!0},B=isMessageFunction(x)?x:compileMessageFormat(s,g,N,x,A,$);if(L)return x;const M=getMessageContextOptions(s,N,O,v),K=createMessageContext(M),Y=evaluateMessage(s,B,K);return c?c(Y,g):Y}function escapeParams(s){isArray(s.list)?s.list=s.list.map(a=>isString$1(a)?escapeHtml(a):a):isObject$1(s.named)&&Object.keys(s.named).forEach(a=>{isString$1(s.named[a])&&(s.named[a]=escapeHtml(s.named[a]))})}function resolveMessageFormat(s,a,l,c,u,d){const{messages:f,onWarn:m,messageResolver:g,localeFallbacker:v}=s,y=v(s,c,l);let b={},_,T=null;const E="translate";for(let P=0;P<y.length&&(_=y[P],b=f[_]||{},(T=g(b,a))===null&&(T=b[a]),!(isString$1(T)||isMessageAST(T)||isMessageFunction(T)));P++){const C=handleMissing(s,a,_,d,E);C!==a&&(T=C)}return[T,_,b]}function compileMessageFormat(s,a,l,c,u,d){const{messageCompiler:f,warnHtmlMessage:m}=s;if(isMessageFunction(c)){const v=c;return v.locale=v.locale||l,v.key=v.key||a,v}if(f==null){const v=()=>c;return v.locale=l,v.key=a,v}const g=f(c,getCompileContext(s,l,u,c,m,d));return g.locale=l,g.key=a,g.source=c,g}function evaluateMessage(s,a,l){return a(l)}function parseTranslateArgs(...s){const[a,l,c]=s,u={};if(!isString$1(a)&&!isNumber(a)&&!isMessageFunction(a)&&!isMessageAST(a))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const d=isNumber(a)?String(a):(isMessageFunction(a),a);return isNumber(l)?u.plural=l:isString$1(l)?u.default=l:isPlainObject(l)&&!isEmptyObject(l)?u.named=l:isArray(l)&&(u.list=l),isNumber(c)?u.plural=c:isString$1(c)?u.default=c:isPlainObject(c)&&assign$1(u,c),[d,u]}function getCompileContext(s,a,l,c,u,d){return{locale:a,key:l,warnHtmlMessage:u,onError:f=>{throw d&&d(f),f},onCacheKey:f=>generateFormatCacheKey(a,l,f)}}function getMessageContextOptions(s,a,l,c){const{modifiers:u,pluralRules:d,messageResolver:f,fallbackLocale:m,fallbackWarn:g,missingWarn:v,fallbackContext:y}=s,_={locale:a,modifiers:u,pluralRules:d,messages:T=>{let E=f(l,T);if(E==null&&y){const[,,P]=resolveMessageFormat(y,T,a,m,g,v);E=f(P,T)}if(isString$1(E)||isMessageAST(E)){let P=!1;const S=compileMessageFormat(s,T,a,E,T,()=>{P=!0});return P?NOOP_MESSAGE_FUNCTION:S}else return isMessageFunction(E)?E:NOOP_MESSAGE_FUNCTION}};return s.processor&&(_.processor=s.processor),c.list&&(_.list=c.list),c.named&&(_.named=c.named),isNumber(c.plural)&&(_.pluralIndex=c.plural),_}function datetime(s,...a){const{datetimeFormats:l,unresolving:c,fallbackLocale:u,onWarn:d,localeFallbacker:f}=s,{__datetimeFormatters:m}=s,[g,v,y,b]=parseDateTimeArgs(...a),_=isBoolean(y.missingWarn)?y.missingWarn:s.missingWarn;isBoolean(y.fallbackWarn)?y.fallbackWarn:s.fallbackWarn;const T=!!y.part,E=isString$1(y.locale)?y.locale:s.locale,P=f(s,u,E);if(!isString$1(g)||g==="")return new Intl.DateTimeFormat(E,b).format(v);let C={},S,N=null;const O="datetime format";for(let L=0;L<P.length&&(S=P[L],C=l[S]||{},N=C[g],!isPlainObject(N));L++)handleMissing(s,g,S,_,O);if(!isPlainObject(N)||!isString$1(S))return c?NOT_REOSLVED:g;let x=`${S}__${g}`;isEmptyObject(b)||(x=`${x}__${JSON.stringify(b)}`);let A=m.get(x);return A||(A=new Intl.DateTimeFormat(S,assign$1({},N,b)),m.set(x,A)),T?A.formatToParts(v):A.format(v)}const DATETIME_FORMAT_OPTIONS_KEYS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function parseDateTimeArgs(...s){const[a,l,c,u]=s,d={};let f={},m;if(isString$1(a)){const g=a.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!g)throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);const v=g[3]?g[3].trim().startsWith("T")?`${g[1].trim()}${g[3].trim()}`:`${g[1].trim()}T${g[3].trim()}`:g[1].trim();m=new Date(v);try{m.toISOString()}catch{throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT)}}else if(isDate(a)){if(isNaN(a.getTime()))throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);m=a}else if(isNumber(a))m=a;else throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);return isString$1(l)?d.key=l:isPlainObject(l)&&Object.keys(l).forEach(g=>{DATETIME_FORMAT_OPTIONS_KEYS.includes(g)?f[g]=l[g]:d[g]=l[g]}),isString$1(c)?d.locale=c:isPlainObject(c)&&(f=c),isPlainObject(u)&&(f=u),[d.key||"",m,d,f]}function clearDateTimeFormat(s,a,l){const c=s;for(const u in l){const d=`${a}__${u}`;!c.__datetimeFormatters.has(d)||c.__datetimeFormatters.delete(d)}}function number(s,...a){const{numberFormats:l,unresolving:c,fallbackLocale:u,onWarn:d,localeFallbacker:f}=s,{__numberFormatters:m}=s,[g,v,y,b]=parseNumberArgs(...a),_=isBoolean(y.missingWarn)?y.missingWarn:s.missingWarn;isBoolean(y.fallbackWarn)?y.fallbackWarn:s.fallbackWarn;const T=!!y.part,E=isString$1(y.locale)?y.locale:s.locale,P=f(s,u,E);if(!isString$1(g)||g==="")return new Intl.NumberFormat(E,b).format(v);let C={},S,N=null;const O="number format";for(let L=0;L<P.length&&(S=P[L],C=l[S]||{},N=C[g],!isPlainObject(N));L++)handleMissing(s,g,S,_,O);if(!isPlainObject(N)||!isString$1(S))return c?NOT_REOSLVED:g;let x=`${S}__${g}`;isEmptyObject(b)||(x=`${x}__${JSON.stringify(b)}`);let A=m.get(x);return A||(A=new Intl.NumberFormat(S,assign$1({},N,b)),m.set(x,A)),T?A.formatToParts(v):A.format(v)}const NUMBER_FORMAT_OPTIONS_KEYS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function parseNumberArgs(...s){const[a,l,c,u]=s,d={};let f={};if(!isNumber(a))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const m=a;return isString$1(l)?d.key=l:isPlainObject(l)&&Object.keys(l).forEach(g=>{NUMBER_FORMAT_OPTIONS_KEYS.includes(g)?f[g]=l[g]:d[g]=l[g]}),isString$1(c)?d.locale=c:isPlainObject(c)&&(f=c),isPlainObject(u)&&(f=u),[d.key||"",m,d,f]}function clearNumberFormat(s,a,l){const c=s;for(const u in l){const d=`${a}__${u}`;!c.__numberFormatters.has(d)||c.__numberFormatters.delete(d)}}initFeatureFlags$1();/*!
  * vue-i18n v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const VERSION="9.4.1";function initFeatureFlags(){typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(getGlobalThis().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const code$1=CoreWarnCodes.__EXTEND_POINT__,inc$1=incrementer(code$1);inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1();const code=CoreErrorCodes.__EXTEND_POINT__,inc=incrementer(code),I18nErrorCodes={UNEXPECTED_RETURN_TYPE:code,INVALID_ARGUMENT:inc(),MUST_BE_CALL_SETUP_TOP:inc(),NOT_INSTALLED:inc(),NOT_AVAILABLE_IN_LEGACY_MODE:inc(),REQUIRED_VALUE:inc(),INVALID_VALUE:inc(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:inc(),NOT_INSTALLED_WITH_PROVIDE:inc(),UNEXPECTED_ERROR:inc(),NOT_COMPATIBLE_LEGACY_VUE_I18N:inc(),BRIDGE_SUPPORT_VUE_2_ONLY:inc(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:inc(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:inc(),__EXTEND_POINT__:inc()};function createI18nError(s,...a){return createCompileError(s,null,void 0)}const TranslateVNodeSymbol=makeSymbol("__translateVNode"),DatetimePartsSymbol=makeSymbol("__datetimeParts"),NumberPartsSymbol=makeSymbol("__numberParts"),SetPluralRulesSymbol=makeSymbol("__setPluralRules");makeSymbol("__intlifyMeta");const InejctWithOptionSymbol=makeSymbol("__injectWithOption"),DisposeSymbol=makeSymbol("__dispose");function handleFlatJson(s){if(!isObject$1(s))return s;for(const a in s)if(!!hasOwn(s,a))if(!a.includes("."))isObject$1(s[a])&&handleFlatJson(s[a]);else{const l=a.split("."),c=l.length-1;let u=s,d=!1;for(let f=0;f<c;f++){if(l[f]in u||(u[l[f]]={}),!isObject$1(u[l[f]])){d=!0;break}u=u[l[f]]}d||(u[l[c]]=s[a],delete s[a]),isObject$1(u[l[c]])&&handleFlatJson(u[l[c]])}return s}function getLocaleMessages(s,a){const{messages:l,__i18n:c,messageResolver:u,flatJson:d}=a,f=isPlainObject(l)?l:isArray(c)?{}:{[s]:{}};if(isArray(c)&&c.forEach(m=>{if("locale"in m&&"resource"in m){const{locale:g,resource:v}=m;g?(f[g]=f[g]||{},deepCopy(v,f[g])):deepCopy(v,f)}else isString$1(m)&&deepCopy(JSON.parse(m),f)}),u==null&&d)for(const m in f)hasOwn(f,m)&&handleFlatJson(f[m]);return f}const isNotObjectOrIsArray=s=>!isObject$1(s)||isArray(s);function deepCopy(s,a){if(isNotObjectOrIsArray(s)||isNotObjectOrIsArray(a))throw createI18nError(I18nErrorCodes.INVALID_VALUE);for(const l in s)hasOwn(s,l)&&(isNotObjectOrIsArray(s[l])||isNotObjectOrIsArray(a[l])?a[l]=s[l]:deepCopy(s[l],a[l]))}function getComponentOptions(s){return s.type}function adjustI18nResources(s,a,l){let c=isObject$1(a.messages)?a.messages:{};"__i18nGlobal"in l&&(c=getLocaleMessages(s.locale.value,{messages:c,__i18n:l.__i18nGlobal}));const u=Object.keys(c);u.length&&u.forEach(d=>{s.mergeLocaleMessage(d,c[d])});{if(isObject$1(a.datetimeFormats)){const d=Object.keys(a.datetimeFormats);d.length&&d.forEach(f=>{s.mergeDateTimeFormat(f,a.datetimeFormats[f])})}if(isObject$1(a.numberFormats)){const d=Object.keys(a.numberFormats);d.length&&d.forEach(f=>{s.mergeNumberFormat(f,a.numberFormats[f])})}}}function createTextNode(s){return createVNode(Text,null,s,0)}const DEVTOOLS_META="__INTLIFY_META__";let composerID=0;function defineCoreMissingHandler(s){return(a,l,c,u)=>s(l,c,getCurrentInstance()||void 0,u)}const getMetaInfo=()=>{const s=getCurrentInstance();let a=null;return s&&(a=getComponentOptions(s)[DEVTOOLS_META])?{[DEVTOOLS_META]:a}:null};function createComposer(s={},a){const{__root:l,__injectWithOption:c}=s,u=l===void 0;let d=isBoolean(s.inheritLocale)?s.inheritLocale:!0;const f=ref(l&&d?l.locale.value:isString$1(s.locale)?s.locale:DEFAULT_LOCALE),m=ref(l&&d?l.fallbackLocale.value:isString$1(s.fallbackLocale)||isArray(s.fallbackLocale)||isPlainObject(s.fallbackLocale)||s.fallbackLocale===!1?s.fallbackLocale:f.value),g=ref(getLocaleMessages(f.value,s)),v=ref(isPlainObject(s.datetimeFormats)?s.datetimeFormats:{[f.value]:{}}),y=ref(isPlainObject(s.numberFormats)?s.numberFormats:{[f.value]:{}});let b=l?l.missingWarn:isBoolean(s.missingWarn)||isRegExp(s.missingWarn)?s.missingWarn:!0,_=l?l.fallbackWarn:isBoolean(s.fallbackWarn)||isRegExp(s.fallbackWarn)?s.fallbackWarn:!0,T=l?l.fallbackRoot:isBoolean(s.fallbackRoot)?s.fallbackRoot:!0,E=!!s.fallbackFormat,P=isFunction(s.missing)?s.missing:null,C=isFunction(s.missing)?defineCoreMissingHandler(s.missing):null,S=isFunction(s.postTranslation)?s.postTranslation:null,N=l?l.warnHtmlMessage:isBoolean(s.warnHtmlMessage)?s.warnHtmlMessage:!0,O=!!s.escapeParameter;const x=l?l.modifiers:isPlainObject(s.modifiers)?s.modifiers:{};let A=s.pluralRules||l&&l.pluralRules,L;L=(()=>{u&&setFallbackContext(null);const D={version:VERSION,locale:f.value,fallbackLocale:m.value,messages:g.value,modifiers:x,pluralRules:A,missing:C===null?void 0:C,missingWarn:b,fallbackWarn:_,fallbackFormat:E,unresolving:!0,postTranslation:S===null?void 0:S,warnHtmlMessage:N,escapeParameter:O,messageResolver:s.messageResolver,messageCompiler:s.messageCompiler,__meta:{framework:"vue"}};D.datetimeFormats=v.value,D.numberFormats=y.value,D.__datetimeFormatters=isPlainObject(L)?L.__datetimeFormatters:void 0,D.__numberFormatters=isPlainObject(L)?L.__numberFormatters:void 0;const V=createCoreContext(D);return u&&setFallbackContext(V),V})(),updateFallbackLocale(L,f.value,m.value);function B(){return[f.value,m.value,g.value,v.value,y.value]}const M=computed({get:()=>f.value,set:D=>{f.value=D,L.locale=f.value}}),K=computed({get:()=>m.value,set:D=>{m.value=D,L.fallbackLocale=m.value,updateFallbackLocale(L,f.value,D)}}),Y=computed(()=>g.value),U=computed(()=>v.value),Z=computed(()=>y.value);function q(){return isFunction(S)?S:null}function Q(D){S=D,L.postTranslation=D}function ae(){return P}function oe(D){D!==null&&(C=defineCoreMissingHandler(D)),P=D,L.missing=C}const se=(D,V,re,ie,ue,ce)=>{B();let he;try{u||(L.fallbackContext=l?getFallbackContext():void 0),he=D(L)}finally{u||(L.fallbackContext=void 0)}if(isNumber(he)&&he===NOT_REOSLVED){const[be,Pe]=V();return l&&T?ie(l):ue(be)}else{if(ce(he))return he;throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE)}};function fe(...D){return se(V=>Reflect.apply(translate,null,[V,...D]),()=>parseTranslateArgs(...D),"translate",V=>Reflect.apply(V.t,V,[...D]),V=>V,V=>isString$1(V))}function pe(...D){const[V,re,ie]=D;if(ie&&!isObject$1(ie))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);return fe(V,re,assign$1({resolvedMessage:!0},ie||{}))}function me(...D){return se(V=>Reflect.apply(datetime,null,[V,...D]),()=>parseDateTimeArgs(...D),"datetime format",V=>Reflect.apply(V.d,V,[...D]),()=>MISSING_RESOLVE_VALUE,V=>isString$1(V))}function de(...D){return se(V=>Reflect.apply(number,null,[V,...D]),()=>parseNumberArgs(...D),"number format",V=>Reflect.apply(V.n,V,[...D]),()=>MISSING_RESOLVE_VALUE,V=>isString$1(V))}function ye(D){return D.map(V=>isString$1(V)||isNumber(V)||isBoolean(V)?createTextNode(String(V)):V)}const _e={normalize:ye,interpolate:D=>D,type:"vnode"};function ve(...D){return se(V=>{let re;const ie=V;try{ie.processor=_e,re=Reflect.apply(translate,null,[ie,...D])}finally{ie.processor=null}return re},()=>parseTranslateArgs(...D),"translate",V=>V[TranslateVNodeSymbol](...D),V=>[createTextNode(V)],V=>isArray(V))}function j(...D){return se(V=>Reflect.apply(number,null,[V,...D]),()=>parseNumberArgs(...D),"number format",V=>V[NumberPartsSymbol](...D),()=>[],V=>isString$1(V)||isArray(V))}function te(...D){return se(V=>Reflect.apply(datetime,null,[V,...D]),()=>parseDateTimeArgs(...D),"datetime format",V=>V[DatetimePartsSymbol](...D),()=>[],V=>isString$1(V)||isArray(V))}function X(D){A=D,L.pluralRules=A}function ne(D,V){const re=isString$1(V)?V:f.value,ie=w(re);return L.messageResolver(ie,D)!==null}function le(D){let V=null;const re=fallbackWithLocaleChain(L,m.value,f.value);for(let ie=0;ie<re.length;ie++){const ue=g.value[re[ie]]||{},ce=L.messageResolver(ue,D);if(ce!=null){V=ce;break}}return V}function R(D){const V=le(D);return V!=null?V:l?l.tm(D)||{}:{}}function w(D){return g.value[D]||{}}function k(D,V){g.value[D]=V,L.messages=g.value}function I(D,V){g.value[D]=g.value[D]||{},deepCopy(V,g.value[D]),L.messages=g.value}function F(D){return v.value[D]||{}}function H(D,V){v.value[D]=V,L.datetimeFormats=v.value,clearDateTimeFormat(L,D,V)}function W(D,V){v.value[D]=assign$1(v.value[D]||{},V),L.datetimeFormats=v.value,clearDateTimeFormat(L,D,V)}function z(D){return y.value[D]||{}}function J(D,V){y.value[D]=V,L.numberFormats=y.value,clearNumberFormat(L,D,V)}function G(D,V){y.value[D]=assign$1(y.value[D]||{},V),L.numberFormats=y.value,clearNumberFormat(L,D,V)}composerID++,l&&inBrowser&&(watch(l.locale,D=>{d&&(f.value=D,L.locale=D,updateFallbackLocale(L,f.value,m.value))}),watch(l.fallbackLocale,D=>{d&&(m.value=D,L.fallbackLocale=D,updateFallbackLocale(L,f.value,m.value))}));const ee={id:composerID,locale:M,fallbackLocale:K,get inheritLocale(){return d},set inheritLocale(D){d=D,D&&l&&(f.value=l.locale.value,m.value=l.fallbackLocale.value,updateFallbackLocale(L,f.value,m.value))},get availableLocales(){return Object.keys(g.value).sort()},messages:Y,get modifiers(){return x},get pluralRules(){return A||{}},get isGlobal(){return u},get missingWarn(){return b},set missingWarn(D){b=D,L.missingWarn=b},get fallbackWarn(){return _},set fallbackWarn(D){_=D,L.fallbackWarn=_},get fallbackRoot(){return T},set fallbackRoot(D){T=D},get fallbackFormat(){return E},set fallbackFormat(D){E=D,L.fallbackFormat=E},get warnHtmlMessage(){return N},set warnHtmlMessage(D){N=D,L.warnHtmlMessage=D},get escapeParameter(){return O},set escapeParameter(D){O=D,L.escapeParameter=D},t:fe,getLocaleMessage:w,setLocaleMessage:k,mergeLocaleMessage:I,getPostTranslationHandler:q,setPostTranslationHandler:Q,getMissingHandler:ae,setMissingHandler:oe,[SetPluralRulesSymbol]:X};return ee.datetimeFormats=U,ee.numberFormats=Z,ee.rt=pe,ee.te=ne,ee.tm=R,ee.d=me,ee.n=de,ee.getDateTimeFormat=F,ee.setDateTimeFormat=H,ee.mergeDateTimeFormat=W,ee.getNumberFormat=z,ee.setNumberFormat=J,ee.mergeNumberFormat=G,ee[InejctWithOptionSymbol]=c,ee[TranslateVNodeSymbol]=ve,ee[DatetimePartsSymbol]=te,ee[NumberPartsSymbol]=j,ee}const baseFormatProps={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:s=>s==="parent"||s==="global",default:"parent"},i18n:{type:Object}};function getInterpolateArg({slots:s},a){return a.length===1&&a[0]==="default"?(s.default?s.default():[]).reduce((c,u)=>[...c,...u.type===Fragment?u.children:[u]],[]):a.reduce((l,c)=>{const u=s[c];return u&&(l[c]=u()),l},{})}function getFragmentableTag(s){return Fragment}const TranslationImpl=defineComponent({name:"i18n-t",props:assign$1({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:s=>isNumber(s)||!isNaN(s)}},baseFormatProps),setup(s,a){const{slots:l,attrs:c}=a,u=s.i18n||useI18n({useScope:s.scope,__useComponent:!0});return()=>{const d=Object.keys(l).filter(b=>b!=="_"),f={};s.locale&&(f.locale=s.locale),s.plural!==void 0&&(f.plural=isString$1(s.plural)?+s.plural:s.plural);const m=getInterpolateArg(a,d),g=u[TranslateVNodeSymbol](s.keypath,m,f),v=assign$1({},c),y=isString$1(s.tag)||isObject$1(s.tag)?s.tag:getFragmentableTag();return h(y,v,g)}}}),Translation=TranslationImpl;function isVNode(s){return isArray(s)&&!isString$1(s[0])}function renderFormatter(s,a,l,c){const{slots:u,attrs:d}=a;return()=>{const f={part:!0};let m={};s.locale&&(f.locale=s.locale),isString$1(s.format)?f.key=s.format:isObject$1(s.format)&&(isString$1(s.format.key)&&(f.key=s.format.key),m=Object.keys(s.format).reduce((_,T)=>l.includes(T)?assign$1({},_,{[T]:s.format[T]}):_,{}));const g=c(s.value,f,m);let v=[f.key];isArray(g)?v=g.map((_,T)=>{const E=u[_.type],P=E?E({[_.type]:_.value,index:T,parts:g}):[_.value];return isVNode(P)&&(P[0].key=`${_.type}-${T}`),P}):isString$1(g)&&(v=[g]);const y=assign$1({},d),b=isString$1(s.tag)||isObject$1(s.tag)?s.tag:getFragmentableTag();return h(b,y,v)}}const NumberFormatImpl=defineComponent({name:"i18n-n",props:assign$1({value:{type:Number,required:!0},format:{type:[String,Object]}},baseFormatProps),setup(s,a){const l=s.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(s,a,NUMBER_FORMAT_OPTIONS_KEYS,(...c)=>l[NumberPartsSymbol](...c))}}),NumberFormat=NumberFormatImpl,DatetimeFormatImpl=defineComponent({name:"i18n-d",props:assign$1({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},baseFormatProps),setup(s,a){const l=s.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(s,a,DATETIME_FORMAT_OPTIONS_KEYS,(...c)=>l[DatetimePartsSymbol](...c))}}),DatetimeFormat=DatetimeFormatImpl;function getComposer$2(s,a){const l=s;if(s.mode==="composition")return l.__getInstance(a)||s.global;{const c=l.__getInstance(a);return c!=null?c.__composer:s.global.__composer}}function vTDirective(s){const a=f=>{const{instance:m,modifiers:g,value:v}=f;if(!m||!m.$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const y=getComposer$2(s,m.$),b=parseValue(v);return[Reflect.apply(y.t,y,[...makeParams(b)]),y]};return{created:(f,m)=>{const[g,v]=a(m);inBrowser&&s.global===v&&(f.__i18nWatcher=watch(v.locale,()=>{m.instance&&m.instance.$forceUpdate()})),f.__composer=v,f.textContent=g},unmounted:f=>{inBrowser&&f.__i18nWatcher&&(f.__i18nWatcher(),f.__i18nWatcher=void 0,delete f.__i18nWatcher),f.__composer&&(f.__composer=void 0,delete f.__composer)},beforeUpdate:(f,{value:m})=>{if(f.__composer){const g=f.__composer,v=parseValue(m);f.textContent=Reflect.apply(g.t,g,[...makeParams(v)])}},getSSRProps:f=>{const[m]=a(f);return{textContent:m}}}}function parseValue(s){if(isString$1(s))return{path:s};if(isPlainObject(s)){if(!("path"in s))throw createI18nError(I18nErrorCodes.REQUIRED_VALUE,"path");return s}else throw createI18nError(I18nErrorCodes.INVALID_VALUE)}function makeParams(s){const{path:a,locale:l,args:c,choice:u,plural:d}=s,f={},m=c||{};return isString$1(l)&&(f.locale=l),isNumber(u)&&(f.plural=u),isNumber(d)&&(f.plural=d),[a,m,f]}function apply$1(s,a,...l){const c=isPlainObject(l[0])?l[0]:{},u=!!c.useI18nComponentName;(isBoolean(c.globalInstall)?c.globalInstall:!0)&&([u?"i18n":Translation.name,"I18nT"].forEach(f=>s.component(f,Translation)),[NumberFormat.name,"I18nN"].forEach(f=>s.component(f,NumberFormat)),[DatetimeFormat.name,"I18nD"].forEach(f=>s.component(f,DatetimeFormat))),s.directive("t",vTDirective(a))}const I18nInjectionKey=makeSymbol("global-vue-i18n");function createI18n(s={},a){const l=isBoolean(s.globalInjection)?s.globalInjection:!0,c=!0,u=new Map,[d,f]=createGlobal(s),m=makeSymbol("");function g(b){return u.get(b)||null}function v(b,_){u.set(b,_)}function y(b){u.delete(b)}{const b={get mode(){return"composition"},get allowComposition(){return c},async install(_,...T){if(_.__VUE_I18N_SYMBOL__=m,_.provide(_.__VUE_I18N_SYMBOL__,b),isPlainObject(T[0])){const C=T[0];b.__composerExtend=C.__composerExtend,b.__vueI18nExtend=C.__vueI18nExtend}let E=null;l&&(E=injectGlobalFields(_,b.global)),apply$1(_,b,...T);const P=_.unmount;_.unmount=()=>{E&&E(),b.dispose(),P()}},get global(){return f},dispose(){d.stop()},__instances:u,__getInstance:g,__setInstance:v,__deleteInstance:y};return b}}function useI18n(s={}){const a=getCurrentInstance();if(a==null)throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);if(!a.isCE&&a.appContext.app!=null&&!a.appContext.app.__VUE_I18N_SYMBOL__)throw createI18nError(I18nErrorCodes.NOT_INSTALLED);const l=getI18nInstance(a),c=getGlobalComposer(l),u=getComponentOptions(a),d=getScope(s,u);if(d==="global")return adjustI18nResources(c,s,u),c;if(d==="parent"){let g=getComposer(l,a,s.__useComponent);return g==null&&(g=c),g}const f=l;let m=f.__getInstance(a);if(m==null){const g=assign$1({},s);"__i18n"in u&&(g.__i18n=u.__i18n),c&&(g.__root=c),m=createComposer(g),f.__composerExtend&&(m[DisposeSymbol]=f.__composerExtend(m)),setupLifeCycle(f,a,m),f.__setInstance(a,m)}return m}function createGlobal(s,a,l){const c=effectScope();{const u=c.run(()=>createComposer(s));if(u==null)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);return[c,u]}}function getI18nInstance(s){{const a=inject(s.isCE?I18nInjectionKey:s.appContext.app.__VUE_I18N_SYMBOL__);if(!a)throw createI18nError(s.isCE?I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE:I18nErrorCodes.UNEXPECTED_ERROR);return a}}function getScope(s,a){return isEmptyObject(s)?"__i18n"in a?"local":"global":s.useScope?s.useScope:"local"}function getGlobalComposer(s){return s.mode==="composition"?s.global:s.global.__composer}function getComposer(s,a,l=!1){let c=null;const u=a.root;let d=getParentComponentInstance(a,l);for(;d!=null;){const f=s;if(s.mode==="composition"&&(c=f.__getInstance(d)),c!=null||u===d)break;d=d.parent}return c}function getParentComponentInstance(s,a=!1){return s==null?null:a&&s.vnode.ctx||s.parent}function setupLifeCycle(s,a,l){onMounted(()=>{},a),onUnmounted(()=>{const c=l;s.__deleteInstance(a);const u=c[DisposeSymbol];u&&(u(),delete c[DisposeSymbol])},a)}const globalExportProps=["locale","fallbackLocale","availableLocales"],globalExportMethods=["t","rt","d","n","tm","te"];function injectGlobalFields(s,a){const l=Object.create(null);return globalExportProps.forEach(u=>{const d=Object.getOwnPropertyDescriptor(a,u);if(!d)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const f=isRef(d.value)?{get(){return d.value.value},set(m){d.value.value=m}}:{get(){return d.get&&d.get()}};Object.defineProperty(l,u,f)}),s.config.globalProperties.$i18n=l,globalExportMethods.forEach(u=>{const d=Object.getOwnPropertyDescriptor(a,u);if(!d||!d.value)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);Object.defineProperty(s.config.globalProperties,`$${u}`,d)}),()=>{delete s.config.globalProperties.$i18n,globalExportMethods.forEach(u=>{delete s.config.globalProperties[`$${u}`]})}}initFeatureFlags();__INTLIFY_JIT_COMPILATION__&&registerMessageCompiler(compile);registerMessageResolver(resolveValue);registerLocaleFallbacker(fallbackWithLocaleChain);function useNotifications(){const s=useQuasar(),a=useI18n(),l={info:null,error:"red",warning:"yellow"};return{notify:(u,d=!0,f="info")=>{s.notify({group:d,color:l[f],message:u,position:s.platform.is.mobile?"bottom":"bottom-right",closeBtn:a.t("close")})}}}const requiredFields=["id"];function getOrgNodeValidationErrors(s){const a=[];for(const l of requiredFields)s.meta[l]||a.push(`Missing required field: ${l}`);if(!!a.length)return a}const useNoteEditorStore=defineStore("noteEditor",()=>{const s=ref(),a=ref(),l=ref(),c=ref([]),u=ref(),d=ref(!1),f=(x,A)=>{var L;!((L=c.value)!=null&&L.length)||(a.value=x,s.value=A,S())},m=x=>{f(x.rawValue,x)},g=x=>{c.value=x},v=x=>{u.value=x},y=x=>{a.value=x,s.value=withMetaInfo(parse$1(x))},b=useNotifications(),_=useNotesStore(),T=computed(()=>{var x;return s.value&&((x=s.value)==null?void 0:x.end)!==0&&withMetaInfo(s.value)}),E=computed(()=>{var x;return T.value&&{content:a.value,id:T.value.meta.id,filePath:(x=c.value)!=null?x:[generateFileName(T.value.meta.title)],meta:T.value.meta}}),P=computed(()=>{var x;return T.value&&{content:T.value,id:T.value.meta.id,filePath:(x=c.value)!=null?x:[generateFileName(T.value.meta.title)],meta:T.value.meta}}),C=async()=>{var A,L;const x=new Date().toISOString();await _.upsertNotesLocally([{content:a.value,id:T.value.meta.id,createdAt:(A=u.value)!=null?A:x,updatedAt:x,filePath:(L=c.value)!=null&&L.length?toRaw(c.value):[generateFileName(T.value.meta.title)],meta:toRaw(T.value.meta)}])},S=()=>{if(!s.value)return;const x=getOrgNodeValidationErrors(T.value);if(x){b.notify(x.join(`
`),!1,"error");return}l.value=a.value,C()},N=computed(()=>l.value===a.value);return{noteOrgData:s,noteText:a,rawNote:E,note:P,orgTree:T,setNoteData:f,save:S,saved:N,setNoteContent:m,setNoteText:y,setFilePath:g,setCreatedTime:v,toggleDebug:()=>d.value=!d.value,debug:d}}),useSearchStore=defineStore("search",()=>{useAuthStore();const s=useCompletionStore(),a=useRouter(),l=ref(""),c=ref([]),u=ref(10),d=ref(0);return{searchResults:c,limit:u,offset:d,query:l,initCompletion:async()=>{const m=(g,v,y)=>new Promise(async(b,_)=>{try{const T=await repositories.notes.count(g),P=(await repositories.notes.getNotePreviews(v,y,g)).map(C=>({command:C.meta.title,icon:"description",description:C.meta.description,group:"Notes",data:C,commandHandler:()=>{a.push(`/detail/${C.id}`),s.closeCompletion()}}));b({result:P,total:T})}catch(T){_(T)}});s.initNewCompletion({itemsGetter:m,placeholder:"search notes"})}}}),useSelectedNotesStore=defineStore("selected-notes",()=>{const s=ref(new Set),a=useNotesStore(),l=computed(()=>s.value.size===a.notes.length),c=()=>{if(l.value){s.value.clear();return}s.value=new Set(a.notes.map(v=>v.id))},u=v=>{if(s.value.has(v)){s.value.delete(v);return}s.value.add(v)},d=v=>s.value.has(v),f=computed(()=>a.notes.length===s.value.size),m=computed(()=>s.value.size>0),g=()=>s.value.clear();return{toggleBulkNotesSelection:c,allNotesSelected:l,toggleNoteSelection:u,isNoteSelected:d,isAllNotesSelected:f,isSomeNotesSelected:m,selectedNotesIds:computed(()=>[...s.value]),clearSelectedNotes:g}}),useCurrentNoteStore=defineStore("current-note",()=>{const s=ref(null),a=ref([]),l=ref(null),c=10,u=useRouter(),d=useAuthStore(),f=async b=>{try{return(await sdk.notes.notesIdGet(b)).data.data}catch(_){console.log("\u{1F984}: [line 41][current-note.ts] \x1B[35me: ",_)}},m=async b=>{const _=await repositories.notes.getById(b);if(!!_)return _.author=d.user,_.isMy=!0,_},g=b=>{a.value=[b,...a.value].slice(0,c)},v=async b=>{var C,S;if(((C=s.value)==null?void 0:C.id)===b)return[];const T=(S=await m(b))!=null?S:await f(b);if(!T)return[];const E=withMetaInfo(parse$1(T.content));return g({note:T,orgTree:E}),[T,E]};return{currentNote:s,currentOrgTree:l,selectNoteById:async b=>{s.value=null,[s.value,l.value]=await v(b),s.value||u.push({name:RouteNames.NotFound})},getNoteById:v}}),PUBLIC_DEFAULT_LIMIT=100,PUBLIC_DEFAULT_OFFSET=0,usePublicNotesStore=defineStore("publicNotes",()=>{const s=ref([]),a=ref({limit:PUBLIC_DEFAULT_LIMIT,offset:PUBLIC_DEFAULT_OFFSET}),l=ref(0),c=ref(),u=g=>{var y;const v={...a.value,...g};v.searchText=(y=v.searchText)==null?void 0:y.trim(),v.limit||(v.limit=PUBLIC_DEFAULT_LIMIT),v.offset||(v.offset=PUBLIC_DEFAULT_OFFSET),a.value=v};return{notes:s,selectedNote:c,total:l,filters:a,loadNotes:async()=>{try{const g=await sdk.notes.notesGet(a.value.limit,a.value.offset,a.value.userId,a.value.searchText);s.value=g.data.data,l.value=g.data.meta.total,u({limit:g.data.meta.limit,offset:g.data.meta.offset})}catch(g){console.log("\u{1F984}: [line 24][notes.ts] \x1B[35me: ",g)}},fetchNotes:async g=>{if(a.value.offset!==g){u({offset:g});try{const v=await sdk.notes.notesGet(a.value.limit,a.value.offset,a.value.userId,a.value.searchText);s.value=[...s.value,...v.data.data],l.value=v.data.meta.total}catch{}}},selectNote:g=>{c.value=g},setFilters:u}}),useFileStore=defineStore("fileStore",()=>{const s=async f=>{repositories.files.save(f),u()},a=async f=>repositories.files.getByName(f),l=async f=>{repositories.files.deleteByName(f)},c=useAuthStore(),u=async()=>{var m;if((m=c.user)!=null&&m.isAnonymous)return;let f=await repositories.files.getFirst();for(;f;){if(!f)return;try{await sdk.files.uploadFile(f),await l(f.name),await sleep(1500),f=await repositories.files.getFirst()}catch(g){console.error(g),u()}}};return{saveFile:s,getFile:a,deleteFile:l,preserveFiles:u,uploadMediaFile:async()=>{const f=document.createElement("input");f.type="file",f.accept="image/*",f.multiple=!1;const m=new AbortController,g=new Promise(v=>{f.addEventListener("change",async()=>{var b;if(!((b=f.files)!=null&&b.length))return;const y=f.files[0];await s(y),v(y.name),m.abort(),console.log("\u270E: [line 70][import-store.ts] file: ",y)},{signal:m.signal})});return f.click(),g}}}),useToolbarStore=defineStore("toolbarStore",()=>{const s=useRouter(),{executeCommand:a}=useKeybindingStore(),l=useFileManagerStore(),c=ref({}),u=ref([[{name:"toggle sidebar",icon:"menu_open",handler:()=>a({command:"toggleActionSidePanel"})},{name:"my notes",icon:"home",sidebarPosition:"top",handler:()=>{const P=useAuthStore();s.push({name:RouteNames.UserNotes,params:{userId:P.user.id}})}},{name:"create note",permament:!0,sidebarPosition:"top",icon:"add",handler:()=>l.createFile()},{name:"search",sidebarPosition:"top",icon:"search",handler:()=>a({command:COMMAND.openSearch})},{name:"execute command",sidebarPosition:"bottom",icon:"terminal",handler:()=>a({command:COMMAND.toggleExecuteCommand})}]]),d=P=>{v(),u.value.push(P)},f=()=>{u.value.pop(),y()},m=computed(()=>u.value[u.value.length-1]),g=computed(()=>[...m.value,...Object.values(c.value)]),v=()=>{m.value.filter(C=>C.permament).forEach(C=>{c.value[C.name]=C})},y=()=>{m.value.forEach(P=>{c.value[P.name]&&delete c.value[P.name]})},b=computed(()=>Object.values(c.value)),_=(P,C)=>{v();const S=[...m.value];S[C]=P,u.value.push(S)};return{actions:m,allActions:g,hiddenActions:b,setMainAction:P=>{_(P,2)},setActions:d,backToPreviousActions:f,setAdditionalAction:P=>{_(P,1)}}}),useSidebarStore=defineStore("sidebar",()=>{const s=ref(!1),a=shallowRef(null),l=()=>s.value=!1,c=()=>s.value=!0,u=g=>{s.value=!0,a.value=g};return{opened:s,open:c,toggle:()=>{s.value=!s.value},component:a,close:l,openComponent:u,toggleWithComponent:g=>{if(s.value&&g===a.value){l();return}u(g)},toggleWithFallback:g=>{if(s.value){l();return}if(a.value){c();return}u(g)}}}),useModalStore=defineStore("modal",()=>{const s=ref(!1),a=ref({closable:!0}),l=shallowRef(),c=(f,m)=>{m&&(a.value=m),f!==l.value&&(l.value=f),s.value=!0},u=()=>{s.value=!1},d=computed(()=>a.value.title);return{open:c,opened:s,title:d,close:u,component:l,config:a}}),useEditorActionsStore=defineStore("editor-actions",()=>{const s=useFileStore(),a=ref([{name:"headline 1",icon:"view_headline",description:"insert a headline",handler:c=>insertTemplate({editorView:c,template:"* ",overrideLine:!0})},{name:"code",icon:"code",description:"insert src code block",handler:c=>insertTemplate({editorView:c,template:`#+BEGIN_SRC

#+END_SRC`,focusOffset:12,overrideLine:!0})},{name:"quote",icon:"format_quote",description:"insert a quote",handler:c=>insertTemplate({editorView:c,template:`#+BEGIN_QUOTE

#+END_QUOTE`,focusOffset:14,overrideLine:!0})},{name:"latex",icon:"functions",description:"insert a latex block",handler:c=>insertTemplate({editorView:c,template:`#+BEGIN_EXPORT latex

#+END_EXPORT`,focusOffset:12,overrideLine:!0})},{name:"link",icon:"link",description:"insert a link",handler:c=>insertTemplate({editorView:c,template:"[[][]]",focusOffset:2})},{name:"internal link",icon:"hub",description:"insert note link",handler:c=>insertTemplate({editorView:c,template:"[[]]",focusOffset:2,overrideLine:!0})},{name:"image",icon:"photo",description:"insert an image",handler:async c=>{const u=await s.uploadMediaFile();return insertTemplate({editorView:c,template:`[[${u!=null?u:""}]]`,focusOffset:2,overrideLine:!0})}}]);return{actions:a,addAction:c=>{a.value.push(c)}}});var createStore=()=>{const s=createPinia();return s.use(persistedState),s};const __default__={name:"App"},_sfc_main=defineComponent({...__default__,setup(s){return useSyncStore().syncNotes(),(l,c)=>{const u=resolveComponent("router-view");return openBlock(),createBlock(u)}}});var createRouter=function(){return createRouter$1({scrollBehavior:()=>({left:0,top:0}),routes,history:createWebHashHistory("")})};async function createQuasarApp(s,a){const l=s(_sfc_main);l.use(Quasar,a);const c=typeof createStore=="function"?await createStore({}):createStore;l.use(c);const u=markRaw(typeof createRouter=="function"?await createRouter({store:c}):createRouter);return c.use(({store:d})=>{d.router=u}),{app:l,store:c,router:u}}const useSizeDefaults={xs:18,sm:24,md:32,lg:38,xl:46},useSizeProps={size:String};function useSize(s,a=useSizeDefaults){return computed(()=>s.size!==void 0?{fontSize:s.size in a?`${a[s.size]}px`:s.size}:null)}const createComponent=s=>markRaw(defineComponent(s)),createDirective=s=>markRaw(s);function hSlot(s,a){return s!==void 0&&s()||a}function hUniqueSlot(s,a){if(s!==void 0){const l=s();if(l!=null)return l.slice()}return a}function hMergeSlot(s,a){return s!==void 0?a.concat(s()):a}function hMergeSlotSafely(s,a){return s===void 0?a:a!==void 0?a.concat(s()):s()}function hDir(s,a,l,c,u,d){a.key=c+u;const f=h(s,a,l);return u===!0?withDirectives(f,d()):f}const defaultViewBox="0 0 24 24",sameFn=s=>s,ionFn=s=>`ionicons ${s}`,libMap={"mdi-":s=>`mdi ${s}`,"icon-":sameFn,"bt-":s=>`bt ${s}`,"eva-":s=>`eva ${s}`,"ion-md":ionFn,"ion-ios":ionFn,"ion-logo":ionFn,"iconfont ":sameFn,"ti-":s=>`themify-icon ${s}`,"bi-":s=>`bootstrap-icons ${s}`},matMap={o_:"-outlined",r_:"-round",s_:"-sharp"},symMap={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},libRE=new RegExp("^("+Object.keys(libMap).join("|")+")"),matRE=new RegExp("^("+Object.keys(matMap).join("|")+")"),symRE=new RegExp("^("+Object.keys(symMap).join("|")+")"),mRE=/^[Mm]\s?[-+]?\.?\d/,imgRE=/^img:/,svgUseRE=/^svguse:/,ionRE=/^ion-/,faRE=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var QIcon=createComponent({name:"QIcon",props:{...useSizeProps,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(s,{slots:a}){const{proxy:{$q:l}}=getCurrentInstance(),c=useSize(s),u=computed(()=>"q-icon"+(s.left===!0?" on-left":"")+(s.right===!0?" on-right":"")+(s.color!==void 0?` text-${s.color}`:"")),d=computed(()=>{let f,m=s.name;if(m==="none"||!m)return{none:!0};if(l.iconMapFn!==null){const y=l.iconMapFn(m);if(y!==void 0)if(y.icon!==void 0){if(m=y.icon,m==="none"||!m)return{none:!0}}else return{cls:y.cls,content:y.content!==void 0?y.content:" "}}if(mRE.test(m)===!0){const[y,b=defaultViewBox]=m.split("|");return{svg:!0,viewBox:b,nodes:y.split("&&").map(_=>{const[T,E,P]=_.split("@@");return h("path",{style:E,d:T,transform:P})})}}if(imgRE.test(m)===!0)return{img:!0,src:m.substring(4)};if(svgUseRE.test(m)===!0){const[y,b=defaultViewBox]=m.split("|");return{svguse:!0,src:y.substring(7),viewBox:b}}let g=" ";const v=m.match(libRE);if(v!==null)f=libMap[v[1]](m);else if(faRE.test(m)===!0)f=m;else if(ionRE.test(m)===!0)f=`ionicons ion-${l.platform.is.ios===!0?"ios":"md"}${m.substring(3)}`;else if(symRE.test(m)===!0){f="notranslate material-symbols";const y=m.match(symRE);y!==null&&(m=m.substring(6),f+=symMap[y[1]]),g=m}else{f="notranslate material-icons";const y=m.match(matRE);y!==null&&(m=m.substring(2),f+=matMap[y[1]]),g=m}return{cls:f,content:g}});return()=>{const f={class:u.value,style:c.value,"aria-hidden":"true",role:"presentation"};return d.value.none===!0?h(s.tag,f,hSlot(a.default)):d.value.img===!0?h("span",f,hMergeSlot(a.default,[h("img",{src:d.value.src})])):d.value.svg===!0?h("span",f,hMergeSlot(a.default,[h("svg",{viewBox:d.value.viewBox||"0 0 24 24"},d.value.nodes)])):d.value.svguse===!0?h("span",f,hMergeSlot(a.default,[h("svg",{viewBox:d.value.viewBox},[h("use",{"xlink:href":d.value.src})])])):(d.value.cls!==void 0&&(f.class+=" "+d.value.cls),h(s.tag,f,hMergeSlot(a.default,[d.value.content])))}}}),QAvatar=createComponent({name:"QAvatar",props:{...useSizeProps,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(s,{slots:a}){const l=useSize(s),c=computed(()=>"q-avatar"+(s.color?` bg-${s.color}`:"")+(s.textColor?` text-${s.textColor} q-chip--colored`:"")+(s.square===!0?" q-avatar--square":s.rounded===!0?" rounded-borders":"")),u=computed(()=>s.fontSize?{fontSize:s.fontSize}:null);return()=>{const d=s.icon!==void 0?[h(QIcon,{name:s.icon})]:void 0;return h("div",{class:c.value,style:l.value},[h("div",{class:"q-avatar__content row flex-center overflow-hidden",style:u.value},hMergeSlotSafely(a.default,d))])}}});const useSpinnerProps={size:{type:[Number,String],default:"1em"},color:String};function useSpinner(s){return{cSize:computed(()=>s.size in useSizeDefaults?`${useSizeDefaults[s.size]}px`:s.size),classes:computed(()=>"q-spinner"+(s.color?` text-${s.color}`:""))}}var QSpinner=createComponent({name:"QSpinner",props:{...useSpinnerProps,thickness:{type:Number,default:5}},setup(s){const{cSize:a,classes:l}=useSpinner(s);return()=>h("svg",{class:l.value+" q-spinner-mat",width:a.value,height:a.value,viewBox:"25 25 50 50"},[h("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":s.thickness,"stroke-miterlimit":"10"})])}});function css(s,a){const l=s.style;for(const c in a)l[c]=a[c]}function getElement(s){if(s==null)return;if(typeof s=="string")try{return document.querySelector(s)||void 0}catch{return}const a=unref(s);if(a)return a.$el||a}function childHasFocus(s,a){if(s==null||s.contains(a)===!0)return!0;for(let l=s.nextElementSibling;l!==null;l=l.nextElementSibling)if(l.contains(a))return!0;return!1}function throttle(s,a=250){let l=!1,c;return function(){return l===!1&&(l=!0,setTimeout(()=>{l=!1},a),c=s.apply(this,arguments)),c}}function showRipple(s,a,l,c){l.modifiers.stop===!0&&stop(s);const u=l.modifiers.color;let d=l.modifiers.center;d=d===!0||c===!0;const f=document.createElement("span"),m=document.createElement("span"),g=position(s),{left:v,top:y,width:b,height:_}=a.getBoundingClientRect(),T=Math.sqrt(b*b+_*_),E=T/2,P=`${(b-T)/2}px`,C=d?P:`${g.left-v-E}px`,S=`${(_-T)/2}px`,N=d?S:`${g.top-y-E}px`;m.className="q-ripple__inner",css(m,{height:`${T}px`,width:`${T}px`,transform:`translate3d(${C},${N},0) scale3d(.2,.2,1)`,opacity:0}),f.className=`q-ripple${u?" text-"+u:""}`,f.setAttribute("dir","ltr"),f.appendChild(m),a.appendChild(f);const O=()=>{f.remove(),clearTimeout(x)};l.abort.push(O);let x=setTimeout(()=>{m.classList.add("q-ripple__inner--enter"),m.style.transform=`translate3d(${P},${S},0) scale3d(1,1,1)`,m.style.opacity=.2,x=setTimeout(()=>{m.classList.remove("q-ripple__inner--enter"),m.classList.add("q-ripple__inner--leave"),m.style.opacity=0,x=setTimeout(()=>{f.remove(),l.abort.splice(l.abort.indexOf(O),1)},275)},250)},50)}function updateModifiers(s,{modifiers:a,value:l,arg:c}){const u=Object.assign({},s.cfg.ripple,a,l);s.modifiers={early:u.early===!0,stop:u.stop===!0,center:u.center===!0,color:u.color||c,keyCodes:[].concat(u.keyCodes||13)}}var Ripple=createDirective({name:"ripple",beforeMount(s,a){const l=a.instance.$.appContext.config.globalProperties.$q.config||{};if(l.ripple===!1)return;const c={cfg:l,enabled:a.value!==!1,modifiers:{},abort:[],start(u){c.enabled===!0&&u.qSkipRipple!==!0&&u.type===(c.modifiers.early===!0?"pointerdown":"click")&&showRipple(u,s,c,u.qKeyEvent===!0)},keystart:throttle(u=>{c.enabled===!0&&u.qSkipRipple!==!0&&isKeyCode(u,c.modifiers.keyCodes)===!0&&u.type===`key${c.modifiers.early===!0?"down":"up"}`&&showRipple(u,s,c,!0)},300)};updateModifiers(c,a),s.__qripple=c,addEvt(c,"main",[[s,"pointerdown","start","passive"],[s,"click","start","passive"],[s,"keydown","keystart","passive"],[s,"keyup","keystart","passive"]])},updated(s,a){if(a.oldValue!==a.value){const l=s.__qripple;l!==void 0&&(l.enabled=a.value!==!1,l.enabled===!0&&Object(a.value)===a.value&&updateModifiers(l,a))}},beforeUnmount(s){const a=s.__qripple;a!==void 0&&(a.abort.forEach(l=>{l()}),cleanEvt(a,"main"),delete s._qripple)}});const alignMap={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},alignValues=Object.keys(alignMap),useAlignProps={align:{type:String,validator:s=>alignValues.includes(s)}};function useAlign(s){return computed(()=>{const a=s.align===void 0?s.vertical===!0?"stretch":"left":s.align;return`${s.vertical===!0?"items":"justify"}-${alignMap[a]}`})}function getParentProxy(s){if(Object(s.$parent)===s.$parent)return s.$parent;let{parent:a}=s.$;for(;Object(a)===a;){if(Object(a.proxy)===a.proxy)return a.proxy;a=a.parent}}function fillNormalizedVNodes(s,a){typeof a.type=="symbol"?Array.isArray(a.children)===!0&&a.children.forEach(l=>{fillNormalizedVNodes(s,l)}):s.add(a)}function getNormalizedVNodes(s){const a=new Set;return s.forEach(l=>{fillNormalizedVNodes(a,l)}),Array.from(a)}function vmHasRouter(s){return s.appContext.config.globalProperties.$router!==void 0}function vmIsDestroyed(s){return s.isUnmounted===!0||s.isDeactivated===!0}function getOriginalPath(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}function isSameRouteRecord(s,a){return(s.aliasOf||s)===(a.aliasOf||a)}function includesParams(s,a){for(const l in a){const c=a[l],u=s[l];if(typeof c=="string"){if(c!==u)return!1}else if(Array.isArray(u)===!1||u.length!==c.length||c.some((d,f)=>d!==u[f]))return!1}return!0}function isEquivalentArray(s,a){return Array.isArray(a)===!0?s.length===a.length&&s.every((l,c)=>l===a[c]):s.length===1&&s[0]===a}function isSameRouteLocationParamsValue(s,a){return Array.isArray(s)===!0?isEquivalentArray(s,a):Array.isArray(a)===!0?isEquivalentArray(a,s):s===a}function isSameRouteLocationParams(s,a){if(Object.keys(s).length!==Object.keys(a).length)return!1;for(const l in s)if(isSameRouteLocationParamsValue(s[l],a[l])===!1)return!1;return!0}const useRouterLinkProps={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function useRouterLink({fallbackTag:s,useDisableForRouterLinkProps:a=!0}={}){const l=getCurrentInstance(),{props:c,proxy:u,emit:d}=l,f=vmHasRouter(l),m=computed(()=>c.disable!==!0&&c.href!==void 0),g=computed(a===!0?()=>f===!0&&c.disable!==!0&&m.value!==!0&&c.to!==void 0&&c.to!==null&&c.to!=="":()=>f===!0&&m.value!==!0&&c.to!==void 0&&c.to!==null&&c.to!==""),v=computed(()=>g.value===!0?N(c.to):null),y=computed(()=>v.value!==null),b=computed(()=>m.value===!0||y.value===!0),_=computed(()=>c.type==="a"||b.value===!0?"a":c.tag||s||"div"),T=computed(()=>m.value===!0?{href:c.href,target:c.target}:y.value===!0?{href:v.value.href,target:c.target}:{}),E=computed(()=>{if(y.value===!1)return-1;const{matched:A}=v.value,{length:L}=A,$=A[L-1];if($===void 0)return-1;const B=u.$route.matched;if(B.length===0)return-1;const M=B.findIndex(isSameRouteRecord.bind(null,$));if(M>-1)return M;const K=getOriginalPath(A[L-2]);return L>1&&getOriginalPath($)===K&&B[B.length-1].path!==K?B.findIndex(isSameRouteRecord.bind(null,A[L-2])):M}),P=computed(()=>y.value===!0&&E.value!==-1&&includesParams(u.$route.params,v.value.params)),C=computed(()=>P.value===!0&&E.value===u.$route.matched.length-1&&isSameRouteLocationParams(u.$route.params,v.value.params)),S=computed(()=>y.value===!0?C.value===!0?` ${c.exactActiveClass} ${c.activeClass}`:c.exact===!0?"":P.value===!0?` ${c.activeClass}`:"":"");function N(A){try{return u.$router.resolve(A)}catch{}return null}function O(A,{returnRouterError:L,to:$=c.to,replace:B=c.replace}={}){if(c.disable===!0)return A.preventDefault(),Promise.resolve(!1);if(A.metaKey||A.altKey||A.ctrlKey||A.shiftKey||A.button!==void 0&&A.button!==0||c.target==="_blank")return Promise.resolve(!1);A.preventDefault();const M=u.$router[B===!0?"replace":"push"]($);return L===!0?M:M.then(()=>{}).catch(()=>{})}function x(A){if(y.value===!0){const L=$=>O(A,$);d("click",A,L),A.defaultPrevented!==!0&&L()}else d("click",A)}return{hasRouterLink:y,hasHrefLink:m,hasLink:b,linkTag:_,resolvedLink:v,linkIsActive:P,linkIsExactActive:C,linkClass:S,linkAttrs:T,getLink:N,navigateToRouterLink:O,navigateOnClick:x}}const btnPadding={none:0,xs:4,sm:8,md:16,lg:24,xl:32},defaultSizes={xs:8,sm:10,md:14,lg:20,xl:24},formTypes=["button","submit","reset"],mediaTypeRE=/[^\s]\/[^\s]/,btnDesignOptions=["flat","outline","push","unelevated"],getBtnDesign=(s,a)=>s.flat===!0?"flat":s.outline===!0?"outline":s.push===!0?"push":s.unelevated===!0?"unelevated":a,useBtnProps={...useSizeProps,...useRouterLinkProps,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...btnDesignOptions.reduce((s,a)=>(s[a]=Boolean)&&s,{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...useAlignProps.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function useBtn(s){const a=useSize(s,defaultSizes),l=useAlign(s),{hasRouterLink:c,hasLink:u,linkTag:d,linkAttrs:f,navigateOnClick:m}=useRouterLink({fallbackTag:"button"}),g=computed(()=>{const C=s.fab===!1&&s.fabMini===!1?a.value:{};return s.padding!==void 0?Object.assign({},C,{padding:s.padding.split(/\s+/).map(S=>S in btnPadding?btnPadding[S]+"px":S).join(" "),minWidth:"0",minHeight:"0"}):C}),v=computed(()=>s.rounded===!0||s.fab===!0||s.fabMini===!0),y=computed(()=>s.disable!==!0&&s.loading!==!0),b=computed(()=>y.value===!0?s.tabindex||0:-1),_=computed(()=>getBtnDesign(s,"standard")),T=computed(()=>{const C={tabindex:b.value};return u.value===!0?Object.assign(C,f.value):formTypes.includes(s.type)===!0&&(C.type=s.type),d.value==="a"?(s.disable===!0?C["aria-disabled"]="true":C.href===void 0&&(C.role="button"),c.value!==!0&&mediaTypeRE.test(s.type)===!0&&(C.type=s.type)):s.disable===!0&&(C.disabled="",C["aria-disabled"]="true"),s.loading===!0&&s.percentage!==void 0&&Object.assign(C,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":s.percentage}),C}),E=computed(()=>{let C;s.color!==void 0?s.flat===!0||s.outline===!0?C=`text-${s.textColor||s.color}`:C=`bg-${s.color} text-${s.textColor||"white"}`:s.textColor&&(C=`text-${s.textColor}`);const S=s.round===!0?"round":`rectangle${v.value===!0?" q-btn--rounded":s.square===!0?" q-btn--square":""}`;return`q-btn--${_.value} q-btn--${S}`+(C!==void 0?" "+C:"")+(y.value===!0?" q-btn--actionable q-focusable q-hoverable":s.disable===!0?" disabled":"")+(s.fab===!0?" q-btn--fab":s.fabMini===!0?" q-btn--fab-mini":"")+(s.noCaps===!0?" q-btn--no-uppercase":"")+(s.dense===!0?" q-btn--dense":"")+(s.stretch===!0?" no-border-radius self-stretch":"")+(s.glossy===!0?" glossy":"")+(s.square?" q-btn--square":"")}),P=computed(()=>l.value+(s.stack===!0?" column":" row")+(s.noWrap===!0?" no-wrap text-no-wrap":"")+(s.loading===!0?" q-btn__content--hidden":""));return{classes:E,style:g,innerClasses:P,attributes:T,hasLink:u,linkTag:d,navigateOnClick:m,isActionable:y}}const{passiveCapture}=listenOpts;let touchTarget=null,keyboardTarget=null,mouseTarget=null;var QBtn=createComponent({name:"QBtn",props:{...useBtnProps,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(s,{slots:a,emit:l}){const{proxy:c}=getCurrentInstance(),{classes:u,style:d,innerClasses:f,attributes:m,hasLink:g,linkTag:v,navigateOnClick:y,isActionable:b}=useBtn(s),_=ref(null),T=ref(null);let E=null,P,C=null;const S=computed(()=>s.label!==void 0&&s.label!==null&&s.label!==""),N=computed(()=>s.disable===!0||s.ripple===!1?!1:{keyCodes:g.value===!0?[13,32]:[13],...s.ripple===!0?{}:s.ripple}),O=computed(()=>({center:s.round})),x=computed(()=>{const q=Math.max(0,Math.min(100,s.percentage));return q>0?{transition:"transform 0.6s",transform:`translateX(${q-100}%)`}:{}}),A=computed(()=>{if(s.loading===!0)return{onMousedown:Z,onTouchstart:Z,onClick:Z,onKeydown:Z,onKeyup:Z};if(b.value===!0){const q={onClick:$,onKeydown:B,onMousedown:K};if(c.$q.platform.has.touch===!0){const Q=s.onTouchstart!==void 0?"":"Passive";q[`onTouchstart${Q}`]=M}return q}return{onClick:stopAndPrevent}}),L=computed(()=>({ref:_,class:"q-btn q-btn-item non-selectable no-outline "+u.value,style:d.value,...m.value,...A.value}));function $(q){if(_.value!==null){if(q!==void 0){if(q.defaultPrevented===!0)return;const Q=document.activeElement;if(s.type==="submit"&&Q!==document.body&&_.value.contains(Q)===!1&&Q.contains(_.value)===!1){_.value.focus();const ae=()=>{document.removeEventListener("keydown",stopAndPrevent,!0),document.removeEventListener("keyup",ae,passiveCapture),_.value!==null&&_.value.removeEventListener("blur",ae,passiveCapture)};document.addEventListener("keydown",stopAndPrevent,!0),document.addEventListener("keyup",ae,passiveCapture),_.value.addEventListener("blur",ae,passiveCapture)}}y(q)}}function B(q){_.value!==null&&(l("keydown",q),isKeyCode(q,[13,32])===!0&&keyboardTarget!==_.value&&(keyboardTarget!==null&&U(),q.defaultPrevented!==!0&&(_.value.focus(),keyboardTarget=_.value,_.value.classList.add("q-btn--active"),document.addEventListener("keyup",Y,!0),_.value.addEventListener("blur",Y,passiveCapture)),stopAndPrevent(q)))}function M(q){_.value!==null&&(l("touchstart",q),q.defaultPrevented!==!0&&(touchTarget!==_.value&&(touchTarget!==null&&U(),touchTarget=_.value,E=q.target,E.addEventListener("touchcancel",Y,passiveCapture),E.addEventListener("touchend",Y,passiveCapture)),P=!0,C!==null&&clearTimeout(C),C=setTimeout(()=>{C=null,P=!1},200)))}function K(q){_.value!==null&&(q.qSkipRipple=P===!0,l("mousedown",q),q.defaultPrevented!==!0&&mouseTarget!==_.value&&(mouseTarget!==null&&U(),mouseTarget=_.value,_.value.classList.add("q-btn--active"),document.addEventListener("mouseup",Y,passiveCapture)))}function Y(q){if(_.value!==null&&!(q!==void 0&&q.type==="blur"&&document.activeElement===_.value)){if(q!==void 0&&q.type==="keyup"){if(keyboardTarget===_.value&&isKeyCode(q,[13,32])===!0){const Q=new MouseEvent("click",q);Q.qKeyEvent=!0,q.defaultPrevented===!0&&prevent(Q),q.cancelBubble===!0&&stop(Q),_.value.dispatchEvent(Q),stopAndPrevent(q),q.qKeyEvent=!0}l("keyup",q)}U()}}function U(q){const Q=T.value;q!==!0&&(touchTarget===_.value||mouseTarget===_.value)&&Q!==null&&Q!==document.activeElement&&(Q.setAttribute("tabindex",-1),Q.focus()),touchTarget===_.value&&(E!==null&&(E.removeEventListener("touchcancel",Y,passiveCapture),E.removeEventListener("touchend",Y,passiveCapture)),touchTarget=E=null),mouseTarget===_.value&&(document.removeEventListener("mouseup",Y,passiveCapture),mouseTarget=null),keyboardTarget===_.value&&(document.removeEventListener("keyup",Y,!0),_.value!==null&&_.value.removeEventListener("blur",Y,passiveCapture),keyboardTarget=null),_.value!==null&&_.value.classList.remove("q-btn--active")}function Z(q){stopAndPrevent(q),q.qSkipRipple=!0}return onBeforeUnmount(()=>{U(!0)}),Object.assign(c,{click:$}),()=>{let q=[];s.icon!==void 0&&q.push(h(QIcon,{name:s.icon,left:s.stack===!1&&S.value===!0,role:"img","aria-hidden":"true"})),S.value===!0&&q.push(h("span",{class:"block"},[s.label])),q=hMergeSlot(a.default,q),s.iconRight!==void 0&&s.round===!1&&q.push(h(QIcon,{name:s.iconRight,right:s.stack===!1&&S.value===!0,role:"img","aria-hidden":"true"}));const Q=[h("span",{class:"q-focus-helper",ref:T})];return s.loading===!0&&s.percentage!==void 0&&Q.push(h("span",{class:"q-btn__progress absolute-full overflow-hidden"+(s.darkPercentage===!0?" q-btn__progress--dark":"")},[h("span",{class:"q-btn__progress-indicator fit block",style:x.value})])),Q.push(h("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+f.value},q)),s.loading!==null&&Q.push(h(Transition,{name:"q-transition--fade"},()=>s.loading===!0?[h("span",{key:"loading",class:"absolute-full flex flex-center"},a.loading!==void 0?a.loading():[h(QSpinner)])]:null)),withDirectives(h(v.value,L.value,Q),[[Ripple,N.value,void 0,O.value]])}}});let portalIndex=1,target=document.body;function createGlobalNode(s,a){const l=document.createElement("div");if(l.id=a!==void 0?`q-portal--${a}--${portalIndex++}`:s,globalConfig.globalNodes!==void 0){const c=globalConfig.globalNodes.class;c!==void 0&&(l.className=c)}return target.appendChild(l),l}function removeGlobalNode(s){s.remove()}let uid$1=0;const defaults$1={},groups={},notificationsList={},positionClass={},emptyRE=/^\s*$/,notifRefs=[],positionList=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],badgePositions=["top-left","top-right","bottom-left","bottom-right"],notifTypes={positive:{icon:s=>s.iconSet.type.positive,color:"positive"},negative:{icon:s=>s.iconSet.type.negative,color:"negative"},warning:{icon:s=>s.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:s=>s.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function addNotification(s,a,l){if(!s)return logError("parameter required");let c;const u={textColor:"white"};if(s.ignoreDefaults!==!0&&Object.assign(u,defaults$1),isObject$5(s)===!1&&(u.type&&Object.assign(u,notifTypes[u.type]),s={message:s}),Object.assign(u,notifTypes[s.type||u.type],s),typeof u.icon=="function"&&(u.icon=u.icon(a)),u.spinner?(u.spinner===!0&&(u.spinner=QSpinner),u.spinner=markRaw(u.spinner)):u.spinner=!1,u.meta={hasMedia:Boolean(u.spinner!==!1||u.icon||u.avatar),hasText:hasContent(u.message)||hasContent(u.caption)},u.position){if(positionList.includes(u.position)===!1)return logError("wrong position",s)}else u.position="bottom";if(u.timeout===void 0)u.timeout=5e3;else{const g=parseInt(u.timeout,10);if(isNaN(g)||g<0)return logError("wrong timeout",s);u.timeout=g}u.timeout===0?u.progress=!1:u.progress===!0&&(u.meta.progressClass="q-notification__progress"+(u.progressClass?` ${u.progressClass}`:""),u.meta.progressStyle={animationDuration:`${u.timeout+1e3}ms`});const d=(Array.isArray(s.actions)===!0?s.actions:[]).concat(s.ignoreDefaults!==!0&&Array.isArray(defaults$1.actions)===!0?defaults$1.actions:[]).concat(notifTypes[s.type]!==void 0&&Array.isArray(notifTypes[s.type].actions)===!0?notifTypes[s.type].actions:[]),{closeBtn:f}=u;if(f&&d.push({label:typeof f=="string"?f:a.lang.label.close}),u.actions=d.map(({handler:g,noDismiss:v,...y})=>({flat:!0,...y,onClick:typeof g=="function"?()=>{g(),v!==!0&&m()}:()=>{m()}})),u.multiLine===void 0&&(u.multiLine=u.actions.length>1),Object.assign(u.meta,{class:`q-notification row items-stretch q-notification--${u.multiLine===!0?"multi-line":"standard"}`+(u.color!==void 0?` bg-${u.color}`:"")+(u.textColor!==void 0?` text-${u.textColor}`:"")+(u.classes!==void 0?` ${u.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(u.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(u.multiLine===!0?"":" col"),leftClass:u.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...u.attrs}}),u.group===!1?(u.group=void 0,u.meta.group=void 0):((u.group===void 0||u.group===!0)&&(u.group=[u.message,u.caption,u.multiline].concat(u.actions.map(g=>`${g.label}*${g.icon}`)).join("|")),u.meta.group=u.group+"|"+u.position),u.actions.length===0?u.actions=void 0:u.meta.actionsClass="q-notification__actions row items-center "+(u.multiLine===!0?"justify-end":"col-auto")+(u.meta.hasMedia===!0?" q-notification__actions--with-media":""),l!==void 0){l.notif.meta.timer&&(clearTimeout(l.notif.meta.timer),l.notif.meta.timer=void 0),u.meta.uid=l.notif.meta.uid;const g=notificationsList[u.position].value.indexOf(l.notif);notificationsList[u.position].value[g]=u}else{const g=groups[u.meta.group];if(g===void 0){if(u.meta.uid=uid$1++,u.meta.badge=1,["left","right","center"].indexOf(u.position)!==-1)notificationsList[u.position].value.splice(Math.floor(notificationsList[u.position].value.length/2),0,u);else{const v=u.position.indexOf("top")>-1?"unshift":"push";notificationsList[u.position].value[v](u)}u.group!==void 0&&(groups[u.meta.group]=u)}else{if(g.meta.timer&&(clearTimeout(g.meta.timer),g.meta.timer=void 0),u.badgePosition!==void 0){if(badgePositions.includes(u.badgePosition)===!1)return logError("wrong badgePosition",s)}else u.badgePosition=`top-${u.position.indexOf("left")>-1?"right":"left"}`;u.meta.uid=g.meta.uid,u.meta.badge=g.meta.badge+1,u.meta.badgeClass=`q-notification__badge q-notification__badge--${u.badgePosition}`+(u.badgeColor!==void 0?` bg-${u.badgeColor}`:"")+(u.badgeTextColor!==void 0?` text-${u.badgeTextColor}`:"")+(u.badgeClass?` ${u.badgeClass}`:"");const v=notificationsList[u.position].value.indexOf(g);notificationsList[u.position].value[v]=groups[u.meta.group]=u}}const m=()=>{removeNotification(u),c=void 0};if(u.timeout>0&&(u.meta.timer=setTimeout(()=>{u.meta.timer=void 0,m()},u.timeout+1e3)),u.group!==void 0)return g=>{g!==void 0?logError("trying to update a grouped one which is forbidden",s):m()};if(c={dismiss:m,config:s,notif:u},l!==void 0){Object.assign(l,c);return}return g=>{if(c!==void 0)if(g===void 0)c.dismiss();else{const v=Object.assign({},c.config,g,{group:!1,position:u.position});addNotification(v,a,c)}}}function removeNotification(s){s.meta.timer&&(clearTimeout(s.meta.timer),s.meta.timer=void 0);const a=notificationsList[s.position].value.indexOf(s);if(a!==-1){s.group!==void 0&&delete groups[s.meta.group];const l=notifRefs[""+s.meta.uid];if(l){const{width:c,height:u}=getComputedStyle(l);l.style.left=`${l.offsetLeft}px`,l.style.width=c,l.style.height=u}notificationsList[s.position].value.splice(a,1),typeof s.onDismiss=="function"&&s.onDismiss()}}function hasContent(s){return s!=null&&emptyRE.test(s)!==!0}function logError(s,a){return console.error(`Notify: ${s}`,a),!1}function getComponent(){return createComponent({name:"QNotifications",devtools:{hide:!0},setup(){return()=>h("div",{class:"q-notifications"},positionList.map(s=>h(TransitionGroup,{key:s,class:positionClass[s],tag:"div",name:`q-notification--${s}`},()=>notificationsList[s].value.map(a=>{const l=a.meta,c=[];if(l.hasMedia===!0&&(a.spinner!==!1?c.push(h(a.spinner,{class:"q-notification__spinner q-notification__spinner--"+l.leftClass,color:a.spinnerColor,size:a.spinnerSize})):a.icon?c.push(h(QIcon,{class:"q-notification__icon q-notification__icon--"+l.leftClass,name:a.icon,color:a.iconColor,size:a.iconSize,role:"img"})):a.avatar&&c.push(h(QAvatar,{class:"q-notification__avatar q-notification__avatar--"+l.leftClass},()=>h("img",{src:a.avatar,"aria-hidden":"true"})))),l.hasText===!0){let d;const f={class:"q-notification__message col"};if(a.html===!0)f.innerHTML=a.caption?`<div>${a.message}</div><div class="q-notification__caption">${a.caption}</div>`:a.message;else{const m=[a.message];d=a.caption?[h("div",m),h("div",{class:"q-notification__caption"},[a.caption])]:m}c.push(h("div",f,d))}const u=[h("div",{class:l.contentClass},c)];return a.progress===!0&&u.push(h("div",{key:`${l.uid}|p|${l.badge}`,class:l.progressClass,style:l.progressStyle})),a.actions!==void 0&&u.push(h("div",{class:l.actionsClass},a.actions.map(d=>h(QBtn,d)))),l.badge>1&&u.push(h("div",{key:`${l.uid}|${l.badge}`,class:a.meta.badgeClass,style:a.badgeStyle},[l.badge])),h("div",{ref:d=>{notifRefs[""+l.uid]=d},key:l.uid,class:l.class,...l.attrs},[h("div",{class:l.wrapperClass},u)])}))))}})}var Notify={setDefaults(s){isObject$5(s)===!0&&Object.assign(defaults$1,s)},registerType(s,a){isObject$5(a)===!0&&(notifTypes[s]=a)},install({$q:s,parentApp:a}){if(s.notify=this.create=l=>addNotification(l,s),s.notify.setDefaults=this.setDefaults,s.notify.registerType=this.registerType,s.config.notify!==void 0&&this.setDefaults(s.config.notify),this.__installed!==!0){positionList.forEach(c=>{notificationsList[c]=ref([]);const u=["left","center","right"].includes(c)===!0?"center":c.indexOf("top")>-1?"top":"bottom",d=c.indexOf("left")>-1?"start":c.indexOf("right")>-1?"end":"center",f=["left","right"].includes(c)?`items-${c==="left"?"start":"end"} justify-center`:c==="center"?"flex-center":`items-${d}`;positionClass[c]=`q-notifications__list q-notifications__list--${u} fixed column no-wrap ${f}`});const l=createGlobalNode("q-notify");createChildApp(getComponent(),a).mount(l)}}};const scrollTargets=[null,document,document.body,document.scrollingElement,document.documentElement];function getScrollTarget(s,a){let l=getElement(a);if(l===void 0){if(s==null)return window;l=s.closest(".scroll,.scroll-y,.overflow-auto")}return scrollTargets.includes(l)?window:l}function getVerticalScrollPosition(s){return s===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:s.scrollTop}function getHorizontalScrollPosition(s){return s===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:s.scrollLeft}function animVerticalScrollTo(s,a,l=0){const c=arguments[3]===void 0?performance.now():arguments[3],u=getVerticalScrollPosition(s);if(l<=0){u!==a&&setScroll(s,a);return}requestAnimationFrame(d=>{const f=d-c,m=u+(a-u)/Math.max(f,l)*f;setScroll(s,m),m!==a&&animVerticalScrollTo(s,a,l-f,d)})}function animHorizontalScrollTo(s,a,l=0){const c=arguments[3]===void 0?performance.now():arguments[3],u=getHorizontalScrollPosition(s);if(l<=0){u!==a&&setHorizontalScroll(s,a);return}requestAnimationFrame(d=>{const f=d-c,m=u+(a-u)/Math.max(f,l)*f;setHorizontalScroll(s,m),m!==a&&animHorizontalScrollTo(s,a,l-f,d)})}function setScroll(s,a){if(s===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a);return}s.scrollTop=a}function setHorizontalScroll(s,a){if(s===window){window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}s.scrollLeft=a}function setVerticalScrollPosition(s,a,l){if(l){animVerticalScrollTo(s,a,l);return}setScroll(s,a)}function setHorizontalScrollPosition(s,a,l){if(l){animHorizontalScrollTo(s,a,l);return}setHorizontalScroll(s,a)}let size;function getScrollbarWidth(){if(size!==void 0)return size;const s=document.createElement("p"),a=document.createElement("div");css(s,{width:"100%",height:"200px"}),css(a,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),a.appendChild(s),document.body.appendChild(a);const l=s.offsetWidth;a.style.overflow="scroll";let c=s.offsetWidth;return l===c&&(c=a.clientWidth),a.remove(),size=l-c,size}function hasScrollbar(s,a=!0){return!s||s.nodeType!==Node.ELEMENT_NODE?!1:a?s.scrollHeight>s.clientHeight&&(s.classList.contains("scroll")||s.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(s)["overflow-y"])):s.scrollWidth>s.clientWidth&&(s.classList.contains("scroll")||s.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(s)["overflow-x"]))}let registered=0,scrollPositionX,scrollPositionY,maxScrollTop,vpPendingUpdate=!1,bodyLeft,bodyTop,href,closeTimer=null;function onWheel(s){shouldPreventScroll(s)&&stopAndPrevent(s)}function shouldPreventScroll(s){if(s.target===document.body||s.target.classList.contains("q-layout__backdrop"))return!0;const a=getEventPath(s),l=s.shiftKey&&!s.deltaX,c=!l&&Math.abs(s.deltaX)<=Math.abs(s.deltaY),u=l||c?s.deltaY:s.deltaX;for(let d=0;d<a.length;d++){const f=a[d];if(hasScrollbar(f,c))return c?u<0&&f.scrollTop===0?!0:u>0&&f.scrollTop+f.clientHeight===f.scrollHeight:u<0&&f.scrollLeft===0?!0:u>0&&f.scrollLeft+f.clientWidth===f.scrollWidth}return!0}function onAppleScroll(s){s.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function onAppleResize(s){vpPendingUpdate!==!0&&(vpPendingUpdate=!0,requestAnimationFrame(()=>{vpPendingUpdate=!1;const{height:a}=s.target,{clientHeight:l,scrollTop:c}=document.scrollingElement;(maxScrollTop===void 0||a!==window.innerHeight)&&(maxScrollTop=l-a,document.scrollingElement.scrollTop=c),c>maxScrollTop&&(document.scrollingElement.scrollTop-=Math.ceil((c-maxScrollTop)/8))}))}function apply(s){const a=document.body,l=window.visualViewport!==void 0;if(s==="add"){const{overflowY:c,overflowX:u}=window.getComputedStyle(a);scrollPositionX=getHorizontalScrollPosition(window),scrollPositionY=getVerticalScrollPosition(window),bodyLeft=a.style.left,bodyTop=a.style.top,href=window.location.href,a.style.left=`-${scrollPositionX}px`,a.style.top=`-${scrollPositionY}px`,u!=="hidden"&&(u==="scroll"||a.scrollWidth>window.innerWidth)&&a.classList.add("q-body--force-scrollbar-x"),c!=="hidden"&&(c==="scroll"||a.scrollHeight>window.innerHeight)&&a.classList.add("q-body--force-scrollbar-y"),a.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,client.is.ios===!0&&(l===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",onAppleResize,listenOpts.passiveCapture),window.visualViewport.addEventListener("scroll",onAppleResize,listenOpts.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",onAppleScroll,listenOpts.passiveCapture))}client.is.desktop===!0&&client.is.mac===!0&&window[`${s}EventListener`]("wheel",onWheel,listenOpts.notPassive),s==="remove"&&(client.is.ios===!0&&(l===!0?(window.visualViewport.removeEventListener("resize",onAppleResize,listenOpts.passiveCapture),window.visualViewport.removeEventListener("scroll",onAppleResize,listenOpts.passiveCapture)):window.removeEventListener("scroll",onAppleScroll,listenOpts.passiveCapture)),a.classList.remove("q-body--prevent-scroll"),a.classList.remove("q-body--force-scrollbar-x"),a.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,a.style.left=bodyLeft,a.style.top=bodyTop,window.location.href===href&&window.scrollTo(scrollPositionX,scrollPositionY),maxScrollTop=void 0)}function preventScroll(s){let a="add";if(s===!0){if(registered++,closeTimer!==null){clearTimeout(closeTimer),closeTimer=null;return}if(registered>1)return}else{if(registered===0||(registered--,registered>0))return;if(a="remove",client.is.ios===!0&&client.is.nativeMobile===!0){closeTimer!==null&&clearTimeout(closeTimer),closeTimer=setTimeout(()=>{apply(a),closeTimer=null},100);return}}apply(a)}let app,vm,uid=0,timeout=null,props={},activeGroups={};const originalDefaults={group:"__default_quasar_group__",delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:QSpinner,customClass:""},defaults={...originalDefaults};function registerProps(s){if(s&&s.group!==void 0&&activeGroups[s.group]!==void 0)return Object.assign(activeGroups[s.group],s);const a=isObject$5(s)===!0&&s.ignoreDefaults===!0?{...originalDefaults,...s}:{...defaults,...s};return activeGroups[a.group]=a,a}const Plugin=defineReactivePlugin({isActive:!1},{show(s){props=registerProps(s);const{group:a}=props;return Plugin.isActive=!0,app!==void 0?(props.uid=uid,vm.$forceUpdate()):(props.uid=++uid,timeout!==null&&clearTimeout(timeout),timeout=setTimeout(()=>{timeout=null;const l=createGlobalNode("q-loading");app=createChildApp({name:"QLoading",setup(){onMounted(()=>{preventScroll(!0)});function c(){Plugin.isActive!==!0&&app!==void 0&&(preventScroll(!1),app.unmount(l),removeGlobalNode(l),app=void 0,vm=void 0)}function u(){if(Plugin.isActive!==!0)return null;const d=[h(props.spinner,{class:"q-loading__spinner",color:props.spinnerColor,size:props.spinnerSize})];return props.message&&d.push(h("div",{class:"q-loading__message"+(props.messageColor?` text-${props.messageColor}`:""),[props.html===!0?"innerHTML":"textContent"]:props.message})),h("div",{class:"q-loading fullscreen flex flex-center z-max "+props.customClass.trim(),key:props.uid},[h("div",{class:"q-loading__backdrop"+(props.backgroundColor?` bg-${props.backgroundColor}`:"")}),h("div",{class:"q-loading__box column items-center "+props.boxClass},d)])}return()=>h(Transition,{name:"q-transition--fade",appear:!0,onAfterLeave:c},u)}},Plugin.__parentApp),vm=app.mount(l)},props.delay)),l=>{if(l===void 0||Object(l)!==l){Plugin.hide(a);return}Plugin.show({...l,group:a})}},hide(s){if(Plugin.isActive===!0){if(s===void 0)activeGroups={};else{if(activeGroups[s]===void 0)return;{delete activeGroups[s];const a=Object.keys(activeGroups);if(a.length!==0){const l=a[a.length-1];Plugin.show({group:l});return}}}timeout!==null&&(clearTimeout(timeout),timeout=null),Plugin.isActive=!1}},setDefaults(s){isObject$5(s)===!0&&Object.assign(defaults,s)},install({$q:s,parentApp:a}){s.loading=this,Plugin.__parentApp=a,s.config.loading!==void 0&&this.setDefaults(s.config.loading)}});var quasarUserOptions={config:{},plugins:{Notify,Loading:Plugin}};const publicPath="";async function start({app:s,router:a,store:l},c){let u=!1;const d=g=>{try{return a.resolve(g).href}catch{}return Object(g)===g?null:g},f=g=>{if(u=!0,typeof g=="string"&&/^https?:\/\//.test(g)){window.location.href=g;return}const v=d(g);v!==null&&(window.location.href=v,window.location.reload())},m=window.location.href.replace(window.location.origin,"");for(let g=0;u===!1&&g<c.length;g++)try{await c[g]({app:s,router:a,store:l,ssrContext:null,redirect:f,urlPath:m,publicPath})}catch(v){if(v&&v.url){f(v.url);return}console.error("[Quasar] boot error:",v);return}u!==!0&&(s.use(a),document.addEventListener("deviceready",()=>{s.config.globalProperties.$q.cordova=window.cordova,s.mount("#q-app")},!1))}createQuasarApp(createApp,quasarUserOptions).then(s=>{const[a,l]=Promise.allSettled!==void 0?["allSettled",c=>c.map(u=>{if(u.status==="rejected"){console.error("[Quasar] boot error:",u.reason);return}return u.value.default})]:["all",c=>c.map(u=>u.default)];return Promise[a]([__vitePreload(()=>import("./i18n.4d81c703.js"),[]),__vitePreload(()=>Promise.resolve().then(function(){return axios$1}),void 0),__vitePreload(()=>import("./katex.cd69991f.js"),["assets/katex.cd69991f.js","assets/_commonjsHelpers.2cf1d77b.js"]),__vitePreload(()=>import("./highlightjs.c8c1c456.js"),[]),__vitePreload(()=>Promise.resolve().then(function(){return repositories$2}),void 0)]).then(c=>{const u=l(c).filter(d=>typeof d=="function");start(s,u)})});export{normalizeClass as $,getVerticalScrollPosition as A,getHorizontalScrollPosition as B,isRuntimeSsrPreHydration as C,getScrollbarWidth as D,reactive as E,onUnmounted as F,hMergeSlot as G,defineStore as H,useNotesStore as I,useFileStore as J,withMetaInfo as K,parse$1 as L,debounce$1 as M,setHorizontalScrollPosition as N,onDeactivated as O,onActivated as P,withDirectives as Q,setVerticalScrollPosition as R,History as S,preventScroll as T,nextTick as U,hDir as V,useAuthStore as W,createElementBlock as X,createVNode as Y,withCtx as Z,QBtn as _,computed as a,position as a$,createBaseVNode as a0,Transition as a1,onBeforeUpdate as a2,shouldIgnoreKey as a3,QSpinner as a4,QIcon as a5,stopAndPrevent as a6,vShow as a7,injectProp as a8,useRouter as a9,isKeyCode as aA,useI18n as aB,isRef as aC,useKeybindingStore as aD,toRef as aE,useSidebarStore as aF,onBeforeMount as aG,useToolbarStore as aH,useModalStore as aI,useCompletionStore as aJ,useCommandExecutor as aK,debounce as aL,defaultCompletionLimit as aM,Teleport as aN,createSlots as aO,resolveComponent as aP,useRouterLinkProps as aQ,useRouterLink as aR,hUniqueSlot as aS,vmHasRouter as aT,vmIsDestroyed as aU,toRaw as aV,addEvt as aW,cleanEvt as aX,getParentProxy as aY,createGlobalNode as aZ,removeGlobalNode as a_,useFileManagerStore as aa,useCurrentNoteStore as ab,createCommentVNode as ac,vModelText as ad,withKeys as ae,Fragment as af,withModifiers as ag,RouteNames as ah,convertFlatTreeToFileTree as ai,renderSlot as aj,storeToRefs as ak,QAvatar as al,toDisplayString$1 as am,createTextVNode as an,renderList as ao,formKey as ap,prevent as aq,useSizeProps as ar,useSize as as,hMergeSlotSafely as at,Ripple as au,childHasFocus as av,client as aw,isDeepEqual as ax,onUpdated as ay,stop as az,boot as b,createDirective as b0,Platform as b1,leftClick as b2,preventDraggable as b3,normalizeStyle as b4,useRoute as b5,useNoteEditorStore as b6,useQuasar as b7,createApp as b8,__vitePreload as b9,NodeType as ba,useNotifications as bb,resolveDirective as bc,useCssVars as bd,useSlots as be,normalizeProps as bf,mergeProps as bg,guardReactiveProps as bh,pushScopeId as bi,popScopeId as bj,createStaticVNode as bk,OrgNode as bl,walkTree as bm,useEditorActionsStore as bn,getFileName as bo,useAlignProps as bp,useAlign as bq,getNormalizedVNodes as br,useSelectedNotesStore as bs,sdk as bt,tabsKey as bu,useSyncStore as bv,usePublicNotesStore as bw,createI18n as c,createBlock as d,unref as e,resolveDynamicComponent as f,defineComponent as g,h,inject as i,createComponent as j,emptyRenderFn as k,layoutKey as l,hSlot as m,getCurrentInstance as n,openBlock as o,provide as p,pageContainerKey as q,ref as r,getScrollTarget as s,toRefs as t,useSettingsStore as u,onMounted as v,watch as w,onBeforeUnmount as x,noop$3 as y,listenOpts as z};
