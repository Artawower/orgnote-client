var Vl=Object.defineProperty,Tl=Object.defineProperties;var Il=Object.getOwnPropertyDescriptors;var Ct=Object.getOwnPropertySymbols;var Ll=Object.prototype.hasOwnProperty,El=Object.prototype.propertyIsEnumerable;var pt=(e,l,n)=>l in e?Vl(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,p=(e,l)=>{for(var n in l||(l={}))Ll.call(l,n)&&pt(e,n,l[n]);if(Ct)for(var n of Ct(l))El.call(l,n)&&pt(e,n,l[n]);return e},M=(e,l)=>Tl(e,Il(l));import{r as kt,g as Hl,e as $t,u as zt,a as _l,c as Bl,f as qt,d as Pl,n as Vt,Q as Fl}from"./QField.3e6b5ffc.js";import{u as Ml,a as Ol,Q as We}from"./QIcon.b994d6a9.js";import{R as Al,a as Wt}from"./Ripple.d018c11c.js";import{u as Kt,a as jt}from"./use-dark.0793a78f.js";import{c as Qe,d as Dl,e as Rl,h as Nt,a as $l}from"./render.4975c230.js";import{al as zl,y as Te,am as Tt,w as P,o as Qt,g as Ie,R as z,D as Z,A as J,M as te,an as Wl,c as h,h as C,r as H,ag as it,I as Me,G as It,L as Kl,ao as Lt,d as jl,aa as Nl,K as Ql,ak as nt,ap as Be,aj as Ul,aq as Xl,J as ke,a5 as Gl}from"./index.e5e5ad80.js";import{a as Yl,b as Jl,Q as Zl}from"./QItemLabel.2ee668c1.js";import{v as en,g as Ze}from"./use-router-link.ae62ab1e.js";import{a as Ut,u as Xt}from"./use-tick.1b23e170.js";import{b as tn,a as ln,h as nn,c as on,g as un,u as an,e as rn}from"./use-virtual-scroll.b23a5633.js";function sn(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),zl.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function cn(e,l,n){let u;function i(){u!==void 0&&(Tt.remove(u),u=void 0)}return Te(()=>{e.value===!0&&i()}),{removeFromHistory:i,addToHistory(){u={condition:()=>n.value===!0,handler:l},Tt.add(u)}}}const Gt={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Yt=["before-show","show","before-hide","hide"];function Jt({showing:e,canShow:l,hideOnRouteChange:n,handleShow:u,handleHide:i,processOnMount:a}){const o=Ie(),{props:d,emit:v,proxy:g}=o;let m;function q(w){e.value===!0?T(w):V(w)}function V(w){if(d.disable===!0||w!==void 0&&w.qAnchorHandled===!0||l!==void 0&&l(w)!==!0)return;const O=d["onUpdate:modelValue"]!==void 0;O===!0&&(v("update:modelValue",!0),m=w,z(()=>{m===w&&(m=void 0)})),(d.modelValue===null||O===!1)&&f(w)}function f(w){e.value!==!0&&(e.value=!0,v("before-show",w),u!==void 0?u(w):v("show",w))}function T(w){if(d.disable===!0)return;const O=d["onUpdate:modelValue"]!==void 0;O===!0&&(v("update:modelValue",!1),m=w,z(()=>{m===w&&(m=void 0)})),(d.modelValue===null||O===!1)&&B(w)}function B(w){e.value!==!1&&(e.value=!1,v("before-hide",w),i!==void 0?i(w):v("hide",w))}function x(w){d.disable===!0&&w===!0?d["onUpdate:modelValue"]!==void 0&&v("update:modelValue",!1):w===!0!==e.value&&(w===!0?f:B)(m)}P(()=>d.modelValue,x),n!==void 0&&en(o)===!0&&P(()=>g.$route.fullPath,()=>{n.value===!0&&e.value===!0&&T()}),a===!0&&Qt(()=>{x(d.modelValue)});const $={show:V,hide:T,toggle:q};return Object.assign(g,$),$}let Pe=0,et,tt,Fe,lt=!1,Et,Ht,qe;function dn(e){fn(e)&&te(e)}function fn(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const l=Wl(e),n=e.shiftKey&&!e.deltaX,u=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=n||u?e.deltaY:e.deltaX;for(let a=0;a<l.length;a++){const o=l[a];if(nn(o,u))return u?i<0&&o.scrollTop===0?!0:i>0&&o.scrollTop+o.clientHeight===o.scrollHeight:i<0&&o.scrollLeft===0?!0:i>0&&o.scrollLeft+o.clientWidth===o.scrollWidth}return!0}function _t(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function $e(e){lt!==!0&&(lt=!0,requestAnimationFrame(()=>{lt=!1;const{height:l}=e.target,{clientHeight:n,scrollTop:u}=document.scrollingElement;(Fe===void 0||l!==window.innerHeight)&&(Fe=n-l,document.scrollingElement.scrollTop=u),u>Fe&&(document.scrollingElement.scrollTop-=Math.ceil((u-Fe)/8))}))}function Bt(e){const l=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:u,overflowX:i}=window.getComputedStyle(l);et=tn(window),tt=ln(window),Et=l.style.left,Ht=l.style.top,l.style.left=`-${et}px`,l.style.top=`-${tt}px`,i!=="hidden"&&(i==="scroll"||l.scrollWidth>window.innerWidth)&&l.classList.add("q-body--force-scrollbar-x"),u!=="hidden"&&(u==="scroll"||l.scrollHeight>window.innerHeight)&&l.classList.add("q-body--force-scrollbar-y"),l.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Z.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",$e,J.passiveCapture),window.visualViewport.addEventListener("scroll",$e,J.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",_t,J.passiveCapture))}Z.is.desktop===!0&&Z.is.mac===!0&&window[`${e}EventListener`]("wheel",dn,J.notPassive),e==="remove"&&(Z.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",$e,J.passiveCapture),window.visualViewport.removeEventListener("scroll",$e,J.passiveCapture)):window.removeEventListener("scroll",_t,J.passiveCapture)),l.classList.remove("q-body--prevent-scroll"),l.classList.remove("q-body--force-scrollbar-x"),l.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,l.style.left=Et,l.style.top=Ht,window.scrollTo(et,tt),Fe=void 0)}function vn(e){let l="add";if(e===!0){if(Pe++,qe!==void 0){clearTimeout(qe),qe=void 0;return}if(Pe>1)return}else{if(Pe===0||(Pe--,Pe>0))return;if(l="remove",Z.is.ios===!0&&Z.is.nativeMobile===!0){clearTimeout(qe),qe=setTimeout(()=>{Bt(l),qe=void 0},100);return}}Bt(l)}function mn(){let e;return{preventBodyScroll(l){l!==e&&(e!==void 0||l===!0)&&(e=l,vn(l))}}}const hn={xs:8,sm:10,md:14,lg:20,xl:24};var gn=Qe({name:"QChip",props:M(p(p({},Kt),Ml),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:n}){const{proxy:{$q:u}}=Ie(),i=jt(e,u),a=Ol(e,hn),o=h(()=>e.selected===!0||e.icon!==void 0),d=h(()=>e.selected===!0?e.iconSelected||u.iconSet.chip.selected:e.icon),v=h(()=>e.iconRemove||u.iconSet.chip.remove),g=h(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),m=h(()=>{const x=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(x?` text-${x} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(g.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),q=h(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function V(x){x.keyCode===13&&f(x)}function f(x){e.disable||(n("update:selected",!e.selected),n("click",x))}function T(x){(x.keyCode===void 0||x.keyCode===13)&&(te(x),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function B(){const x=[];g.value===!0&&x.push(C("div",{class:"q-focus-helper"})),o.value===!0&&x.push(C(We,{class:"q-chip__icon q-chip__icon--left",name:d.value}));const $=e.label!==void 0?[C("div",{class:"ellipsis"},[e.label])]:void 0;return x.push(C("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Rl(l.default,$))),e.iconRight&&x.push(C(We,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&x.push(C(We,M(p({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:v.value},q.value),{onClick:T,onKeyup:T}))),x}return()=>{if(e.modelValue===!1)return;const x={class:m.value,style:a.value};return g.value===!0&&Object.assign(x,q.value,{onClick:f,onKeyup:V}),Dl("div",x,B(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Al,e.ripple]])}}});const yn={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function bn({showing:e,avoidEmit:l,configureAnchorEl:n}){const{props:u,proxy:i,emit:a}=Ie(),o=H(null);let d;function v(f){return o.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const g={};n===void 0&&(Object.assign(g,{hide(f){i.hide(f)},toggle(f){i.toggle(f),f.qAnchorHandled=!0},toggleKey(f){it(f,13)===!0&&g.toggle(f)},contextClick(f){i.hide(f),Me(f),z(()=>{i.show(f),f.qAnchorHandled=!0})},prevent:Me,mobileTouch(f){if(g.mobileCleanup(f),v(f)!==!0)return;i.hide(f),o.value.classList.add("non-selectable");const T=f.target;It(g,"anchor",[[T,"touchmove","mobileCleanup","passive"],[T,"touchend","mobileCleanup","passive"],[T,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),d=setTimeout(()=>{i.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){o.value.classList.remove("non-selectable"),clearTimeout(d),e.value===!0&&f!==void 0&&sn()}}),n=function(f=u.contextMenu){if(u.noParentEvent===!0||o.value===null)return;let T;f===!0?i.$q.platform.is.mobile===!0?T=[[o.value,"touchstart","mobileTouch","passive"]]:T=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:T=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],It(g,"anchor",T)});function m(){Kl(g,"anchor")}function q(f){for(o.value=f;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;n()}function V(){if(u.target===!1||u.target===""||i.$el.parentNode===null)o.value=null;else if(u.target===!0)q(i.$el.parentNode);else{let f=u.target;if(typeof u.target=="string")try{f=document.querySelector(u.target)}catch{f=void 0}f!=null?(o.value=f.$el||f,n()):(o.value=null,console.error(`Anchor: target "${u.target}" not found`))}}return P(()=>u.contextMenu,f=>{o.value!==null&&(m(),n(f))}),P(()=>u.target,()=>{o.value!==null&&m(),V()}),P(()=>u.noParentEvent,f=>{o.value!==null&&(f===!0?m():n())}),Qt(()=>{V(),l!==!0&&u.modelValue===!0&&o.value===null&&a("update:modelValue",!1)}),Te(()=>{clearTimeout(d),m()}),{anchorEl:o,canShow:v,anchorEvents:g}}function wn(e,l){const n=H(null);let u;function i(d,v){const g=`${v!==void 0?"add":"remove"}EventListener`,m=v!==void 0?v:u;d!==window&&d[g]("scroll",m,J.passive),window[g]("scroll",m,J.passive),u=v}function a(){n.value!==null&&(i(n.value),n.value=null)}const o=P(()=>e.noParentEvent,()=>{n.value!==null&&(a(),l())});return Te(o),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:i}}let Sn=document.body;function xn(e){const l=document.createElement("div");if(e!==void 0&&(l.id=e),Lt.globalNodes!==void 0){const n=Lt.globalNodes.class;n!==void 0&&(l.className=n)}return Sn.appendChild(l),l}function Cn(e){e.remove()}const Oe=[];function pn(e,l){do{if(e.$options.name==="QMenu"){if(e.hide(l),e.$props.separateClosePopup===!0)return Ze(e)}else if(e.__qPortalInnerRef!==void 0){const n=Ze(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(l),n):e}e=Ze(e)}while(e!=null)}function kn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Zt(e,l,n,u){const i=H(!1),a=H(!1);let o=null;const d={},v=u===!0&&kn(e);function g(q){if(q===!0){kt(d),a.value=!0;return}a.value=!1,i.value===!1&&(v===!1&&o===null&&(o=xn()),i.value=!0,Oe.push(e.proxy),Hl(d))}function m(q){if(a.value=!1,q!==!0)return;kt(d),i.value=!1;const V=Oe.indexOf(e.proxy);V>-1&&Oe.splice(V,1),o!==null&&(Cn(o),o=null)}return jl(()=>{m(!0)}),Object.assign(e.proxy,{__qPortalInnerRef:l}),{showPortal:g,hidePortal:m,portalIsActive:i,portalIsAccessible:a,renderPortal:()=>v===!0?n():i.value===!0?[C(Nl,{to:o},n())]:void 0}}const el={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function qn(e,l){const n=H(l.value);return P(l,u=>{z(()=>{n.value=u})}),{transition:h(()=>"q-transition--"+(n.value===!0?e.transitionHide:e.transitionShow)),transitionStyle:h(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const ce=[];let Ve;function Vn(e){Ve=e.keyCode===27}function Tn(){Ve===!0&&(Ve=!1)}function In(e){Ve===!0&&(Ve=!1,it(e,27)===!0&&ce[ce.length-1](e))}function tl(e){window[e]("keydown",Vn),window[e]("blur",Tn),window[e]("keyup",In),Ve=!1}function ll(e){Z.is.desktop===!0&&(ce.push(e),ce.length===1&&tl("addEventListener"))}function Ke(e){const l=ce.indexOf(e);l>-1&&(ce.splice(l,1),ce.length===0&&tl("removeEventListener"))}const de=[];function nl(e){de[de.length-1](e)}function ol(e){Z.is.desktop===!0&&(de.push(e),de.length===1&&document.body.addEventListener("focusin",nl))}function ot(e){const l=de.indexOf(e);l>-1&&(de.splice(l,1),de.length===0&&document.body.removeEventListener("focusin",nl))}let ul;const{notPassiveCapture:je}=J,fe=[];function Ne(e){clearTimeout(ul);const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let n=Oe.length-1;for(;n>=0;){const u=Oe[n].$;if(u.type.name!=="QDialog")break;if(u.props.seamless!==!0)return;n--}for(let u=fe.length-1;u>=0;u--){const i=fe[u];if((i.anchorEl.value===null||i.anchorEl.value.contains(l)===!1)&&(l===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(l)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Ln(e){fe.push(e),fe.length===1&&(document.addEventListener("mousedown",Ne,je),document.addEventListener("touchstart",Ne,je))}function Pt(e){const l=fe.findIndex(n=>n===e);l>-1&&(fe.splice(l,1),fe.length===0&&(clearTimeout(ul),document.removeEventListener("mousedown",Ne,je),document.removeEventListener("touchstart",Ne,je)))}let Ft,Mt;function Ot(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function En(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ut={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ut[`${e}#ltr`]=e,ut[`${e}#rtl`]=e});function At(e,l){const n=e.split(" ");return{vertical:n[0],horizontal:ut[`${n[1]}#${l===!0?"rtl":"ltr"}`]}}function Hn(e,l){let{top:n,left:u,right:i,bottom:a,width:o,height:d}=e.getBoundingClientRect();return l!==void 0&&(n-=l[1],u-=l[0],a+=l[1],i+=l[0],o+=l[0],d+=l[1]),{top:n,left:u,right:i,bottom:a,width:o,height:d,middle:u+(i-u)/2,center:n+(a-n)/2}}function _n(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Bn(e){if(Z.is.ios===!0&&window.visualViewport!==void 0){const d=document.body.style,{offsetLeft:v,offsetTop:g}=window.visualViewport;v!==Ft&&(d.setProperty("--q-pe-left",v+"px"),Ft=v),g!==Mt&&(d.setProperty("--q-pe-top",g+"px"),Mt=g)}let l;const{scrollLeft:n,scrollTop:u}=e.el;if(e.absoluteOffset===void 0)l=Hn(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:d,left:v}=e.anchorEl.getBoundingClientRect(),g=d+e.absoluteOffset.top,m=v+e.absoluteOffset.left;l={top:g,left:m,width:1,height:1,right:m+1,center:g,middle:m,bottom:g+1}}let i={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(i.minWidth=l.width+"px",e.cover===!0&&(i.minHeight=l.height+"px")),Object.assign(e.el.style,i);const a=_n(e.el),o={top:l[e.anchorOrigin.vertical]-a[e.selfOrigin.vertical],left:l[e.anchorOrigin.horizontal]-a[e.selfOrigin.horizontal]};Pn(o,l,a,e.anchorOrigin,e.selfOrigin),i={top:o.top+"px",left:o.left+"px"},o.maxHeight!==void 0&&(i.maxHeight=o.maxHeight+"px",l.height>o.maxHeight&&(i.minHeight=i.maxHeight)),o.maxWidth!==void 0&&(i.maxWidth=o.maxWidth+"px",l.width>o.maxWidth&&(i.minWidth=i.maxWidth)),Object.assign(e.el.style,i),e.el.scrollTop!==u&&(e.el.scrollTop=u),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function Pn(e,l,n,u,i){const a=n.bottom,o=n.right,d=on(),v=window.innerHeight-d,g=document.body.clientWidth;if(e.top<0||e.top+a>v)if(i.vertical==="center")e.top=l[u.vertical]>v/2?Math.max(0,v-a):0,e.maxHeight=Math.min(a,v);else if(l[u.vertical]>v/2){const m=Math.min(v,u.vertical==="center"?l.center:u.vertical===i.vertical?l.bottom:l.top);e.maxHeight=Math.min(a,m),e.top=Math.max(0,m-a)}else e.top=Math.max(0,u.vertical==="center"?l.center:u.vertical===i.vertical?l.top:l.bottom),e.maxHeight=Math.min(a,v-e.top);if(e.left<0||e.left+o>g)if(e.maxWidth=Math.min(o,g),i.horizontal==="middle")e.left=l[u.horizontal]>g/2?Math.max(0,g-o):0;else if(l[u.horizontal]>g/2){const m=Math.min(g,u.horizontal==="middle"?l.middle:u.horizontal===i.horizontal?l.right:l.left);e.maxWidth=Math.min(o,m),e.left=Math.max(0,m-e.maxWidth)}else e.left=Math.max(0,u.horizontal==="middle"?l.middle:u.horizontal===i.horizontal?l.left:l.right),e.maxWidth=Math.min(o,g-e.left)}var Fn=Qe({name:"QMenu",inheritAttrs:!1,props:M(p(p(p(p({},yn),Gt),Kt),el),{persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ot},self:{type:String,validator:Ot},offset:{type:Array,validator:En},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}}),emits:[...Yt,"click","escape-key"],setup(e,{slots:l,emit:n,attrs:u}){let i=null,a,o,d;const v=Ie(),{proxy:g}=v,{$q:m}=g,q=H(null),V=H(!1),f=h(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),T=jt(e,m),{registerTick:B,removeTick:x}=Ut(),{registerTimeout:$,removeTimeout:w}=Xt(),{transition:O,transitionStyle:ve}=qn(e,V),{localScrollTarget:E,changeScrollEvent:K,unconfigureScrollTarget:j}=wn(e,U),{anchorEl:W,canShow:me}=bn({showing:V}),{hide:ne}=Jt({showing:V,canShow:me,handleShow:I,handleHide:ue,hideOnRouteChange:f,processOnMount:!0}),{showPortal:A,hidePortal:he,renderPortal:Le}=Zt(v,q,S),ee={anchorEl:W,innerRef:q,onClickOutside(y){if(e.persistent!==!0&&V.value===!0)return ne(y),(y.type==="touchstart"||y.target.classList.contains("q-dialog__backdrop"))&&te(y),!0}},N=h(()=>At(e.anchor||(e.cover===!0?"center middle":"bottom start"),m.lang.rtl)),Ee=h(()=>e.cover===!0?N.value:At(e.self||"top start",m.lang.rtl)),ge=h(()=>(e.square===!0?" q-menu--square":"")+(T.value===!0?" q-menu--dark q-dark":"")),ye=h(()=>e.autoClose===!0?{onClick:He}:{}),oe=h(()=>V.value===!0&&e.persistent!==!0);P(oe,y=>{y===!0?(ll(D),Ln(ee)):(Ke(D),Pt(ee))});function s(){$t(()=>{let y=q.value;y&&y.contains(document.activeElement)!==!0&&(y=y.querySelector("[autofocus], [data-autofocus]")||y,y.focus({preventScroll:!0}))})}function I(y){if(x(),w(),i=e.noRefocus===!1?document.activeElement:null,ol(ie),A(),U(),a=void 0,y!==void 0&&(e.touchPosition||e.contextMenu)){const G=Ql(y);if(G.left!==void 0){const{top:ae,left:le}=W.value.getBoundingClientRect();a={left:G.left-le,top:G.top-ae}}}o===void 0&&(o=P(()=>m.screen.width+"|"+m.screen.height+"|"+e.self+"|"+e.anchor+"|"+m.lang.rtl,X)),e.noFocus!==!0&&document.activeElement.blur(),B(()=>{X(),e.noFocus!==!0&&s()}),$(()=>{m.platform.is.ios===!0&&(d=e.autoClose,q.value.click()),X(),A(!0),n("show",y)},e.transitionDuration)}function ue(y){x(),w(),he(),Q(!0),i!==null&&(y===void 0||y.qClickOutside!==!0)&&(i.focus(),i=null),$(()=>{he(!0),n("hide",y)},e.transitionDuration)}function Q(y){a=void 0,o!==void 0&&(o(),o=void 0),(y===!0||V.value===!0)&&(ot(ie),j(),Pt(ee),Ke(D)),y!==!0&&(i=null)}function U(){(W.value!==null||e.scrollTarget!==void 0)&&(E.value=un(W.value,e.scrollTarget),K(E.value,X))}function He(y){d!==!0?(pn(g,y),n("click",y)):d=!1}function ie(y){oe.value===!0&&e.noFocus!==!0&&Wt(q.value,y.target)!==!0&&s()}function D(y){n("escape-key"),ne(y)}function X(){const y=q.value;y===null||W.value===null||Bn({el:y,offset:e.offset,anchorEl:W.value,anchorOrigin:N.value,selfOrigin:Ee.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function S(){return C(nt,{name:O.value,appear:!0},()=>V.value===!0?C("div",p(M(p({},u),{ref:q,tabindex:-1,class:["q-menu q-position-engine scroll"+ge.value,u.class],style:[u.style,ve.value]}),ye.value),Nt(l.default)):null)}return Te(Q),Object.assign(g,{focus:s,updatePosition:X}),Le}});let ze=0;const Mn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Dt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var On=Qe({name:"QDialog",inheritAttrs:!1,props:M(p(p({},Gt),el),{transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}}),emits:[...Yt,"shake","click","escape-key"],setup(e,{slots:l,emit:n,attrs:u}){const i=Ie(),a=H(null),o=H(!1),d=H(!1),v=H(!1);let g,m=null,q,V;const f=h(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:T}=mn(),{registerTimeout:B,removeTimeout:x}=Xt(),{registerTick:$,removeTick:w}=Ut(),{showPortal:O,hidePortal:ve,portalIsAccessible:E,renderPortal:K}=Zt(i,a,X,!0),{hide:j}=Jt({showing:o,hideOnRouteChange:f,handleShow:ye,handleHide:oe,processOnMount:!0}),{addToHistory:W,removeFromHistory:me}=cn(o,j,f),ne=h(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Mn[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),A=h(()=>"q-transition--"+(e.transitionShow===void 0?Dt[e.position][0]:e.transitionShow)),he=h(()=>"q-transition--"+(e.transitionHide===void 0?Dt[e.position][1]:e.transitionHide)),Le=h(()=>d.value===!0?he.value:A.value),ee=h(()=>`--q-transition-duration: ${e.transitionDuration}ms`),N=h(()=>o.value===!0&&e.seamless!==!0),Ee=h(()=>e.autoClose===!0?{onClick:He}:{}),ge=h(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${N.value===!0?"modal":"seamless"}`,u.class]);P(o,S=>{z(()=>{d.value=S})}),P(()=>e.maximized,S=>{o.value===!0&&U(S)}),P(N,S=>{T(S),S===!0?(ol(D),ll(ue)):(ot(D),Ke(ue))});function ye(S){x(),w(),W(),m=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,U(e.maximized),O(),v.value=!0,e.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),$(s)),B(()=>{if(i.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:y,bottom:G}=document.activeElement.getBoundingClientRect(),{innerHeight:ae}=window,le=window.visualViewport!==void 0?window.visualViewport.height:ae;y>0&&G>le/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-le,G>=ae?1/0:Math.ceil(document.scrollingElement.scrollTop+G-le/2))),document.activeElement.scrollIntoView()}V=!0,a.value.click(),V=!1}O(!0),v.value=!1,n("show",S)},e.transitionDuration)}function oe(S){x(),w(),me(),Q(!0),v.value=!0,ve(),m!==null&&(m.focus(),m=null),B(()=>{ve(!0),v.value=!1,n("hide",S)},e.transitionDuration)}function s(S){$t(()=>{let y=a.value;y===null||y.contains(document.activeElement)===!0||(y=y.querySelector(S||"[autofocus], [data-autofocus]")||y,y.focus({preventScroll:!0}))})}function I(){s(),n("shake");const S=a.value;S!==null&&(S.classList.remove("q-animate--scale"),S.classList.add("q-animate--scale"),clearTimeout(g),g=setTimeout(()=>{a.value!==null&&(S.classList.remove("q-animate--scale"),s())},170))}function ue(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&I():(n("escape-key"),j()))}function Q(S){clearTimeout(g),(S===!0||o.value===!0)&&(U(!1),e.seamless!==!0&&(T(!1),ot(D),Ke(ue))),S!==!0&&(m=null)}function U(S){S===!0?q!==!0&&(ze<1&&document.body.classList.add("q-body--dialog"),ze++,q=!0):q===!0&&(ze<2&&document.body.classList.remove("q-body--dialog"),ze--,q=!1)}function He(S){V!==!0&&(j(S),n("click",S))}function ie(S){e.persistent!==!0&&e.noBackdropDismiss!==!0?j(S):e.noShake!==!0&&I()}function D(S){e.allowFocusOutside!==!0&&E.value===!0&&Wt(a.value,S.target)!==!0&&s('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:s,shake:I,__updateRefocusTarget(S){m=S||null}}),Te(Q);function X(){return C("div",M(p({},u),{class:ge.value}),[C(nt,{name:"q-transition--fade",appear:!0},()=>N.value===!0?C("div",{class:"q-dialog__backdrop fixed-full",style:ee.value,"aria-hidden":"true",onMousedown:ie}):null),C(nt,{name:Le.value,appear:!0},()=>o.value===!0?C("div",p({ref:a,class:ne.value,style:ee.value,tabindex:-1},Ee.value),Nt(l.default)):null)])}return K}});const An={name:String};function oo(e={}){return(l,n,u)=>{l[n](C("input",p({class:"hidden"+(u||"")},e.value)))}}function Dn(e){return h(()=>e.name||e.for)}const Rn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,$n=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,zn=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Wn=/[a-z0-9_ -]$/i;function Kn(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Z.is.firefox===!0?Wn.test(n.data)===!1:Rn.test(n.data)===!0||$n.test(n.data)===!0||zn.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const Rt=e=>["add","add-unique","toggle"].includes(e),jn=".*+?^${}()|[]\\",Nn=Object.keys(zt);var uo=Qe({name:"QSelect",inheritAttrs:!1,props:M(p(p(p({},an),An),zt),{modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Rt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function}),emits:[..._l,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:l,emit:n}){const{proxy:u}=Ie(),{$q:i}=u,a=H(!1),o=H(!1),d=H(-1),v=H(""),g=H(!1),m=H(!1);let q,V,f,T,B,x,$,w,O;const ve=H(null),E=H(null),K=H(null),j=H(null),W=H(null),me=Dn(e),ne=Kn(yt),A=h(()=>Array.isArray(e.options)?e.options.length:0),he=h(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Le,virtualScrollSliceSizeComputed:ee,localResetVirtualScroll:N,padVirtualScroll:Ee,onVirtualScrollEvt:ge,scrollTo:ye,setVirtualScrollSize:oe}=rn({virtualScrollLength:A,getVirtualScrollTarget:vl,getVirtualScrollEl:ht,virtualScrollItemSizeComputed:he}),s=Bl(),I=h(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,c=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const r=e.mapOptions===!0&&V!==void 0?V:[],b=c.map(L=>fl(L,r));return e.modelValue===null&&t===!0?b.filter(L=>L!==null):b}return c}),ue=h(()=>{const t={};return Nn.forEach(c=>{const r=e[c];r!==void 0&&(t[c]=r)}),t}),Q=h(()=>e.optionsDark===null?s.isDark.value:e.optionsDark),U=h(()=>qt(I.value)),He=h(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||I.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),ie=h(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),D=h(()=>A.value===0),X=h(()=>I.value.map(t=>R.value(t)).join(", ")),S=h(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),y=h(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||I.value.some(S.value))),G=h(()=>s.focused.value===!0?e.tabindex:-1),ae=h(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-owns":`${s.targetUid.value}_lb`,"aria-controls":`${s.targetUid.value}_lb`};return d.value>=0&&(t["aria-activedescendant"]=`${s.targetUid.value}_${d.value}`),t}),le=h(()=>{const t={id:`${s.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return d.value>=0&&(t["aria-activedescendant"]=`${s.targetUid.value}_${d.value}`),t}),at=h(()=>I.value.map((t,c)=>({index:c,opt:t,html:S.value(t),selected:!0,removeAtIndex:dl,toggleOption:re,tabindex:G.value}))),il=h(()=>{if(A.value===0)return[];const{from:t,to:c}=Le.value;return e.options.slice(t,c).map((r,b)=>{const L=be.value(r)===!0,k=t+b,_={clickable:!0,active:!1,activeClass:sl.value,manualFocus:!0,focused:!1,disable:L,tabindex:-1,dense:e.optionsDense,dark:Q.value,role:"option",id:`${s.targetUid.value}_${k}`,onClick:()=>{re(r)}};return L!==!0&&(Ge(r)===!0&&(_.active=!0),d.value===k&&(_.focused=!0),_["aria-selected"]=_.active===!0?"true":"false",i.platform.is.desktop===!0&&(_.onMousemove=()=>{a.value===!0&&we(k)})),{index:k,opt:r,html:S.value(r),label:R.value(r),selected:_.active,focused:_.focused,toggleOption:re,setOptionIndex:we,itemProps:_}})}),al=h(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),rl=h(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),sl=h(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Y=h(()=>Xe(e.optionValue,"value")),R=h(()=>Xe(e.optionLabel,"label")),be=h(()=>Xe(e.optionDisable,"disable")),Ae=h(()=>I.value.map(t=>Y.value(t))),cl=h(()=>{const t={onInput:yt,onChange:ne,onKeydown:mt,onKeyup:ft,onKeypress:vt,onFocus:ct,onClick(c){f===!0&&ke(c)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ne,t});P(I,t=>{V=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&s.innerLoading.value!==!0&&(o.value!==!0&&a.value!==!0||U.value!==!0)&&(T!==!0&&pe(),(o.value===!0||a.value===!0)&&Se(""))},{immediate:!0}),P(()=>e.fillInput,pe),P(a,Ye),P(A,ql);function rt(t){return e.emitValue===!0?Y.value(t):t}function Ue(t){if(t>-1&&t<I.value.length)if(e.multiple===!0){const c=e.modelValue.slice();n("remove",{index:t,value:c.splice(t,1)[0]}),n("update:modelValue",c)}else n("update:modelValue",null)}function dl(t){Ue(t),s.focus()}function st(t,c){const r=rt(t);if(e.multiple!==!0){e.fillInput===!0&&_e(R.value(t),!0,!0),n("update:modelValue",r);return}if(I.value.length===0){n("add",{index:0,value:r}),n("update:modelValue",e.multiple===!0?[r]:r);return}if(c===!0&&Ge(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const b=e.modelValue.slice();n("add",{index:b.length,value:r}),b.push(r),n("update:modelValue",b)}function re(t,c){if(s.editable.value!==!0||t===void 0||be.value(t)===!0)return;const r=Y.value(t);if(e.multiple!==!0){c!==!0&&(_e(e.fillInput===!0?R.value(t):"",!0,!0),se()),E.value!==null&&E.value.focus(),(I.value.length===0||Be(Y.value(I.value[0]),r)!==!0)&&n("update:modelValue",e.emitValue===!0?r:t);return}if((f!==!0||g.value===!0)&&s.focus(),ct(),I.value.length===0){const k=e.emitValue===!0?r:t;n("add",{index:0,value:k}),n("update:modelValue",e.multiple===!0?[k]:k);return}const b=e.modelValue.slice(),L=Ae.value.findIndex(k=>Be(k,r));if(L>-1)n("remove",{index:L,value:b.splice(L,1)[0]});else{if(e.maxValues!==void 0&&b.length>=e.maxValues)return;const k=e.emitValue===!0?r:t;n("add",{index:b.length,value:k}),b.push(k)}n("update:modelValue",b)}function we(t){if(i.platform.is.desktop!==!0)return;const c=t>-1&&t<A.value?t:-1;d.value!==c&&(d.value=c)}function De(t=1,c){if(a.value===!0){let r=d.value;do r=Vt(r+t,-1,A.value-1);while(r!==-1&&r!==d.value&&be.value(e.options[r])===!0);d.value!==r&&(we(r),ye(r),c!==!0&&e.useInput===!0&&e.fillInput===!0&&Re(r>=0?R.value(e.options[r]):x))}}function fl(t,c){const r=b=>Be(Y.value(b),t);return e.options.find(r)||c.find(r)||t}function Xe(t,c){const r=t!==void 0?t:c;return typeof r=="function"?r:b=>b!==null&&typeof b=="object"&&r in b?b[r]:b}function Ge(t){const c=Y.value(t);return Ae.value.find(r=>Be(r,c))!==void 0}function ct(t){e.useInput===!0&&E.value!==null&&(t===void 0||E.value===t.target&&t.target.value===X.value)&&E.value.select()}function dt(t){it(t,27)===!0&&a.value===!0&&(ke(t),se(),pe()),n("keyup",t)}function ft(t){const{value:c}=t.target;if(t.keyCode!==void 0){dt(t);return}if(t.target.value="",clearTimeout(q),pe(),typeof c=="string"&&c.length>0){const r=c.toLocaleLowerCase(),b=k=>{const _=e.options.find(F=>k.value(F).toLocaleLowerCase()===r);return _===void 0?!1:(I.value.indexOf(_)===-1?re(_):se(),!0)},L=k=>{b(Y)!==!0&&(b(R)===!0||k===!0||Se(c,!0,()=>L(!0)))};L()}else s.clearValue(t)}function vt(t){n("keypress",t)}function mt(t){if(n("keydown",t),Gl(t)===!0)return;const c=v.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),r=t.shiftKey!==!0&&e.multiple!==!0&&(d.value>-1||c===!0);if(t.keyCode===27){Me(t);return}if(t.keyCode===9&&r===!1){xe();return}if(t.target===void 0||t.target.id!==s.targetUid.value)return;if(t.keyCode===40&&s.innerLoading.value!==!0&&a.value===!1){te(t),Ce();return}if(t.keyCode===8&&e.hideSelected!==!0&&v.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ue(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof v.value!="string"||v.value.length===0)&&(te(t),d.value=-1,De(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ee.value!==void 0&&(te(t),d.value=Math.max(-1,Math.min(A.value,d.value+(t.keyCode===33?-1:1)*ee.value.view)),De(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(te(t),De(t.keyCode===38?-1:1,e.multiple));const b=A.value;if((w===void 0||O<Date.now())&&(w=""),b>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===t.ctrlKey&&(t.keyCode!==32||w.length>0)){a.value!==!0&&Ce(t);const L=t.key.toLocaleLowerCase(),k=w.length===1&&w[0]===L;O=Date.now()+1500,k===!1&&(te(t),w+=L);const _=new RegExp("^"+w.split("").map(Je=>jn.indexOf(Je)>-1?"\\"+Je:Je).join(".*"),"i");let F=d.value;if(k===!0||F<0||_.test(R.value(e.options[F]))!==!0)do F=Vt(F+1,-1,b-1);while(F!==d.value&&(be.value(e.options[F])===!0||_.test(R.value(e.options[F]))!==!0));d.value!==F&&z(()=>{we(F),ye(F),F>=0&&e.useInput===!0&&e.fillInput===!0&&Re(R.value(e.options[F]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||w!=="")&&(t.keyCode!==9||r===!1))){if(t.keyCode!==9&&te(t),d.value>-1&&d.value<b){re(e.options[d.value]);return}if(c===!0){const L=(k,_)=>{if(_){if(Rt(_)!==!0)return}else _=e.newValueMode;if(k==null)return;_e("",e.multiple!==!0,!0),(_==="toggle"?re:st)(k,_==="add-unique"),e.multiple!==!0&&(E.value!==null&&E.value.focus(),se())};if(e.onNewValue!==void 0?n("new-value",v.value,L):L(v.value),e.multiple!==!0)return}a.value===!0?xe():s.innerLoading.value!==!0&&Ce()}}function ht(){return f===!0?W.value:K.value!==null&&K.value.__qPortalInnerRef.value!==null?K.value.__qPortalInnerRef.value:void 0}function vl(){return ht()}function ml(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?at.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?at.value.map((t,c)=>C(gn,{key:"option-"+c,removable:s.editable.value===!0&&be.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:G.value,onRemove(){t.removeAtIndex(c)}},()=>C("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:R.value(t.opt)}))):[C("span",{[y.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:X.value})]}function gt(){if(D.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:v.value}):void 0;const t=l.option!==void 0?l.option:r=>C(Zl,p({key:r.index},r.itemProps),()=>C(Yl,()=>C(Jl,()=>C("span",{[r.html===!0?"innerHTML":"textContent"]:r.label}))));let c=Ee("div",il.value.map(t));return l["before-options"]!==void 0&&(c=l["before-options"]().concat(c)),$l(l["after-options"],c)}function hl(t,c){const r=c===!0?p(p({},ae.value),s.splitAttrs.attributes.value):void 0,b=p(M(p({ref:c===!0?E:void 0,key:"i_t",class:He.value,style:e.inputStyle,value:v.value!==void 0?v.value:"",type:"search"},r),{id:c===!0?s.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0}),cl.value);return t!==!0&&f===!0&&(Array.isArray(b.class)===!0?b.class=[...b.class,"no-pointer-events"]:b.class+=" no-pointer-events"),C("input",b)}function yt(t){clearTimeout(q),!(t&&t.target&&t.target.qComposing===!0)&&(Re(t.target.value||""),T=!0,x=v.value,s.focused.value!==!0&&(f!==!0||g.value===!0)&&s.focus(),e.onFilter!==void 0&&(q=setTimeout(()=>{Se(v.value)},e.inputDebounce)))}function Re(t){v.value!==t&&(v.value=t,n("input-value",t))}function _e(t,c,r){T=r!==!0,e.useInput===!0&&(Re(t),(c===!0||r!==!0)&&(x=t),c!==!0&&Se(t))}function Se(t,c,r){if(e.onFilter===void 0||c!==!0&&s.focused.value!==!0)return;s.innerLoading.value===!0?n("filter-abort"):(s.innerLoading.value=!0,m.value=!0),t!==""&&e.multiple!==!0&&I.value.length>0&&T!==!0&&t===R.value(I.value[0])&&(t="");const b=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);clearTimeout(B),B=b,n("filter",t,(L,k)=>{(c===!0||s.focused.value===!0)&&B===b&&(clearTimeout(B),typeof L=="function"&&L(),m.value=!1,z(()=>{s.innerLoading.value=!1,s.editable.value===!0&&(c===!0?a.value===!0&&se():a.value===!0?Ye(!0):a.value=!0),typeof k=="function"&&z(()=>{k(u)}),typeof r=="function"&&z(()=>{r(u)})}))},()=>{s.focused.value===!0&&B===b&&(clearTimeout(B),s.innerLoading.value=!1,m.value=!1),a.value===!0&&(a.value=!1)})}function gl(){return C(Fn,M(p({ref:K,class:ie.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&D.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:Q.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:rl.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0},le.value),{onScrollPassive:ge,onBeforeShow:wt,onBeforeHide:yl,onShow:bl}),gt)}function yl(t){St(t),xe()}function bl(){oe()}function wl(t){ke(t),E.value!==null&&E.value.focus(),g.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Sl(t){ke(t),z(()=>{g.value=!1})}function xl(){const t=[C(Fl,M(p(M(p({class:`col-auto ${s.fieldClass.value}`},ue.value),{for:s.targetUid.value,dark:Q.value,square:!0,loading:m.value,itemAligned:!1,filled:!0,stackLabel:v.value.length>0}),s.splitAttrs.listeners.value),{onFocus:wl,onBlur:Sl}),M(p({},l),{rawControl:()=>s.getControl(!0),before:void 0,after:void 0}))];return a.value===!0&&t.push(C("div",M(p({ref:W,class:ie.value+" scroll",style:e.popupContentStyle},le.value),{onClick:Me,onScrollPassive:ge}),gt())),C(On,{ref:j,modelValue:o.value,position:e.useInput===!0?"top":void 0,transitionShow:$,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:wt,onBeforeHide:Cl,onHide:pl,onShow:kl},()=>C("div",{class:"q-select__dialog"+(Q.value===!0?" q-select__dialog--dark q-dark":"")+(g.value===!0?" q-select__dialog--focused":"")},t))}function Cl(t){St(t),j.value!==null&&j.value.__updateRefocusTarget(s.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),s.focused.value=!1}function pl(t){se(),s.focused.value===!1&&n("blur",t),pe()}function kl(){const t=document.activeElement;(t===null||t.id!==s.targetUid.value)&&E.value!==null&&E.value!==t&&E.value.focus(),oe()}function xe(){o.value!==!0&&(d.value=-1,a.value===!0&&(a.value=!1),s.focused.value===!1&&(clearTimeout(B),B=void 0,s.innerLoading.value===!0&&(n("filter-abort"),s.innerLoading.value=!1,m.value=!1)))}function Ce(t){s.editable.value===!0&&(f===!0?(s.onControlFocusin(t),o.value=!0,z(()=>{s.focus()})):s.focus(),e.onFilter!==void 0?Se(v.value):(D.value!==!0||l["no-option"]!==void 0)&&(a.value=!0))}function se(){o.value=!1,xe()}function pe(){e.useInput===!0&&_e(e.multiple!==!0&&e.fillInput===!0&&I.value.length>0&&R.value(I.value[0])||"",!0,!0)}function Ye(t){let c=-1;if(t===!0){if(I.value.length>0){const r=Y.value(I.value[0]);c=e.options.findIndex(b=>Be(Y.value(b),r))}N(c)}we(c)}function ql(t,c){a.value===!0&&s.innerLoading.value===!1&&(N(-1,!0),z(()=>{a.value===!0&&s.innerLoading.value===!1&&(t>c?N():Ye(!0))}))}function bt(){o.value===!1&&K.value!==null&&K.value.updatePosition()}function wt(t){t!==void 0&&ke(t),n("popup-show",t),s.hasPopupOpen=!0,s.onControlFocusin(t)}function St(t){t!==void 0&&ke(t),n("popup-hide",t),s.hasPopupOpen=!1,s.onControlFocusout(t)}function xt(){f=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||D.value===!1:!0),$=i.platform.is.ios===!0&&f===!0&&e.useInput===!0?"fade":e.transitionShow}return Ul(xt),Xl(bt),xt(),Te(()=>{clearTimeout(q)}),Object.assign(u,{showPopup:Ce,hidePopup:se,removeAtIndex:Ue,add:st,toggleOption:re,getOptionIndex:()=>d.value,setOptionIndex:we,moveOptionSelection:De,filter:Se,updateMenuPosition:bt,updateInputValue:_e,isOptionSelected:Ge,getEmittingOptionValue:rt,isOptionDisabled:(...t)=>be.value.apply(null,t)===!0,getOptionValue:(...t)=>Y.value.apply(null,t),getOptionLabel:(...t)=>R.value.apply(null,t)}),Object.assign(s,{innerValue:I,fieldClass:h(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:ve,targetRef:E,hasValue:U,showPopup:Ce,floatingLabel:h(()=>e.hideSelected!==!0&&U.value===!0||typeof v.value=="number"||v.value.length>0||qt(e.displayValue)),getControlChild:()=>{if(s.editable.value!==!1&&(o.value===!0||D.value!==!0||l["no-option"]!==void 0))return f===!0?xl():gl();s.hasPopupOpen===!0&&(s.hasPopupOpen=!1)},controlEvents:{onFocusin(t){s.onControlFocusin(t)},onFocusout(t){s.onControlFocusout(t,()=>{pe(),xe()})},onClick(t){if(Me(t),f!==!0&&a.value===!0){xe(),E.value!==null&&E.value.focus();return}Ce(t)}},getControl:t=>{const c=ml(),r=t===!0||o.value!==!0||f!==!0;if(e.useInput===!0)c.push(hl(t,r));else if(s.editable.value===!0){const L=r===!0?ae.value:void 0;c.push(C("input",M(p({ref:r===!0?E:void 0,key:"d_t",class:"q-select__focus-target",id:r===!0?s.targetUid.value:void 0,readonly:!0,"data-autofocus":t!==!0&&e.autofocus===!0||void 0},L),{onKeydown:mt,onKeyup:dt,onKeypress:vt}))),r===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&c.push(C("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:ft}))}if(me.value!==void 0&&e.disable!==!0&&Ae.value.length>0){const L=Ae.value.map(k=>C("option",{value:k,selected:!0}));c.push(C("select",{class:"hidden",name:me.value,multiple:e.multiple},L))}const b=e.useInput===!0||r!==!0?void 0:s.splitAttrs.attributes.value;return C("div",p({class:"q-field__native row items-center"},b),c)},getInnerAppend:()=>e.loading!==!0&&m.value!==!0&&e.hideDropdownIcon!==!0?[C(We,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:al.value})]:null}),Pl(s)}});export{uo as Q,Yt as a,Jt as b,sn as c,cn as d,mn as e,An as f,Dn as g,Kn as h,oo as i,Gt as u};
