import{q as zt,l as Je,at as fo,k as Ze,au as B,R as U,av as po,s as et,aw as Tt,a1 as ge,Y as qt,I as tt,h as A,ax as vo,$ as Ot,am as _o,z as M,ay as Et,o as u,A as k,a6 as ue,F as d,E as R,m as Ie,az as ho,aA as ft,aB as go,aC as Mt,B as x,D as I,e as C,aD as bo,ak as ze,N as v,aE as yo,G as J,S as be,aF as Y,aG as de,a0 as G,aH as So,C as Z,aI as wo,aJ as ke,f as Le,aK as At,aL as Dt,aM as Co,p as Te,aN as qe,a8 as ot,aO as nt,aP as xo,v as ne,aQ as ko,aR as at,aS as $o,r as $,aT as Po,aU as fe,ab as ye,ad as pe,i as rt,aV as ae,aW as Be,aX as It,aY as zo,d as _,j as D,aZ as it,aj as ve,a_ as To,w as L,a$ as Lt,b0 as qo,b1 as Oo,b2 as Eo,b3 as Mo,b4 as Ao,b5 as Fe,b6 as Ae,b7 as Bt,ai as Rt,b8 as Do,b9 as Ce,ba as Io,bb as De,bc as We,bd as pt,be as Ue,bf as Lo,bg as Ge,ae as st,ag as lt,bh as ce,bi as Bo,bj as Ro,bk as jo,bl as me,bm as Ke,bn as vt,bo as No,bp as Vo,bq as Ho,br as Qo,bs as Fo,bt as _t,bu as ht,bv as Wo,bw as jt,bx as Nt,by as Uo,bz as $e,bA as gt,P as ct,bB as ut,bC as Go,bD as Vt,bE as Ko,bF as re,Q as Xo,bG as Ht,bH as Yo,bI as Jo,a7 as Zo,a9 as en,H as he,bJ as bt,bK as Qt,bL as tn,bM as on,bN as nn,bO as an,bP as rn,ao as sn,bQ as ln,bR as cn}from"./index-BLR50dHh.js";import{Q as Pe,a as Ft}from"./QFooter-CLebQhk_.js";import{g as yt,s as St,T as xe,r as un}from"./TouchPan-DlbILETQ.js";import{L as dt}from"./LoaderSpinner-u56xTrLm.js";import{R as dn,o as mn}from"./mobile-viewport-changed-8AjvOJQs.js";import{u as fn}from"./app-meta-BScG0K25.js";import{r as pn}from"./note-detail-commands-BHz9VoM7.js";import{L as vn}from"./LoginButtons-CIJgCB1i.js";import{u as _n,Q as hn,a as gn}from"./view-BR5rXTcg.js";import{Q as bn,A as yn}from"./AsyncItemContainer-DdgLfWcM.js";import{Q as Sn}from"./QPage-5QKaJ39l.js";import"./use-hydration-CJQrenyw.js";function wn(t,n){const o=document.querySelector(t),e=document.querySelector(n);if(!o||!e)return 0;const i=o.getBoundingClientRect().top,a=o.getBoundingClientRect().bottom,r=e.getBoundingClientRect().top;return e.getBoundingClientRect().bottom>a?1:i>=r?-1:0}function Ye(t){const n=t.replace(/([A-Z])/g," $1");return(n.charAt(0).toUpperCase()+n.slice(1)).trim()}function Wt(t,n=[],o=[".git","node_modules","dist","build"]){const e=t.createReader();return new Promise((i,a)=>{const r=[];function s(){e.readEntries(m=>{if(!m.length){i(Promise.all(r).then(f=>f.flat(2)));return}r.push(Promise.all(m.map(f=>{const l=f.name.split(".").pop();return f.isFile&&n.includes(l)?f:f.isFile||o.includes(f.name)?[]:Wt(f,n,o)}))),s()},m=>a(m))}s()})}const Cn=["ase","art","bmp","blp","cd5","cit","cpt","cr2","cut","dds","dib","djvu","egt","exif","gif","gpl","grf","icns","ico","iff","jng","jpeg","jpg","jfif","jp2","jps","lbm","max","miff","mng","msp","nef","nitf","ota","pbm","pc1","pc2","pc3","pcf","pcx","pdn","pgm","PI1","PI2","PI3","pict","pct","pnm","pns","ppm","psb","psd","pdd","psp","px","pxm","pxr","qfx","raw","rle","sct","sgi","rgb","int","bw","tga","tiff","tif","vtf","xbm","xcf","xpm","3dv","amf","ai","awg","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","gbr","odg","svg","stl","vrml","x3d","sxd","v2d","vnd","wmf","emf","art","xar","png","webp","jxr","hdp","wdp","cur","ecw","iff","lbm","liff","nrrd","pam","pcx","pgf","sgi","rgb","rgba","bw","int","inta","sid","ras","sun","tga","heic","heif"];function xn(t,...n){return!t?.length||!n?.length?!0:n.some(o=>o.toLowerCase().includes(t.toLowerCase().trim()))}function kn(){const t=zt(),n=Je(),o=t.getRoutes().filter(a=>a.name&&!a.path.includes(":")&&a?.meta?.programmaticalNavigation!==!1).map(a=>({command:Ye(a.name.toString()).toLocaleLowerCase(),title:Ye(a.name.toString()),description:`Open ${a.name.toString()}`,group:"navigation",icon:a.meta?.icon??"assistant_navigation",handler:()=>t.push({name:a.name})})),e=fo(),i=Ze();return o.push({command:B.OPEN_GRAPH,title:"Graph",description:"Open Graph",group:"navigation",icon:"hub",handler:()=>t.push({name:U.UserGraph,params:{userId:n.user.id}})},{command:B.OPEN_MY_NOTES,title:"My Notes",description:"Open My Notes",group:"navigation",icon:"home",handler:()=>t.push({name:U.UserNotes,params:{userId:n.user.id}})},{command:B.OPEN_NOTE_EDITOR,group:"editor",icon:"edit",description:"edit current note",available:()=>i.name==U.NoteDetail&&e.currentNote?.isMy,handler:()=>t.push({name:U.RawEditor,params:{id:e.currentNote?.id}})},{command:B.OPEN_NOTE_VIEWER,description:"view current note",icon:"visibility",available:()=>[U.EditNote,U.RawEditor].includes(i.name),handler:()=>{t.push({name:U.NoteDetail,params:{id:e.currentNote?.id}})}}),o}function $n(t){const n=["desktop","mobile"];for(const o of n)if(po.is[o])return t[o]??t.data;return t.data}function Pn(){const t=et(),n=Ut(t.config),o=Tt(),e=ge(),i=qt(),{orgNoteApi:a}=tt(),r=Ze(),s=zt();return[...n,{command:B.SELECT_THEME,group:"settings",icon:"palette",description:"use one of the downloaded themes",handler:()=>{e.initNewCompletion({placeholder:"search themes",itemsGetter:m=>({result:i.themes.filter(f=>f.uploaded&&xn(m,f.manifest.name,f.manifest.description,f.manifest.category)).map(f=>({icon:"palette",title:f.manifest.name,description:f.manifest.description,commandHandler:()=>{a.ui.resetTheme(),i.enableExtension(f.manifest.name)},data:f,command:"activate theme"})),total:i.themes.length})}),e.openCompletion()}},{command:B.RESET_THEME,group:"settings",icon:"palette",handler:()=>a.ui.resetTheme()},{command:B.TOGGLE_DARK_MODE,group:"settings",icon:"dark_mode",title:()=>t.darkMode?"switch to light theme":"switch to dark theme",handler:()=>{t.config.ui.theme=t.darkMode?"light":"dark"}},{command:B.TOGGLE_DEBUG_MODE,group:"editor",icon:"bug_report",handler:()=>o.toggleDebug(),available:()=>[U.EditNote,U.RawEditor].includes(r.name)&&t.config.developer.developerMode},{command:B.SETTINGS,icon:"settings",group:"global",description:"open settings",handler:()=>s.push({name:$n({data:U.SystemSettings,mobile:U.SettingsPage})})}]}function Ut(t,n=""){return Object.keys(t).reduce((o,e)=>{const i=t[e];return typeof i=="boolean"?o.push({command:`${n}: ${Ye(e)}`,description:`Toggle ${e}`,group:"settings",icon:"settings",handler:()=>{t[e]=!t[e]}}):i&&typeof i=="object"&&o.push(...Ut(i,e)),o},[])}const zn=A({__name:"CodeBlock",props:{code:{}},setup(t,{expose:n}){n();const o=t,e=vo(),a={props:o,notifictions:e,copySrc:()=>{_o(o.code),e.notify("copied to clipboard")},ActionBtn:Ot};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),Tn={class:"src-code-wrapper"},qn={key:0,class:"actions"};function On(t,n,o,e,i,a){const r=Et("highlightjs");return u(),k("div",Tn,[o.code.length?(u(),k("div",qn,[ue(t.$slots,"actions",{},void 0,!0),d(e.ActionBtn,{onClick:e.copySrc,icon:"content_copy","active-icon":"done"})])):R("",!0),d(r,{autodetect:"",code:o.code},null,8,["code"])])}const Gt=M(zn,[["render",On],["__scopeId","data-v-ffb976cd"],["__file","CodeBlock.vue"]]),En=A({__name:"DebugPage",setup(t,{expose:n}){n();const o=Ie(),e=[...Object.keys(o.platform.is).map(l=>`  ${l}: ${o.platform.is[l]}`),` standalone: ${!!window.navigator.standalone}`].join(`
`),{orgNoteApi:i}=tt(),a=i.configuration().encryption,r=()=>!a.type||a.type===ft.Disabled?"":a.type===ft.GpgPassword?`
  Password provided: ${!!a.password}`:`
  Public key provided: ${!!a.publicKey}
  Private key provided: ${!!a.privateKey}
  Passphrase provided: ${!!a.privateKeyPassphrase}`,s=async()=>{if(!o.platform.is.nativeMobile)return"";const l=await go.getInfo();return`
Device info:
  Model: ${l.model}
  Manufacturer: ${l.manufacturer}
  ${o.platform.is.android?"SDK version: "+l.androidSDKVersion:""}
  Version: ${l.osVersion}`},m=ho(async()=>`OrgNote: ${Mt}
Language: ${navigator.language}

Screen:
  Screen resolution: ${screen.width}x${screen.height}
  Screen color depth: ${screen.colorDepth}
  Device pixel ratio: ${window.devicePixelRatio}

Encryption:
  Type: ${a.type}${r()}

Env:
  API URL: https://org-note.com/api/v1
  AUTH URL: https://org-note.com
  MODE: production

Quasar info:
${e}
${await s()}`),f={$q:o,prettyQuasarPlatform:e,orgNoteApi:i,encryption:a,getEncryptionData:r,getDeviceSpecificInfo:s,systemInfo:m,CodeBlock:Gt};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),Mn={class:"debug-page"},An={class:"capitalize q-pb-md q-px-sm"},Dn={class:"system-info"};function In(t,n,o,e,i,a){return u(),k("div",Mn,[x("div",An,I(t.$t("this information is available only on your device. It will not be sent to the server. You are free to use it for a GitHub issue.")),1),x("div",Dn,[e.systemInfo?(u(),C(e.CodeBlock,{key:0,code:e.systemInfo},null,8,["code"])):R("",!0)])])}const Ln=M(En,[["render",In],["__scopeId","data-v-655a8343"],["__file","DebugPage.vue"]]),Bn=A({__name:"LoggerPage",setup(t,{expose:n}){n();const o=bo(),{prettyLogs:e}=ze(o),i={loggerStore:o,prettyLogs:e,ActionBtn:Ot,CodeBlock:Gt};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),Rn={class:"logger-page"},jn={class:"capitalize q-pb-md q-px-sm"},Nn={class:"system-info"};function Vn(t,n,o,e,i,a){return u(),k("div",Rn,[x("div",jn,I(t.$t("this information is available only on your device. It will not be sent to the server. You are free to use it for a GitHub issue.")),1),x("div",Nn,[d(e.CodeBlock,{code:e.prettyLogs},{actions:v(()=>[d(e.ActionBtn,{onClick:e.loggerStore.clearLogs,icon:"o_delete_forever","active-icon":"done"},null,8,["onClick"])]),_:1},8,["code"])])])}const Hn=M(Bn,[["render",Vn],["__scopeId","data-v-bd40d508"],["__file","LoggerPage.vue"]]),Qn=A({__name:"ComponentTabs",props:{tabs:{}},setup(t,{expose:n}){n();const o=t,e=yo(o.tabs[0].component),a={props:o,activeComponent:e,openTab:r=>{e.value=r}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),Fn={class:"flex cols"},Wn={class:"active-tab"};function Un(t,n,o,e,i,a){return u(),k("div",Fn,[d(ke,{class:"tabs"},{default:v(()=>[(u(!0),k(J,null,be(o.tabs,r=>(u(),C(Y,{onClick:s=>e.openTab(r.component),disable:r?.disabled,key:r.name,active:e.activeComponent===r.component,clickable:"",class:"rounded-borders justify-start"},{default:v(()=>[d(de,{avatar:t.$q.screen.gt.xs},{default:v(()=>[d(G,{name:r.icon,size:"sm"},null,8,["name"])]),_:2},1032,["avatar"]),t.$q.screen.gt.xs?(u(),C(de,{key:0},{default:v(()=>[d(So,{class:"text-capitalize"},{default:v(()=>[Z(I(t.$t(r.name)),1)]),_:2},1024)]),_:2},1024)):R("",!0),r.disabledReason?(u(),C(wo,{key:1,anchor:"center right",self:"center start"},{default:v(()=>[Z(I(t.$t(r.disabledReason)),1)]),_:2},1024)):R("",!0)]),_:2},1032,["onClick","disable","active"]))),128)),ue(t.$slots,"custom-tabs",{},void 0,!0)]),_:3}),x("div",Wn,[(u(),C(Le(e.activeComponent)))])])}const Gn=M(Qn,[["render",Un],["__scopeId","data-v-78d2c0d7"],["__file","ComponentTabs.vue"]]),Kn=A({__name:"AboutOrgRoamPage",setup(t,{expose:n}){n();const{loading:o,noteContent:e}=qa("/about.org"),i={loading:o,noteContent:e,LoaderSpinner:dt,RawEditor:dn};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),Xn={key:0,class:"full-height flex items-center justify-center"};function Yn(t,n,o,e,i,a){return e.loading?(u(),k("div",Xn,[d(e.LoaderSpinner)])):e.noteContent?(u(),C(e.RawEditor,{key:1,modelValue:e.noteContent,"onUpdate:modelValue":n[0]||(n[0]=r=>e.noteContent=r),readonly:!0},null,8,["modelValue"])):R("",!0)}const Jn=M(Kn,[["render",Yn],["__file","AboutOrgRoamPage.vue"]]),Zn={name:"AcknowledgementsPage"},ea=A({...Zn,setup(t,{expose:n}){n();const e={links:[{name:"emacs",url:"https://www.gnu.org/software/emacs/",icon:"https://www.gnu.org/software/emacs/images/emacs.png"},{name:"Org-roam",url:"https://www.orgroam.com/",icon:"https://www.orgroam.com/img/logo.png"},{name:"CodeMirror",url:"https://codemirror.net/",icon:"https://codemirror.net/style/logo.svg"},{name:"Quasar",url:"https://quasar.dev/",icon:"https://cdn.quasar.dev/logo-v2/svg/logo-dark.svg"},{name:"Cordova",url:"https://cordova.apache.org/",icon:"https://cordova.apache.org/static/img/cordova_bot.png"}]};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),ta={class:"q-pa-md row gap-32"},oa=["href"],na=["src"];function aa(t,n,o,e,i,a){return u(),k("div",ta,[(u(),k(J,null,be(e.links,r=>x("a",{key:r.name,class:"project-link flex column items-center col-1 gap-8",href:r.url,target:"_blank"},[x("img",{class:"icon",src:r.icon,alt:"codemirror logo"},null,8,na),Z(" "+I(r.name),1)],8,oa)),64))])}const ra=M(ea,[["render",aa],["__scopeId","data-v-d311d1fd"],["__file","AcknowledgementsPage.vue"]]),ia={},Kt=t=>(At("data-v-51a2db48"),t=t(),Dt(),t),sa={class:"sponsor"},la=Kt(()=>x("a",{href:"https://www.paypal.me/darkawower",title:"Paypal",target:"_blank",style:{"line-height":"0"}},[x("img",{class:"block",src:"https://img.shields.io/badge/paypal-donate-blue.svg",alt:"Buy Me A Coffee donate button"})],-1)),ca=Kt(()=>x("a",{href:"https://patreon.com/artawower",_target:"blank"},[x("img",{class:"block",src:"https://img.shields.io/badge/patreon-donate-orange.svg",alt:"Patreon donate button"})],-1)),ua=[la,ca];function da(t,n){return u(),k("div",sa,ua)}const ma=M(ia,[["render",da],["__scopeId","data-v-51a2db48"],["__file","DonationLinks.vue"]]),fa={name:"SponsorsPage"},pa=A({...fa,setup(t,{expose:n}){n();const o=Co();Te(()=>{o.loadSponsors()});const e={sponsorsStore:o,DonationLinks:ma};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),va={class:"q-pa-md"},_a={class:"q-mb-md color-magenta"},ha={class:"few-words"},ga={class:"sponsors"},ba={class:"capitalize color-secondary text-center text-italic"};function ya(t,n,o,e,i,a){return u(),k("div",va,[x("h3",_a,I(t.$t("sponsors")),1),x("div",ha,I(t.$t("sponsors.appretiate")),1),x("div",ga,[(u(!0),k(J,null,be(e.sponsorsStore.sponsors,r=>(u(),C(Le(r.link?"a":"p"),{href:r.link??void 0,target:"_blank",class:qe(["sponsor color-magic",r.link?"active":""]),key:r.name},{default:v(()=>[Z(I(r.name),1)]),_:2},1032,["href","class"]))),128))]),x("div",ba,I(t.$t("you name could be here")),1),d(e.DonationLinks)])}const Sa=M(pa,[["render",ya],["__scopeId","data-v-e471be8a"],["__file","SponsorsPage.vue"]]),wa=A({__name:"ProjectInfo",setup(t,{expose:n}){n();const e={tabs:[{component:Jn,icon:"o_info",name:"info"},{component:ra,name:"acknowledgements",icon:"add_reaction"},{component:Sa,icon:"monetization_on",name:"sponsors"}],ComponentTabs:Gn};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),Ca={class:"project-info"};function xa(t,n,o,e,i,a){return u(),k("div",Ca,[d(e.ComponentTabs,{tabs:e.tabs},{"custom-tabs":v(()=>[d(Y,{href:"https://github.com/Artawower/orgnote/wiki/General",target:"_blank"},{default:v(()=>[d(de,{avatar:t.$q.screen.gt.xs},{default:v(()=>[d(G,{name:"quiz",size:"sm"})]),_:1},8,["avatar"]),t.$q.screen.gt.xs?(u(),C(de,{key:0},{default:v(()=>[Z(" WIKI ")]),_:1})):R("",!0)]),_:1})]),_:1})])}const ka=M(wa,[["render",xa],["__file","ProjectInfo.vue"]]);function $a(){const t=ot(),n=nt(),o=xo();return[{command:B.REPORT_BUG,description:"report bug",group:"debug",handler:ne(()=>window.open("https://github.com/Artawower/orgnote-client/issues/new/choose","_blank"))},{command:B.OPEN_DEBUG_INFO,keySequence:"Ctrl+KeyD",description:"open debug info",group:"debug",handler:()=>{t.open(Ln,{title:"system info"})}},{command:B.SHOW_LOGS,keySequence:"Ctrl+KeyD",description:"show logs",group:"debug",handler:()=>{t.open(Hn,{title:"logs"})}},{command:B.TOGGLE_SIDEBAR,group:"global",icon:()=>n.opened?"arrow_circle_left":"menu",description:"toggle sidebar",handler:()=>{n.toggle()}},{command:B.TOGGLE_FILE_MANAGER,group:"global",icon:"folder",description:"toggle file manager",handler:()=>{n.toggleWithComponent(ko)}},{command:B.CREATE_NOTE,group:"global",icon:"o_add_box",handler:()=>o.createFile()},{command:B.PROJECT_INFO,icon:"o_info",description:"show project info",group:"global",handler:()=>t.open(ka)}]}function Pa(){const t=ge(),n=at(),o=$o();return[{command:B.TOGGLE_COMMANDS,keySequence:"Alt+KeyX",description:"Toggle command executor",icon:"terminal",group:"completion",allowOnInput:!0,handler:e=>{t.toggleCompletion(),n.initCompletion(),e?.event?.preventDefault()}},{command:B.SEARCH,keySequence:"/",description:"search notes",icon:"search",group:"completion",handler:e=>{o.initCompletion(),e.event?.preventDefault()}},{command:B.RESTORE_COMPLETION,keySequence:"'",description:"restore last completion session",group:"completion",handler:()=>{t.restoreLastCompletionSession()}},{command:B.EXIT_COMMAND_EXECUTOR,handler:()=>{t.closeCompletion()},keySequence:"Escape",description:"Exit command executor",group:"completion",allowOnInput:!0},{command:B.NEXT_CANDIDATE,handler:()=>{t.nextCandidate()},ignorePrompt:!0,keySequence:"Control+KeyJ",description:"Next candidate",group:"completion",allowOnInput:!0},{command:B.PREV_CANDIDATE,handler:()=>{t.previousCandidate()},ignorePrompt:!0,keySequence:"Control+KeyK",description:"Previous candidate",group:"completion",allowOnInput:!0},{command:B.EXECUTE_CANDIDATE,keySequence:"Enter",description:"Execute candidate",group:"completion",allowOnInput:!0,ignorePrompt:!0,handler:()=>{t.opened&&t.executeCandidate(t.selectedCandidate)}}]}function za(){const t=Ie();if(!t.platform.is.mobile)return[];const{orgNoteApi:n}=tt();return[{command:"select file path",description:"select file path",available:()=>t.platform.is.mobile,icon:"folder_open",group:"mobile",handler:async()=>n.fileSystem.readPath()}]}function Ta(){const t=at(),n=kn(),o=Pn(),e=$a(),i=Pa(),a=za();return{register:()=>{t.register(...n,...o,...e,...i,...a)}}}const qa=t=>{const n=$(!0),o=$(null),e=async()=>{try{const i=await Po.get(t);o.value=i.data}finally{n.value=!1}};return Te(async()=>{await e()}),{loading:n,noteContent:o}},Oa=t=>{const n=$(window.document.hasFocus()),o=()=>{n.value=window.document.hasFocus(),t?.(n.value)};return fe(ne(()=>window.addEventListener("focus",o))),ye(ne(()=>window.removeEventListener("focus",o))),{active:n}};function Ea(){const t=$(!1),n=qt();return Te(async()=>{await n.loadActiveExtensions(),await n.loadExtensions(),await n.initBuiltInExtensions(),t.value=!0}),{bootstrapped:t}}const Ma=A({__name:"PageLoading",setup(t,{expose:n}){n();const o={LoaderSpinner:dt};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function Aa(t,n,o,e,i,a){return u(),C(Sn,{class:"center-container fit flex items-center justify-center"},{default:v(()=>[d(e.LoaderSpinner)]),_:1})}const Da=M(Ma,[["render",Aa],["__file","PageLoading.vue"]]),Ia=pe({name:"QPageContainer",setup(t,{slots:n}){const{proxy:{$q:o}}=ve(),e=rt(Be,ae);if(e===ae)return console.error("QPageContainer needs to be child of QLayout"),ae;It(zo,!0);const i=_(()=>{const a={};return e.header.space===!0&&(a.paddingTop=`${e.header.size}px`),e.right.space===!0&&(a[`padding${o.lang.rtl===!0?"Left":"Right"}`]=`${e.right.size}px`),e.footer.space===!0&&(a.paddingBottom=`${e.footer.size}px`),e.left.space===!0&&(a[`padding${o.lang.rtl===!0?"Right":"Left"}`]=`${e.left.size}px`),a});return()=>D("div",{class:"q-page-container",style:i.value},it(n.default))}}),{passive:wt}=Oo,La=["both","horizontal","vertical"],Xt=pe({name:"QScrollObserver",props:{axis:{type:String,validator:t=>La.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:To},emits:["scroll"],setup(t,{emit:n}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let e=null,i,a;L(()=>t.scrollTarget,()=>{m(),s()});function r(){e!==null&&e();const P=Math.max(0,Eo(i)),h=Mo(i),y={top:P-o.position.top,left:h-o.position.left};if(t.axis==="vertical"&&y.top===0||t.axis==="horizontal"&&y.left===0)return;const g=Math.abs(y.top)>=Math.abs(y.left)?y.top<0?"up":"down":y.left<0?"left":"right";o.position={top:P,left:h},o.directionChanged=o.direction!==g,o.delta=y,o.directionChanged===!0&&(o.direction=g,o.inflectionPoint=o.position),n("scroll",{...o})}function s(){i=qo(a,t.scrollTarget),i.addEventListener("scroll",f,wt),f(!0)}function m(){i!==void 0&&(i.removeEventListener("scroll",f,wt),i=void 0)}function f(P){if(P===!0||t.debounce===0||t.debounce==="0")r();else if(e===null){const[h,y]=t.debounce?[setTimeout(r,t.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];e=()=>{y(h),e=null}}}const{proxy:l}=ve();return L(()=>l.$q.lang.rtl,r),fe(()=>{a=l.$el.parentNode,s()}),ye(()=>{e!==null&&e(),m()}),Object.assign(l,{trigger:f,getPosition:()=>o}),Lt}}),Ba=pe({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:n,emit:o}){const{proxy:{$q:e}}=ve(),i=$(null),a=$(e.screen.height),r=$(t.container===!0?0:e.screen.width),s=$({position:0,direction:"down",inflectionPoint:0}),m=$(0),f=$(Ao.value===!0?0:Fe()),l=_(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),P=_(()=>t.container===!1?{minHeight:e.screen.height+"px"}:null),h=_(()=>f.value!==0?{[e.lang.rtl===!0?"left":"right"]:`${f.value}px`}:null),y=_(()=>f.value!==0?{[e.lang.rtl===!0?"right":"left"]:0,[e.lang.rtl===!0?"left":"right"]:`-${f.value}px`,width:`calc(100% + ${f.value}px)`}:null);function g(E){if(t.container===!0||document.qScrollPrevented!==!0){const N={position:E.position.top,direction:E.direction,directionChanged:E.directionChanged,inflectionPoint:E.inflectionPoint.top,delta:E.delta.top};s.value=N,t.onScroll!==void 0&&o("scroll",N)}}function T(E){const{height:N,width:V}=E;let H=!1;a.value!==N&&(H=!0,a.value=N,t.onScrollHeight!==void 0&&o("scrollHeight",N),S()),r.value!==V&&(H=!0,r.value=V),H===!0&&t.onResize!==void 0&&o("resize",E)}function q({height:E}){m.value!==E&&(m.value=E,S())}function S(){if(t.container===!0){const E=a.value>m.value?Fe():0;f.value!==E&&(f.value=E)}}let b=null;const j={instances:{},view:_(()=>t.view),isContainer:_(()=>t.container),rootRef:i,height:a,containerHeight:m,scrollbarWidth:f,totalWidth:_(()=>r.value+f.value),rows:_(()=>{const E=t.view.toLowerCase().split(" ");return{top:E[0].split(""),middle:E[1].split(""),bottom:E[2].split("")}}),header:Ae({size:0,offset:0,space:!1}),right:Ae({size:300,offset:0,space:!1}),footer:Ae({size:0,offset:0,space:!1}),left:Ae({size:300,offset:0,space:!1}),scroll:s,animate(){b!==null?clearTimeout(b):document.body.classList.add("q-body--layout-animate"),b=setTimeout(()=>{b=null,document.body.classList.remove("q-body--layout-animate")},155)},update(E,N,V){j[E][N]=V}};if(It(Be,j),Fe()>0){let E=function(){H=null,ie.classList.remove("hide-scrollbar")},N=function(){if(H===null){if(ie.scrollHeight>e.screen.height)return;ie.classList.add("hide-scrollbar")}else clearTimeout(H);H=setTimeout(E,300)},V=function(ee){H!==null&&ee==="remove"&&(clearTimeout(H),E()),window[`${ee}EventListener`]("resize",N)},H=null;const ie=document.body;L(()=>t.container!==!0?"add":"remove",V),t.container!==!0&&V("add"),Bt(()=>{V("remove")})}return()=>{const E=Rt(n.default,[D(Xt,{onScroll:g}),D(Pe,{onResize:T})]),N=D("div",{class:l.value,style:P.value,ref:t.container===!0?void 0:i,tabindex:-1},E);return t.container===!0?D("div",{class:"q-layout-container overflow-hidden",ref:i},[D(Pe,{onResize:q}),D("div",{class:"absolute-full",style:h.value},[D("div",{class:"scroll",style:y.value},[N])])]):N}}});function Ra(t){const n=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((o,e)=>{const i=parseFloat(o);i&&(n[e]=i)}),n}const Yt=Do({name:"touch-swipe",beforeMount(t,{value:n,arg:o,modifiers:e}){if(e.mouse!==!0&&Ce.has.touch!==!0)return;const i=e.mouseCapture===!0?"Capture":"",a={handler:n,sensitivity:Ra(o),direction:yt(e),noop:Lt,mouseStart(r){St(r,a)&&Io(r)&&(De(a,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(r,!0))},touchStart(r){if(St(r,a)){const s=r.target;De(a,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),a.start(r)}},start(r,s){Ce.is.firefox===!0&&We(t,!0);const m=pt(r);a.event={x:m.left,y:m.top,time:Date.now(),mouse:s===!0,dir:!1}},move(r){if(a.event===void 0)return;if(a.event.dir!==!1){Ue(r);return}const s=Date.now()-a.event.time;if(s===0)return;const m=pt(r),f=m.left-a.event.x,l=Math.abs(f),P=m.top-a.event.y,h=Math.abs(P);if(a.event.mouse!==!0){if(l<a.sensitivity[1]&&h<a.sensitivity[1]){a.end(r);return}}else if(window.getSelection().toString()!==""){a.end(r);return}else if(l<a.sensitivity[2]&&h<a.sensitivity[2])return;const y=l/s,g=h/s;a.direction.vertical===!0&&l<h&&l<100&&g>a.sensitivity[0]&&(a.event.dir=P<0?"up":"down"),a.direction.horizontal===!0&&l>h&&h<100&&y>a.sensitivity[0]&&(a.event.dir=f<0?"left":"right"),a.direction.up===!0&&l<h&&P<0&&l<100&&g>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&l<h&&P>0&&l<100&&g>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&l>h&&f<0&&h<100&&y>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&l>h&&f>0&&h<100&&y>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(Ue(r),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Lo(),a.styleCleanup=T=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const q=()=>{document.body.classList.remove("no-pointer-events--children")};T===!0?setTimeout(q,50):q()}),a.handler({evt:r,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:s,distance:{x:l,y:h}})):a.end(r)},end(r){a.event!==void 0&&(Ge(a,"temp"),Ce.is.firefox===!0&&We(t,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),r!==void 0&&a.event.dir!==!1&&Ue(r),a.event=void 0)}};if(t.__qtouchswipe=a,e.mouse===!0){const r=e.mouseCapture===!0||e.mousecapture===!0?"Capture":"";De(a,"main",[[t,"mousedown","mouseStart",`passive${r}`]])}Ce.has.touch===!0&&De(a,"main",[[t,"touchstart","touchStart",`passive${e.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,n){const o=t.__qtouchswipe;o!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&o.end(),o.handler=n.value),o.direction=yt(n.modifiers))},beforeUnmount(t){const n=t.__qtouchswipe;n!==void 0&&(Ge(n,"main"),Ge(n,"temp"),Ce.is.firefox===!0&&We(t,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete t.__qtouchswipe)}}),Ct=["vertical","horizontal"],Xe={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},xt={prevent:!0,mouse:!0,mouseAllDir:!0},kt=t=>t>=250?50:Math.ceil(t/5),Jt=pe({name:"QScrollArea",props:{...st,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(t,{slots:n,emit:o}){const e=$(!1),i=$(!1),a=$(!1),r={vertical:$(0),horizontal:$(0)},s={vertical:{ref:$(null),position:$(0),size:$(0)},horizontal:{ref:$(null),position:$(0),size:$(0)}},{proxy:m}=ve(),f=lt(t,m.$q);let l=null,P;const h=$(null),y=_(()=>"q-scrollarea"+(f.value===!0?" q-scrollarea--dark":""));s.vertical.percentage=_(()=>{const p=s.vertical.size.value-r.vertical.value;if(p<=0)return 0;const w=ce(s.vertical.position.value/p,0,1);return Math.round(w*1e4)/1e4}),s.vertical.thumbHidden=_(()=>(t.visible===null?a.value:t.visible)!==!0&&e.value===!1&&i.value===!1||s.vertical.size.value<=r.vertical.value+1),s.vertical.thumbStart=_(()=>s.vertical.percentage.value*(r.vertical.value-s.vertical.thumbSize.value)),s.vertical.thumbSize=_(()=>Math.round(ce(r.vertical.value*r.vertical.value/s.vertical.size.value,kt(r.vertical.value),r.vertical.value))),s.vertical.style=_(()=>({...t.thumbStyle,...t.verticalThumbStyle,top:`${s.vertical.thumbStart.value}px`,height:`${s.vertical.thumbSize.value}px`})),s.vertical.thumbClass=_(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.vertical.barClass=_(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),s.horizontal.percentage=_(()=>{const p=s.horizontal.size.value-r.horizontal.value;if(p<=0)return 0;const w=ce(Math.abs(s.horizontal.position.value)/p,0,1);return Math.round(w*1e4)/1e4}),s.horizontal.thumbHidden=_(()=>(t.visible===null?a.value:t.visible)!==!0&&e.value===!1&&i.value===!1||s.horizontal.size.value<=r.horizontal.value+1),s.horizontal.thumbStart=_(()=>s.horizontal.percentage.value*(r.horizontal.value-s.horizontal.thumbSize.value)),s.horizontal.thumbSize=_(()=>Math.round(ce(r.horizontal.value*r.horizontal.value/s.horizontal.size.value,kt(r.horizontal.value),r.horizontal.value))),s.horizontal.style=_(()=>({...t.thumbStyle,...t.horizontalThumbStyle,[m.$q.lang.rtl===!0?"right":"left"]:`${s.horizontal.thumbStart.value}px`,width:`${s.horizontal.thumbSize.value}px`})),s.horizontal.thumbClass=_(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.horizontal.barClass=_(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const g=_(()=>s.vertical.thumbHidden.value===!0&&s.horizontal.thumbHidden.value===!0?t.contentStyle:t.contentActiveStyle),T=[[xe,p=>{H(p,"vertical")},void 0,{vertical:!0,...xt}]],q=[[xe,p=>{H(p,"horizontal")},void 0,{horizontal:!0,...xt}]];function S(){const p={};return Ct.forEach(w=>{const O=s[w];p[w+"Position"]=O.position.value,p[w+"Percentage"]=O.percentage.value,p[w+"Size"]=O.size.value,p[w+"ContainerSize"]=r[w].value}),p}const b=Bo(()=>{const p=S();p.ref=m,o("scroll",p)},0);function j(p,w,O){if(Ct.includes(p)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(p==="vertical"?vt:Ke)(h.value,w,O)}function E({height:p,width:w}){let O=!1;r.vertical.value!==p&&(r.vertical.value=p,O=!0),r.horizontal.value!==w&&(r.horizontal.value=w,O=!0),O===!0&&X()}function N({position:p}){let w=!1;s.vertical.position.value!==p.top&&(s.vertical.position.value=p.top,w=!0),s.horizontal.position.value!==p.left&&(s.horizontal.position.value=p.left,w=!0),w===!0&&X()}function V({height:p,width:w}){s.horizontal.size.value!==w&&(s.horizontal.size.value=w,X()),s.vertical.size.value!==p&&(s.vertical.size.value=p,X())}function H(p,w){const O=s[w];if(p.isFirst===!0){if(O.thumbHidden.value===!0)return;P=O.position.value,i.value=!0}else if(i.value!==!0)return;p.isFinal===!0&&(i.value=!1);const oe=Xe[w],_e=r[w].value,Re=(O.size.value-_e)/(_e-O.thumbSize.value),Ee=p.distance[oe.dist],je=P+(p.direction===oe.dir?1:-1)*Ee*Re;Se(je,w)}function ie(p,w){const O=s[w];if(O.thumbHidden.value!==!0){const oe=p[Xe[w].offset];if(oe<O.thumbStart.value||oe>O.thumbStart.value+O.thumbSize.value){const _e=oe-O.thumbSize.value/2;Se(_e/r[w].value*O.size.value,w)}O.ref.value!==null&&O.ref.value.dispatchEvent(new MouseEvent(p.type,p))}}function ee(p){ie(p,"vertical")}function K(p){ie(p,"horizontal")}function X(){e.value=!0,l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,e.value=!1},t.delay),t.onScroll!==void 0&&b()}function Se(p,w){h.value[Xe[w].scroll]=p}let Q=null;function we(){Q!==null&&clearTimeout(Q),Q=setTimeout(()=>{Q=null,a.value=!0},m.$q.platform.is.ios?50:0)}function Oe(){Q!==null&&(clearTimeout(Q),Q=null),a.value=!1}let te=null;return L(()=>m.$q.lang.rtl,p=>{h.value!==null&&Ke(h.value,Math.abs(s.horizontal.position.value)*(p===!0?-1:1))}),Ro(()=>{te={top:s.vertical.position.value,left:s.horizontal.position.value}}),jo(()=>{if(te===null)return;const p=h.value;p!==null&&(Ke(p,te.left),vt(p,te.top))}),ye(b.cancel),Object.assign(m,{getScrollTarget:()=>h.value,getScroll:S,getScrollPosition:()=>({top:s.vertical.position.value,left:s.horizontal.position.value}),getScrollPercentage:()=>({top:s.vertical.percentage.value,left:s.horizontal.percentage.value}),setScrollPosition:j,setScrollPercentage(p,w,O){j(p,w*(s[p].size.value-r[p].value)*(p==="horizontal"&&m.$q.lang.rtl===!0?-1:1),O)}}),()=>D("div",{class:y.value,onMouseenter:we,onMouseleave:Oe},[D("div",{ref:h,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:t.tabindex!==void 0?t.tabindex:void 0},[D("div",{class:"q-scrollarea__content absolute",style:g.value},Rt(n.default,[D(Pe,{debounce:0,onResize:V})])),D(Xt,{axis:"both",onScroll:N})]),D(Pe,{debounce:0,onResize:E}),D("div",{class:s.vertical.barClass.value,style:[t.barStyle,t.verticalBarStyle],"aria-hidden":"true",onMousedown:ee}),D("div",{class:s.horizontal.barClass.value,style:[t.barStyle,t.horizontalBarStyle],"aria-hidden":"true",onMousedown:K}),me(D("div",{ref:s.vertical.ref,class:s.vertical.thumbClass.value,style:s.vertical.style.value,"aria-hidden":"true"}),T),me(D("div",{ref:s.horizontal.ref,class:s.horizontal.thumbClass.value,style:s.horizontal.style.value,"aria-hidden":"true"}),q)])}}),$t=150,Pt=pe({name:"QDrawer",inheritAttrs:!1,props:{...No,...st,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Vo,"onLayout","miniState"],setup(t,{slots:n,emit:o,attrs:e}){const i=ve(),{proxy:{$q:a}}=i,r=lt(t,a),{preventBodyScroll:s}=Wo(),{registerTimeout:m,removeTimeout:f}=Ho(),l=rt(Be,ae);if(l===ae)return console.error("QDrawer needs to be child of QLayout"),ae;let P,h=null,y;const g=$(t.behavior==="mobile"||t.behavior!=="desktop"&&l.totalWidth.value<=t.breakpoint),T=_(()=>t.mini===!0&&g.value!==!0),q=_(()=>T.value===!0?t.miniWidth:t.width),S=$(t.showIfAbove===!0&&g.value===!1?!0:t.modelValue===!0),b=_(()=>t.persistent!==!0&&(g.value===!0||oe.value===!0));function j(c,z){if(H(),c!==!1&&l.animate(),W(0),g.value===!0){const F=l.instances[te.value];F!==void 0&&F.belowBreakpoint===!0&&F.hide(!1),se(1),l.isContainer.value!==!0&&s(!0)}else se(0),c!==!1&&Ve(!1);m(()=>{c!==!1&&Ve(!0),z!==!0&&o("show",c)},$t)}function E(c,z){ie(),c!==!1&&l.animate(),se(0),W(X.value*q.value),He(),z!==!0?m(()=>{o("hide",c)},$t):f()}const{show:N,hide:V}=Qo({showing:S,hideOnRouteChange:b,handleShow:j,handleHide:E}),{addToHistory:H,removeFromHistory:ie}=Fo(S,V,b),ee={belowBreakpoint:g,hide:V},K=_(()=>t.side==="right"),X=_(()=>(a.lang.rtl===!0?-1:1)*(K.value===!0?1:-1)),Se=$(0),Q=$(!1),we=$(!1),Oe=$(q.value*X.value),te=_(()=>K.value===!0?"left":"right"),p=_(()=>S.value===!0&&g.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:q.value:0),w=_(()=>t.overlay===!0||t.miniToOverlay===!0||l.view.value.indexOf(K.value?"R":"L")!==-1||a.platform.is.ios===!0&&l.isContainer.value===!0),O=_(()=>t.overlay===!1&&S.value===!0&&g.value===!1),oe=_(()=>t.overlay===!0&&S.value===!0&&g.value===!1),_e=_(()=>"fullscreen q-drawer__backdrop"+(S.value===!1&&Q.value===!1?" hidden":"")),Re=_(()=>({backgroundColor:`rgba(0,0,0,${Se.value*.4})`})),Ee=_(()=>K.value===!0?l.rows.value.top[2]==="r":l.rows.value.top[0]==="l"),je=_(()=>K.value===!0?l.rows.value.bottom[2]==="r":l.rows.value.bottom[0]==="l"),oo=_(()=>{const c={};return l.header.space===!0&&Ee.value===!1&&(w.value===!0?c.top=`${l.header.offset}px`:l.header.space===!0&&(c.top=`${l.header.size}px`)),l.footer.space===!0&&je.value===!1&&(w.value===!0?c.bottom=`${l.footer.offset}px`:l.footer.space===!0&&(c.bottom=`${l.footer.size}px`)),c}),no=_(()=>{const c={width:`${q.value}px`,transform:`translateX(${Oe.value}px)`};return g.value===!0?c:Object.assign(c,oo.value)}),ao=_(()=>"q-drawer__content fit "+(l.isContainer.value!==!0?"scroll":"overflow-auto")),ro=_(()=>`q-drawer q-drawer--${t.side}`+(we.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(r.value===!0?" q-drawer--dark q-dark":"")+(Q.value===!0?" no-transition":S.value===!0?"":" q-layout--prevent-focus")+(g.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${T.value===!0?"mini":"standard"}`+(w.value===!0||O.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(Ee.value===!0?" q-drawer--top-padding":""))),io=_(()=>{const c=a.lang.rtl===!0?t.side:te.value;return[[xe,uo,void 0,{[c]:!0,mouse:!0}]]}),so=_(()=>{const c=a.lang.rtl===!0?te.value:t.side;return[[xe,mt,void 0,{[c]:!0,mouse:!0}]]}),lo=_(()=>{const c=a.lang.rtl===!0?te.value:t.side;return[[xe,mt,void 0,{[c]:!0,mouse:!0,mouseAllDir:!0}]]});function Ne(){mo(g,t.behavior==="mobile"||t.behavior!=="desktop"&&l.totalWidth.value<=t.breakpoint)}L(g,c=>{c===!0?(P=S.value,S.value===!0&&V(!1)):t.overlay===!1&&t.behavior!=="mobile"&&P!==!1&&(S.value===!0?(W(0),se(0),He()):N(!1))}),L(()=>t.side,(c,z)=>{l.instances[z]===ee&&(l.instances[z]=void 0,l[z].space=!1,l[z].offset=0),l.instances[c]=ee,l[c].size=q.value,l[c].space=O.value,l[c].offset=p.value}),L(l.totalWidth,()=>{(l.isContainer.value===!0||document.qScrollPrevented!==!0)&&Ne()}),L(()=>t.behavior+t.breakpoint,Ne),L(l.isContainer,c=>{S.value===!0&&s(c!==!0),c===!0&&Ne()}),L(l.scrollbarWidth,()=>{W(S.value===!0?0:void 0)}),L(p,c=>{le("offset",c)}),L(O,c=>{o("onLayout",c),le("space",c)}),L(K,()=>{W()}),L(q,c=>{W(),Qe(t.miniToOverlay,c)}),L(()=>t.miniToOverlay,c=>{Qe(c,q.value)}),L(()=>a.lang.rtl,()=>{W()}),L(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(co(),l.animate())}),L(T,c=>{o("miniState",c)});function W(c){c===void 0?_t(()=>{c=S.value===!0?0:q.value,W(X.value*c)}):(l.isContainer.value===!0&&K.value===!0&&(g.value===!0||Math.abs(c)===q.value)&&(c+=X.value*l.scrollbarWidth.value),Oe.value=c)}function se(c){Se.value=c}function Ve(c){const z=c===!0?"remove":l.isContainer.value!==!0?"add":"";z!==""&&document.body.classList[z]("q-body--drawer-toggle")}function co(){h!==null&&clearTimeout(h),i.proxy&&i.proxy.$el&&i.proxy.$el.classList.add("q-drawer--mini-animate"),we.value=!0,h=setTimeout(()=>{h=null,we.value=!1,i&&i.proxy&&i.proxy.$el&&i.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function uo(c){if(S.value!==!1)return;const z=q.value,F=ce(c.distance.x,0,z);if(c.isFinal===!0){F>=Math.min(75,z)===!0?N():(l.animate(),se(0),W(X.value*z)),Q.value=!1;return}W((a.lang.rtl===!0?K.value!==!0:K.value)?Math.max(z-F,0):Math.min(0,F-z)),se(ce(F/z,0,1)),c.isFirst===!0&&(Q.value=!0)}function mt(c){if(S.value!==!0)return;const z=q.value,F=c.direction===t.side,Me=(a.lang.rtl===!0?F!==!0:F)?ce(c.distance.x,0,z):0;if(c.isFinal===!0){Math.abs(Me)<Math.min(75,z)===!0?(l.animate(),se(1),W(0)):V(),Q.value=!1;return}W(X.value*Me),se(ce(1-Me/z,0,1)),c.isFirst===!0&&(Q.value=!0)}function He(){s(!1),Ve(!0)}function le(c,z){l.update(t.side,c,z)}function mo(c,z){c.value!==z&&(c.value=z)}function Qe(c,z){le("size",c===!0?t.miniWidth:z)}return l.instances[t.side]=ee,Qe(t.miniToOverlay,q.value),le("space",O.value),le("offset",p.value),t.showIfAbove===!0&&t.modelValue!==!0&&S.value===!0&&t["onUpdate:modelValue"]!==void 0&&o("update:modelValue",!0),fe(()=>{o("onLayout",O.value),o("miniState",T.value),P=t.showIfAbove===!0;const c=()=>{(S.value===!0?j:E)(!1,!0)};if(l.totalWidth.value!==0){_t(c);return}y=L(l.totalWidth,()=>{y(),y=void 0,S.value===!1&&t.showIfAbove===!0&&g.value===!1?N(!1):c()})}),ye(()=>{y!==void 0&&y(),h!==null&&(clearTimeout(h),h=null),S.value===!0&&He(),l.instances[t.side]===ee&&(l.instances[t.side]=void 0,le("size",0),le("offset",0),le("space",!1))}),()=>{const c=[];g.value===!0&&(t.noSwipeOpen===!1&&c.push(me(D("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),io.value)),c.push(ht("div",{ref:"backdrop",class:_e.value,style:Re.value,"aria-hidden":"true",onClick:V},void 0,"backdrop",t.noSwipeBackdrop!==!0&&S.value===!0,()=>lo.value)));const z=T.value===!0&&n.mini!==void 0,F=[D("div",{...e,key:""+z,class:[ao.value,e.class]},z===!0?n.mini():it(n.default))];return t.elevated===!0&&S.value===!0&&F.push(D("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),c.push(ht("aside",{ref:"content",class:ro.value,style:no.value},F,"contentclose",t.noSwipeClose!==!0&&g.value===!0,()=>so.value)),D("div",{class:"q-drawer-container"},c)}}}),ja=A({__name:"ActionPaneWrapper",setup(t,{expose:n}){n(),jt();const o={};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function Na(t,n,o,e,i,a){return ue(t.$slots,"default")}const Va=M(ja,[["render",Na],["__file","ActionPaneWrapper.vue"]]),Ha="https://play.google.com/store/apps/details?id=org.note.app",Qa=A({__name:"DownloadLinks",setup(t,{expose:n}){n();const o={apkUrl:Ha};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),Fa=""+new URL("google-play-DhjbdeBv.svg",import.meta.url).href,Wa={class:"download-links"},Ua=x("img",{src:Fa,height:"26"},null,-1),Ga=[Ua];function Ka(t,n,o,e,i,a){return u(),k("div",Wa,[!t.$q.platform.is.nativeMobile&&!t.$q.platform.is.ios?(u(),k("a",{key:0,href:e.apkUrl,target:"_blank"},Ga)):R("",!0)])}const Xa=M(Qa,[["render",Ka],["__file","DownloadLinks.vue"]]),Ya={};function Ja(t,n){return" Share your knowledge. It is a way to achieve immortality (Dalai Lama) "}const Za=M(Ya,[["render",Ja],["__file","RandomQuote.vue"]]),er=A({__name:"ProfileSideBar",setup(t,{expose:n}){n();const o=Je(),{user:e}=ze(o),r={authStore:o,user:e,openProfile:()=>{window.open(e.value.profileUrl,"_blank")},logout:()=>o.logout(),get version(){return Mt},DownloadLinks:Xa,LoginButtons:vn,RandomQuote:Za};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Zt=t=>(At("data-v-3da7bda4"),t=t(),Dt(),t),tr={key:0,src:"/icons/unicorn.png"},or=["src"],nr={class:"text-center q-mt-lg"},ar={class:"text-center subtitle text-weight-light text-italic"},rr=Zt(()=>x("br",null,null,-1)),ir={class:"text-center subtitle text-weight-light text-italic"},sr={class:"text-center q-mt-lg full-width"},lr=Zt(()=>x("span",{class:"text-weight-light text-caption"}," (beta)",-1));function cr(t,n,o,e,i,a){return u(),C(Jt,{class:"fit"},{default:v(()=>[d(ke,null,{default:v(()=>[e.user?(u(),C(Y,{key:0,clickable:"",class:"column justify-center avatar-item color-main",onClick:e.openProfile},{default:v(()=>[d(Nt,{size:"160px",class:"q-mx-auto q-pt-xs"},{default:v(()=>[e.user.isAnonymous?(u(),k("img",tr)):(u(),k("img",{key:1,src:e.user.avatarUrl},null,8,or))]),_:1}),x("div",nr,I(e.user.nickName),1),x("div",ar,I(e.user.email),1),rr,x("div",ir,[d(e.RandomQuote)])]),_:1})):R("",!0),e.user.isAnonymous?(u(),k(J,{key:1},[d(Y,null,{default:v(()=>[x("div",sr,I(t.$t("login to create your first note")),1)]),_:1}),d(e.LoginButtons)],64)):(u(),C(Y,{key:2,onClick:e.logout,clickable:""},{default:v(()=>[d(de,{avatar:""},{default:v(()=>[d(G,{name:"logout"})]),_:1}),d(de,{class:"text-capitalize"},{default:v(()=>[Z(I(t.$t("logout")),1)]),_:1})]),_:1}))]),_:1}),d(ke,null,{default:v(()=>[d(Y,{class:"text-italic flex-center"},{default:v(()=>[Z(I(e.version)+" ",1),lr]),_:1}),d(Y,null,{default:v(()=>[d(e.DownloadLinks)]),_:1})]),_:1})]),_:1})}const eo=M(er,[["render",cr],["__scopeId","data-v-3da7bda4"],["__file","ProfileSideBar.vue"]]),ur=A({__name:"SidePanelItems",props:{items:{}},emits:["executeAction"],setup(t,{expose:n,emit:o}){n();const e=o,{t:i}=Uo(),r={emits:e,t:i,getTitle:s=>s.title?i(`${$e(s.title)}`):"",get extractDynamicValue(){return $e}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function dr(t,n,o,e,i,a){return u(!0),k(J,null,be(o.items,r=>(u(),k(J,{key:r.command},[r.available()?(u(),C(Y,{key:0,clickable:"",onClick:s=>e.emits("executeAction",r)},{default:v(()=>[d(de,{avatar:""},{default:v(()=>[d(G,{name:e.extractDynamicValue(r.icon)},null,8,["name"])]),_:2},1024),d(de,null,{default:v(()=>[Z(I(e.getTitle(r)),1)]),_:2},1024)]),_:2},1032,["onClick"])):R("",!0)],64))),128)}const mr=M(ur,[["render",dr],["__file","SidePanelItems.vue"]]),fr=A({__name:"ActionSidePanel",props:{user:{},fullWidth:{type:Boolean}},setup(t,{expose:n}){n();const o=t,e=gt(o,"user"),i=gt(o,"fullWidth"),a=$(!0),r=nt(),{executeCommand:s}=ct(),m=()=>{i.value&&r.close()},f=$(window.innerWidth),l=ne(()=>{f.value=window.innerWidth}),P=()=>{i.value&&r.open()};Te(()=>P()),fe(ne(()=>window.addEventListener("resize",l))),Bt(ne(()=>window.removeEventListener("resize",l)));const h=_(()=>i.value?f.value:360),y=ut(),g=S=>{s(S)},T=Ie();T.platform.is.ios&&document.activeElement?.blur();const q={props:o,user:e,fullWidth:i,compositeOpened:a,sidebarStore:r,executeCommand:s,closeSideBarForMobile:m,windowWidth:f,setupWindowWidth:l,showSidebarForSmalDevice:P,drawerWidth:h,toolbarStore:y,executeActionHandler:g,$q:T,get getNumericCssVar(){return Go},ActionPaneWrapper:Va,ProfileSideBar:eo,SidePanelItems:mr};return Object.defineProperty(q,"__isScriptSetup",{enumerable:!1,value:!0}),q}}),pr=["src"];function vr(t,n,o,e,i,a){return u(),k(J,null,[d(Pt,{class:"composite-bar top-offset","show-if-above":"",mini:!0,modelValue:e.compositeOpened,"onUpdate:modelValue":n[1]||(n[1]=r=>e.compositeOpened=r),breakpoint:0,overlay:e.fullWidth,"no-swipe-backdrop":""},{default:v(()=>[d(Jt,{class:"fit q-pt-xs"},{default:v(()=>[d(ke,{class:"side-panel-actions"},{default:v(()=>[d(Y,{onClick:n[0]||(n[0]=r=>e.sidebarStore.toggleWithComponent(e.ProfileSideBar)),clickable:"",class:"flex items-center justify-center"},{default:v(()=>[d(Nt,{size:"24px",class:"profile-icon"},{default:v(()=>[e.user?.avatarUrl?(u(),k("img",{key:0,src:e.user.avatarUrl},null,8,pr)):(u(),C(G,{key:1,name:"account_circle",size:"sm"}))]),_:1})]),_:1}),d(e.SidePanelItems,{items:e.toolbarStore.toolbarActions,onExecuteAction:e.executeActionHandler},null,8,["items"])]),_:1}),d(ke,{class:"side-panel-actions"},{default:v(()=>[d(e.SidePanelItems,{items:e.toolbarStore.systemActions,onExecuteAction:e.executeActionHandler},null,8,["items"])]),_:1})]),_:1})]),_:1},8,["modelValue","overlay"]),me((u(),C(Pt,{class:"main-sidebar top-offset",width:e.drawerWidth-e.getNumericCssVar("sidebar-width"),overlay:e.fullWidth,breakpoint:0,"no-swipe-backdrop":"",modelValue:e.sidebarStore.opened,"onUpdate:modelValue":n[2]||(n[2]=r=>e.sidebarStore.opened=r)},{default:v(()=>[d(e.ActionPaneWrapper,null,{default:v(()=>[(u(),C(Le(e.sidebarStore.component)))]),_:1})]),_:1},8,["width","overlay","modelValue"])),[[Vt,e.sidebarStore.opened],[Yt,e.closeSideBarForMobile,void 0,{mouse:!0,left:!0}]])],64)}const _r=M(fr,[["render",vr],["__file","ActionSidePanel.vue"]]),hr=A({__name:"CompletionResultItem",props:{item:{},selected:{type:Boolean},index:{}},setup(t,{expose:n}){n();const o=ge(),{config:e}=et();let i=[0,0];const r={completionStore:o,config:e,get lastCoords(){return i},set lastCoords(s){i=s},focusCompletionCandidate:(s,m)=>{(i[0]!==s.clientX||i[1]!==s.clientY)&&(i=[s.clientX,s.clientY],o.focusCandidate(m))},get extractDynamicValue(){return $e}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),gr={class:"icon"},br={class:"text-bold flex flex-start no-wrap gap-4 color-main"},yr={key:0},Sr={class:"line-limit-1"},wr={class:"capitalize"},Cr={class:"text-italic color-secondary line-limit-1"};function xr(t,n,o,e,i,a){return u(),C(Y,{key:o.item.command,class:qe(["completion-item",{selected:o.selected}]),clickable:!0,onMousedown:n[0]||(n[0]=r=>e.completionStore.executeCandidate(o.item)),onMouseover:n[1]||(n[1]=r=>e.focusCompletionCandidate(r,o.index))},{default:v(()=>[x("div",gr,[o.item.icon?(u(),C(G,{key:0,name:e.extractDynamicValue(o.item.icon),size:"sm"},null,8,["name"])):R("",!0)]),x("div",br,[e.config.completion.showGroup?(u(),k("div",yr,"["+I(o.item.group)+"]: ",1)):R("",!0),x("div",Sr,[x("div",wr,I(e.extractDynamicValue(o.item.title)||o.item.command),1)])]),x("div",null,[x("span",Cr,I(e.extractDynamicValue(o.item.description)),1)])]),_:1},8,["class"])}const kr=M(hr,[["render",xr],["__file","CompletionResultItem.vue"]]),$r=A({__name:"CompletionInput",setup(t,{expose:n}){const o=ge(),{filter:e,placeholder:i}=ze(o),a=()=>{setTimeout(()=>{o.closeCompletion()},10)},r=()=>{s.value&&(e.value=s.value)},s=_(()=>!o.searchAutocompletions||!e.value?null:o.searchAutocompletions.find(h=>h.toLowerCase().includes(e.value.toLowerCase()))),m=$(null),f=()=>{m.value?.focus()};n({focus:f});const l={completionStore:o,filter:e,placeholder:i,closeCompletionOnBlur:a,completeSearchQuery:r,autocompletion:s,completionInput:m,focus:f};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),Pr={class:"q-px-md full-width completion-input"},zr={key:0,class:"input-overflow color-secondary"},Tr={class:"actions"};function qr(t,n,o,e,i,a){return u(),k("div",Pr,[e.autocompletion?(u(),k("div",zr,I(e.autocompletion),1)):R("",!0),d(Xo,{class:"completion-input",modelValue:e.filter,"onUpdate:modelValue":n[0]||(n[0]=r=>e.filter=r),ref:"completionInput",autofocus:!0,onBlur:e.closeCompletionOnBlur,onKeydown:Ko(re(e.completeSearchQuery,["prevent","stop"]),["tab"]),borderless:"",placeholder:t.$t(e.placeholder)},{prepend:v(()=>[d(G,{name:"keyboard_arrow_right"})]),append:v(()=>[x("div",Tr,[t.$q.platform.is.mobile&&e.autocompletion?(u(),C(G,{key:0,onClick:e.completeSearchQuery,flat:"",size:"xs",name:"fas fa-wand-magic-sparkles",class:"cursor-pointer color-secondary"})):R("",!0),t.$q.platform.is.mobile&&e.completionStore.completionMode==="input"?(u(),C(G,{key:1,onClick:e.completionStore.executeCandidate,flat:"",size:"xs",name:"send",class:"cursor-pointer color-secondary"},null,8,["onClick"])):R("",!0),d(G,{onClick:e.completionStore.closeCompletion,flat:"",name:"close",class:"cursor-pointer color-secondary"},null,8,["onClick"])])]),_:1},8,["modelValue","onKeydown","placeholder"])])}const Or=M($r,[["render",qr],["__scopeId","data-v-5ead1ce7"],["__file","CompletionInput.vue"]]),Er=A({__name:"PreventIosTouch",setup(t,{expose:n}){n();const o=Ie();let e=0,i=0;const s={$q:o,get startY(){return e},set startY(m){e=m},get startX(){return i},set startX(m){i=m},touchStart:m=>{e=m.touches[0].clientY,i=m.touches[0].clientX},touchMove:m=>{if(Math.abs(m.changedTouches[0].clientY-e)>Math.abs(m.changedTouches[0].clientX-i)&&o.platform.is.ios&&!o.platform.is.nativeMobile){m.preventDefault();return}}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function Mr(t,n,o,e,i,a){return e.$q.platform.is.mobile&&!e.$q.platform.is.nativeMobile?(u(),k("div",{key:0,onTouchmove:re(e.touchMove,["stop"]),onTouchstart:re(e.touchStart,["stop"]),class:"prevent-touch"},[ue(t.$slots,"default",{},void 0,!0)],32)):ue(t.$slots,"default",{key:1},void 0,!0)}const to=M(Er,[["render",Mr],["__scopeId","data-v-7afafbe1"],["__file","PreventIosTouch.vue"]]),Ar=70,Dr=A({__name:"CompletionResult",setup(t,{expose:n}){n();const o=$(),e=ge(),{candidates:i,selectedIndex:a,total:r,candidateSelectedByDirection:s,completionMode:m}=ze(e),f=$(null);fe(()=>setTimeout(()=>f.value?.focus()));const l=Ht(e.search,300),P=(T,q)=>{const S=Object.freeze(new Array(q).fill(null));return l(q,T),S},h=()=>{const T=wn(".completion-scroll",".completion-item.selected");if(!T)return;const q=T===-1?"end":"start";o.value?.scrollTo(a.value,q)};L(()=>s.value,h);const{config:y}=et();jt();const g={itemHeight:Ar,scrollTarget:o,completionStore:e,candidates:i,selectedIndex:a,total:r,candidateSelectedByDirection:s,completionMode:m,completionInput:f,search:l,getPagedResult:P,ensureSelectedIndexVisible:h,config:y,get QVirtualScroll(){return bn},CompletionResultItem:kr,AsyncItemContainer:yn,CompletionInp:Or,PreventIosTouch:to};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),Ir={class:"completion-results fit no-wrap"},Lr={class:"completion-footer full-width q-px-md q-py-xs text-center"},Br={class:"text-capitalize"};function Rr(t,n,o,e,i,a){return u(),k("div",Ir,[d(e.PreventIosTouch,null,{default:v(()=>[d(e.CompletionInp)]),_:1}),e.completionMode==="choice"?(u(),C(e.QVirtualScroll,{key:0,ref:"scrollTarget","items-size":e.total,"virtual-scroll-slice-size":e.config.completion.defaultCompletionLimit,"virtual-scroll-item-size":e.itemHeight,"items-fn":e.getPagedResult,"scroll-target":"scrollTarget",class:"completion-scroll full-width flex-1"},{default:v(({index:r})=>[d(e.AsyncItemContainer,{"items-list":e.candidates,index:r,height:e.itemHeight},{default:v(({item:s,index:m})=>[(u(),C(Yo,null,[d(e.CompletionResultItem,{item:s,index:m,selected:m===e.selectedIndex},null,8,["item","index","selected"])],1024))]),_:2},1032,["items-list","index"])]),_:1},8,["items-size","virtual-scroll-slice-size"])):R("",!0),e.completionMode==="choice"?(u(),C(e.PreventIosTouch,{key:1},{default:v(()=>[x("div",Lr,[x("span",Br,I(t.$t("items")),1),Z(": "+I(e.selectedIndex+1)+"/"+I(e.total),1)])]),_:1})):R("",!0)])}const jr=M(Dr,[["render",Rr],["__file","CompletionResult.vue"]]),Nr=A({__name:"CompletionPromt",setup(t,{expose:n}){n();const o=ge(),{opened:e}=ze(o),i=_n(),a={completionStore:o,opened:e,viewStore:i,CompletionResult:jr};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function Vr(t,n,o,e,i,a){return e.opened?(u(),k(J,{key:0},[e.viewStore.completionPosition==="bottom"?(u(),C(Jo,{key:0,to:"#mini-buffer"},[d(e.CompletionResult)])):(u(),k("div",{key:1,class:qe(["completion-container",{mobile:t.$q.screen.lt.sm,choice:e.completionStore.completionMode==="choice",pwa:t.$q.platform.is.ios&&!t.$q.platform.is.nativeMobile}])},[d(e.CompletionResult)],2))],64)):R("",!0)}const Hr=M(Nr,[["render",Vr],["__file","CompletionPromt.vue"]]),Qr=A({__name:"ConfirmationModal",setup(t,{expose:n}){n();const e={confirmationStore:Zo()};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),Fr={class:"capitalize"},Wr={class:"capitalize"};function Ur(t,n,o,e,i,a){return u(),C(Qt,{modelValue:e.confirmationStore.opened,"onUpdate:modelValue":n[2]||(n[2]=r=>e.confirmationStore.opened=r),persistent:""},{default:v(()=>[d(hn,{class:"no-shadow"},{default:v(()=>[d(gn,{class:"column items-start gap-8"},{default:v(()=>[x("h5",Fr,I(t.$t(e.confirmationStore.title)),1),x("div",Wr,I(t.$t(e.confirmationStore.description)),1)]),_:1}),d(en,{align:"right"},{default:v(()=>[me(d(he,{onClick:n[0]||(n[0]=r=>e.confirmationStore.resolveConfirmation(!1)),flat:"",label:t.$t("cancel"),color:"red"},null,8,["label"]),[[bt]]),me(d(he,{onClick:n[1]||(n[1]=r=>e.confirmationStore.resolveConfirmation(!0)),flat:"",label:t.$t("confirm"),color:"primary"},null,8,["label"]),[[bt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Gr=M(Qr,[["render",Ur],["__file","ConfirmationModal.vue"]]),Kr=A({__name:"EditorActionsToolbar",setup(t,{expose:n}){n();const o=Tt(),e=at(),i=e.getCommandsFromGroup("editor"),a=m=>{m.handler(o.editorView)},r=$(!1);fe(()=>setTimeout(()=>r.value=!0,100));const s={noteEditorStore:o,commandsStore:e,editorCommands:i,handleEditorAction:a,inited:r,get extractDynamicValue(){return $e},PreventIosTouch:to};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),Xr={key:0,class:"editor-actions"},Yr=["onMousedown"];function Jr(t,n,o,e,i,a){return u(),k("div",{onTouchstart:n[0]||(n[0]=re(()=>{},["stop"])),onMousedown:n[1]||(n[1]=re(()=>{},["stop"]))},[d(e.PreventIosTouch,null,{default:v(()=>[e.inited?(u(),k("div",Xr,[(u(!0),k(J,null,be(e.editorCommands,r=>(u(),k("div",{onMousedown:re(s=>e.handleEditorAction(r),["prevent","stop"]),key:r.command,class:"editor-action"},[d(G,{name:e.extractDynamicValue(r.icon),size:"sm"},null,8,["name"])],40,Yr))),128))])):R("",!0)]),_:1})],32)}const Zr=M(Kr,[["render",Jr],["__file","EditorActionsToolbar.vue"]]),ei=A({__name:"FileUploader",props:{accept:{default:()=>["org",...Cn]},multiple:{type:Boolean},directory:{type:Boolean}},emits:["uploaded","dropped"],setup(t,{expose:n,emit:o}){n();const e=t,i=o,a=g=>Array.from(g).reduce(async(T,q)=>{const S=await T,b=q.webkitGetAsEntry();if(!b)return S;if(b.isFile)return S.push(b),S;const j=await Wt(b,e.accept);return S.push(...j),S},Promise.resolve([])),{reset:r,dragLeave:s,dragOver:m,dragInProgress:f}=tn("files"),l=async g=>{i("dropped"),r(),g.preventDefault();const T=await a(g.dataTransfer?.items);i("uploaded",T)},P=g=>g.preventDefault(),h=()=>{window.addEventListener("dragover",P,!1),window.addEventListener("drop",P,!1)};Te(()=>ne(h)()),ye(ne(()=>{window.removeEventListener("dragover",P),window.removeEventListener("drop",P)}));const y={props:e,emits:i,extractFiles:a,reset:r,dragLeave:s,dragOver:m,dragInProgress:f,onDrop:l,preventDefault:P,preventDragAndDrop:h};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),ti={key:0,class:"upload-overlay fit q-p-xl"},oi={class:"uploader-info fit flex justify-center items-center text-h1"};function ni(t,n,o,e,i,a){return u(),k("div",{onDrop:re(e.onDrop,["prevent"]),onDragenter:n[0]||(n[0]=re((...r)=>e.dragOver&&e.dragOver(...r),["prevent"])),onDragleave:n[1]||(n[1]=re((...r)=>e.dragLeave&&e.dragLeave(...r),["prevent"])),class:qe(["file-uploader",{"drag-target":e.dragInProgress}])},[e.dragInProgress?(u(),k("div",ti,[x("div",oi,I(t.$t("Drag&drop your notes here!")),1)])):R("",!0),ue(t.$slots,"default",{},void 0,!0)],34)}const ai=M(ei,[["render",ni],["__scopeId","data-v-9638ab55"],["__file","FileUploader.vue"]]),ri=A({__name:"ModalContainer",setup(t,{expose:n}){n();const o=ot(),i={modalStore:o,closeCurrentModal:()=>o.close()};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),ii={class:"modal-container"},si={class:"modal-title full-width text-capitalize color-secondary text-h5"},li={class:"modal-content full-width"};function ci(t,n,o,e,i,a){return u(),k("div",ii,[d(he,{class:"close-btn color-secondary",onClick:e.closeCurrentModal,icon:"close",flat:"",rounded:"",size:"sm"}),x("div",si,[ue(t.$slots,"title",{},void 0,!0)]),x("div",li,[ue(t.$slots,"content",{},void 0,!0)])])}const ui=M(ri,[["render",ci],["__scopeId","data-v-7fdee433"],["__file","ModalContainer.vue"]]),di=A({__name:"ModalWindow",setup(t,{expose:n}){n();const e={modalStore:ot(),ModalContainer:ui};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}});function mi(t,n,o,e,i,a){return u(),C(Qt,{modelValue:e.modalStore.opened,"onUpdate:modelValue":n[0]||(n[0]=r=>e.modalStore.opened=r),maximized:t.$q.screen.lt.sm},{default:v(()=>[d(e.ModalContainer,null,on({content:v(()=>[(u(),C(Le(e.modalStore.component)))]),_:2},[e.modalStore.title?{name:"title",fn:v(()=>[Z(I(t.$t(e.modalStore.title)),1)]),key:"0"}:void 0]),1024)]),_:1},8,["modelValue","maximized"])}const fi=M(di,[["render",mi],["__file","ModalWindow.vue"]]),pi=pe({name:"QBar",props:{...st,dense:Boolean},setup(t,{slots:n}){const{proxy:{$q:o}}=ve(),e=lt(t,o),i=_(()=>`q-bar row no-wrap items-center q-bar--${t.dense===!0?"dense":"standard"}  q-bar--${e.value===!0?"dark":"light"}`);return()=>D("div",{class:i.value,role:"toolbar"},it(n.default))}}),vi=pe({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:o}){const{proxy:{$q:e}}=ve(),i=rt(Be,ae);if(i===ae)return console.error("QHeader needs to be child of QLayout"),ae;const a=$(parseInt(t.heightHint,10)),r=$(!0),s=_(()=>t.reveal===!0||i.view.value.indexOf("H")!==-1||e.platform.is.ios&&i.isContainer.value===!0),m=_(()=>{if(t.modelValue!==!0)return 0;if(s.value===!0)return r.value===!0?a.value:0;const b=a.value-i.scroll.value.position;return b>0?b:0}),f=_(()=>t.modelValue!==!0||s.value===!0&&r.value!==!0),l=_(()=>t.modelValue===!0&&f.value===!0&&t.reveal===!0),P=_(()=>"q-header q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(f.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),h=_(()=>{const b=i.rows.value.top,j={};return b[0]==="l"&&i.left.space===!0&&(j[e.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),b[2]==="r"&&i.right.space===!0&&(j[e.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),j});function y(b,j){i.update("header",b,j)}function g(b,j){b.value!==j&&(b.value=j)}function T({height:b}){g(a,b),y("size",b)}function q(b){l.value===!0&&g(r,!0),o("focusin",b)}L(()=>t.modelValue,b=>{y("space",b),g(r,!0),i.animate()}),L(m,b=>{y("offset",b)}),L(()=>t.reveal,b=>{b===!1&&g(r,t.modelValue)}),L(r,b=>{i.animate(),o("reveal",b)}),L(i.scroll,b=>{t.reveal===!0&&g(r,b.direction==="up"||b.position<=t.revealOffset||b.position-b.inflectionPoint<100)});const S={};return i.instances.header=S,t.modelValue===!0&&y("size",a.value),y("space",t.modelValue),y("offset",m.value),ye(()=>{i.instances.header===S&&(i.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const b=nn(n.default,[]);return t.elevated===!0&&b.push(D("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),b.push(D(Pe,{debounce:0,onResize:T})),D("header",{class:P.value,style:h.value,onFocusin:q},b)}}}),_i=A({__name:"TheHeader",setup(t,{expose:n}){n();const{close:o,minimize:e,toggleMaximize:i}=window.electron??{},a={close:o,minimize:e,toggleMaximize:i};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function hi(t,n,o,e,i,a){return u(),C(vi,null,{default:v(()=>[t.$q.platform.is.electron?(u(),C(pi,{key:0,class:"q-electron-drag bg-alt"},{default:v(()=>[d(he,{onClick:e.close,dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"red"},null,8,["onClick"]),d(he,{onClick:e.minimize,dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"yellow"},null,8,["onClick"]),d(he,{onClick:e.toggleMaximize,dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"green"},null,8,["onClick"])]),_:1})):R("",!0)]),_:1})}const gi=M(_i,[["render",hi],["__file","TheHeader.vue"]]),bi=A({__name:"ToolBar",setup(t,{expose:n}){n();const o=ut(),{executeCommand:e}=ct(),i={toolbarStore:o,executeCommand:e,get extractDynamicValue(){return $e}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),yi={class:"footer-wrapper fit flex rows justify-between items-center"},Si=["onClick"];function wi(t,n,o,e,i,a){return me((u(),C(Ft,{class:"toolbar",reveal:""},{default:v(()=>[x("div",yi,[(u(!0),k(J,null,be(e.toolbarStore.actions,r=>(u(),k("div",{key:r.command,class:"flex toolbar-action justify-center items-center cursor-pointer",onClick:s=>e.executeCommand(r)},[d(G,{class:"color-main",name:e.extractDynamicValue(r.icon),size:"md"},null,8,["name"])],8,Si))),128))])]),_:1},512)),[[Vt,e.toolbarStore.showToolbar]])}const Ci=M(bi,[["render",wi],["__scopeId","data-v-48b84d1a"],["__file","ToolBar.vue"]]),xi={},ki=x("div",{id:"mini-buffer"},null,-1);function $i(t,n){return u(),C(Ft,{class:"mini-buffer"},{default:v(()=>[ki]),_:1})}const Pi=M(xi,[["render",$i],["__file","MiniBuffer.vue"]]),zi=A({__name:"MainLayout",setup(t,{expose:n}){n();const o=nt(),e=Je(),i=_(()=>e.user);e?.verifyUser();const{registerKeybindings:a}=ct();Ta().register(),un(),pn(),fn(),an(),a([{handler:()=>o.toggleWithFallback(eo),command:"toggleActionSidePanel",keySequence:"o p",description:"Toggle left sidebar"}]);const r=rn(),s=ut(),m=Ht(ne(()=>{window.scrollTo(0,0)})),{viewportHeight:f,keyboardOpened:l}=mn(T=>{s.showToolbar=!T.keyboardOpened.value,T.keyboardOpened.value?document.body.classList.add("keyboard-opened"):document.body.classList.remove("keyboard-opened"),document.body.style.height=T.viewportHeight.value+"px",T.keyboardOpened.value&&m()}),P=sn();Oa(T=>{T&&P.sync()});const{bootstrapped:h}=Ea();fe(()=>{document.body.style.height=f.value+"px"});const y=Ze(),g={sidebarStore:o,authStore:e,user:i,registerKeybindings:a,notesImportStore:r,toolbarStore:s,alignViaVirtualkeyboard:m,viewportHeight:f,keyboardOpened:l,syncStore:P,bootstrapped:h,route:y,LoaderSpinner:dt,ActionSidePanel:_r,CompletionPrompt:Hr,ConfirmationModal:Gr,EditorActionsToolbar:Zr,FileUploader:ai,ModalWindow:fi,TheHeader:gi,ToolBar:Ci,MiniBuffer:Pi,PageLoading:Da,get RouteNames(){return U}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}});function Ti(t,n,o,e,i,a){const r=Et("router-view");return u(),C(Ba,{view:"lHh Lpr lFf",style:ln({"--viewport-height":e.viewportHeight+"px",minHeight:0})},{default:v(()=>[e.bootstrapped?(u(),C(cn,{key:0},{default:v(()=>[d(e.FileUploader,{class:"main-content",onUploaded:e.notesImportStore.uploadFiles},{default:v(()=>[d(e.TheHeader),t.$q.screen.gt.xs||e.sidebarStore.opened?(u(),C(e.ActionSidePanel,{key:0,"full-width":t.$q.screen.lt.sm,user:e.user},null,8,["full-width","user"])):R("",!0),me((u(),C(Ia,{class:qe(["height-max-dynamic",{"with-composite-bar":t.$q.screen.gt.xs}])},{default:v(()=>[d(e.ModalWindow),d(e.ConfirmationModal),d(r),t.$q.screen.lt.sm&&!e.toolbarStore.showToolbar&&(e.keyboardOpened||t.$q.platform.is.desktop)&&e.route.name===e.RouteNames.RawEditor?(u(),C(e.EditorActionsToolbar,{key:0})):R("",!0)]),_:1},8,["class"])),[[Yt,e.sidebarStore.open,void 0,{mouse:!0,right:!0}]]),d(e.MiniBuffer),d(e.CompletionPrompt),t.$q.screen.lt.sm?(u(),C(e.ToolBar,{key:1})):R("",!0)]),_:1},8,["onUploaded"])]),fallback:v(()=>[d(e.LoaderSpinner)]),_:1})):(u(),C(e.PageLoading,{key:1}))]),_:1},8,["style"])}const Hi=M(zi,[["render",Ti],["__scopeId","data-v-1254f02e"],["__file","MainLayout.vue"]]);export{Hi as default};
