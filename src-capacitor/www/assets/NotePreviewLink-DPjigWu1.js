import{h as v,I as m,r as d,O as N,d3 as h,z as w,o,A as s,F as k,a2 as p,b1 as y,B as _,e as u,G as g,D as S}from"./index-CHdFPrnc.js";import{P}from"./PublicNotePreview-Cn8m9Wnl.js";import{L as b}from"./LoaderSpinner-D7syTJTZ.js";import"./view-B98kT0Eb.js";import"./AuthorInfo-Cs9peq4h.js";const B=v({__name:"NotePreviewLink",props:{id:{}},setup(t,{expose:a}){a();const n=t,e=m(),r=d(null),i=d(!0),f=async()=>{n.id&&([r.value]=await e.getNoteById(n.id),i.value=!1)},{orgNoteApi:c}=N(),l={props:n,currentNoteStore:e,note:r,loading:i,loadNote:f,orgNoteApi:c,openNote:()=>{c.navigation.editNote(r.value.id)},DynamicTooltip:h,PublicNotePreview:P,LoaderSpinner:b};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),L={class:"preview-link"},x={class:"note-preview-wrapper"},C={class:"preview-link-not-found flex items-center justify-center fit"},D={key:0};function A(t,a,n,e,r,i){return o(),s("span",L,[k(e.DynamicTooltip,{position:"bottom",onShow:e.loadNote},{content:p(()=>[y(t.$slots,"default",{},void 0,!0)]),tooltip:p(()=>[_("div",x,[_("div",C,[e.loading?(o(),u(e.LoaderSpinner,{key:0,class:"spinner"})):(o(),s(g,{key:1},[e.note?(o(),u(e.PublicNotePreview,{key:1,class:"q-pa-md",onClick:e.openNote,"note-preview":e.note,"show-author":!1,height:200,"hide-footer":!0,"full-height":!0},null,8,["note-preview"])):(o(),s("h1",D,S(t.$t("Note not found")),1))],64))])])]),_:3})])}const q=w(B,[["render",A],["__scopeId","data-v-3109e229"],["__file","NotePreviewLink.vue"]]);export{q as default};
