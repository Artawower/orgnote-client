import{z as y,o as n,A as u,b1 as P,h as b,R as w,bp as C,a3 as I,e as p,ab as h,E as k,F as r,a2 as m,C as v,D as d,G as B,cw as z,cx as D,r as g,cy as S,bx as T,ad as R,p as A,cz as j,B as s,a4 as L,a5 as F}from"./index-DftpuOf4.js";import{Q as M}from"./QPage-BxJcDsX-.js";import{L as O}from"./LoaderSpinner-B3n9TP4f.js";const U={},V={class:"no-data"};function Q(t,c){return n(),u("div",V,[P(t.$slots,"default",{},void 0,!0)])}const x=y(U,[["render",Q],["__scopeId","data-v-b270daf7"],["__file","NoData.vue"]]),E=b({__name:"NoteRelativePath",props:{notes:{},emptyText:{},beforeActionIcon:{}},emits:["beforeActionIcon"],setup(t,{expose:c,emit:o}){c();const a={emits:o,get RouteNames(){return w},NoData:x};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function G(t,c,o,e,a,_){var f;const l=C("router-link");return(f=o.notes)!=null&&f.length?(n(!0),u(B,{key:0},I(o.notes,i=>(n(),u("div",{key:i.id,class:"note-relative-path"},[o.beforeActionIcon?(n(),p(h,{key:0,name:o.beforeActionIcon,onClick:N=>e.emits("beforeActionIcon",i),role:"button",class:"action-icon pa-r-sm color-red active",size:"xs"},null,8,["name","onClick"])):k("",!0),r(l,{class:"link note-path",to:{name:e.RouteNames.NoteDetail,params:{id:i.id}}},{default:m(()=>[v(" ~/"+d(i.filePath.join("/")),1)]),_:2},1032,["to"])]))),128)):o.emptyText?(n(),p(e.NoData,{key:1},{default:m(()=>[v(d(t.$t(o.emptyText)),1)]),_:1})):k("",!0)}const W=y(E,[["render",G],["__scopeId","data-v-aed93ab9"],["__file","NoteRelativePath.vue"]]),$=b({__name:"PrettyCard",setup(t,{expose:c}){c();const o=z(),e=o.default!==void 0,a={slots:o,isDefaultSlotProvided:e};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),q={class:"card"};function H(t,c,o,e,a,_){return n(),u("div",q,[e.isDefaultSlotProvided?P(t.$slots,"default",{key:0},void 0,!0):k("",!0)])}const J=y($,[["render",H],["__scopeId","data-v-afe31829"],["__file","PrettyCard.vue"]]),K=D("notes-statistic",()=>{const t=g([]),c=g([]),o=g([]),e=5,a=async()=>{await _(),await l(),await f()},_=async()=>{t.value=await S.notes.getNotePreviews({limit:e,offset:0})},l=async()=>{c.value=(await S.notes.getTagsStatistic()).slice(0,e).map(i=>i.tag)},f=async()=>{o.value=await S.notes.getNotePreviews({limit:e,offset:0,bookmarked:!0})};return{recentNotes:t,mostUsedTags:c,bookmarkedNotes:o,loadStatistic:a,loadBookmarks:f,loadPopularNotes:_,loadMostUsedTags:l}}),X=b({__name:"DashboardPage",setup(t,{expose:c}){c();const o=T(),e=R();o.loadTotal();const a=g(),_=async()=>{a.value=!0,await e.createFile()},l=K();A(async()=>{await l.loadStatistic()});const i={notesStore:o,fileManagerStore:e,creating:a,createNote:_,notesStatisticStore:l,toggleBookmark:async N=>{await o.toggleBookmark(N),await l.loadBookmarks()},LoaderSpinner:O,TagList:j,NoteRelativePath:W,NoData:x,PrettyCard:J};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),Y=t=>(L("data-v-5d680968"),t=t(),F(),t),Z={key:0,class:"fit column-center"},ee={class:"color-main capitalize"},te={key:1,class:"fit flex column items-start justify-center gap-16"},oe=Y(()=>s("h5",{class:"color-main text-italic"},"Welcome to OrgNote",-1)),ae={class:"title color-magenta flex gap-8"},se={class:"capitalize"},ne={class:"body text-h6"},ce={class:"title color-magenta capitalize flex gap-8"},re={class:"capitalize"},ie={class:"body text-h6 color-main"},le={class:"title color-magenta capitalize flex gap-8"},de={class:"capitalize"},_e={class:"body text-h6 color-main"},me={class:"capitalize"};function ue(t,c,o,e,a,_){return n(),p(M,{class:"center-container"},{default:m(()=>[e.creating||!e.notesStore.total?(n(),u("div",Z,[e.creating?(n(),p(e.LoaderSpinner,{key:0})):e.notesStore.total?k("",!0):(n(),u("div",{key:1,onClick:e.createNote,class:"full-width column-center gap-8 pointer",role:"button"},[s("h3",ee,d(t.$t("create your first note")),1),r(h,{class:"color-main",name:"add",size:"lg"})]))])):(n(),u("div",te,[oe,r(e.PrettyCard,null,{default:m(()=>[s("h3",ae,[r(h,{name:"schedule"}),s("div",se,d(t.$t("recent notes")),1)]),s("div",ne,[r(e.NoteRelativePath,{notes:e.notesStatisticStore.recentNotes},null,8,["notes"])])]),_:1}),r(e.PrettyCard,null,{default:m(()=>[s("h3",ce,[r(h,{name:"bookmark"}),s("div",re,d(t.$t("bookmarks")),1)]),s("div",ie,[r(e.NoteRelativePath,{notes:e.notesStatisticStore.bookmarkedNotes,"empty-text":"no bookmarks yet","before-action-icon":"o_cancel",onBeforeActionIcon:e.toggleBookmark},null,8,["notes"])])]),_:1}),r(e.PrettyCard,null,{default:m(()=>[s("h3",le,[r(h,{name:"tag"}),s("div",de,d(t.$t("tags")),1)]),s("div",_e,[e.notesStatisticStore.mostUsedTags.length?(n(),p(e.TagList,{key:0,tags:e.notesStatisticStore.mostUsedTags,"with-hash":!0},null,8,["tags"])):(n(),p(e.NoData,{key:1},{default:m(()=>[v(d(t.$t("no tags yet")),1)]),_:1}))])]),_:1}),s("div",{onClick:e.createNote,class:"full-width text-center flex row items-center justify-center gap-8 pointer color-main active pa-y-lg",role:"button"},[s("h6",me,[r(h,{name:"add",size:"sm"}),v(" "+d(t.$t("create note")),1)])])]))]),_:1})}const ge=y(X,[["render",ue],["__scopeId","data-v-5d680968"],["__file","DashboardPage.vue"]]);export{ge as default};
