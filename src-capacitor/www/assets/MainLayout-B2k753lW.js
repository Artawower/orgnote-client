import{q as co,l as Je,I as uo,k as Ze,J as B,R as X,s as et,K as Tt,L as ge,M as tt,N as Le,O as ot,S as mo,P as fo,r as P,T as vo,U as po,d as p,h as L,m as Ie,V as qt,X as vt,Y as _o,Z as Et,z as M,o as m,A as z,B as k,D as I,e as $,E as R,$ as ho,a0 as $e,a1 as go,F as f,a2 as h,G as ae,a3 as ze,C as ce,a4 as Ot,a5 as Mt,a6 as bo,p as be,a7 as Te,f as nt,a8 as yo,a9 as ee,aa as _e,ab as K,ac as at,ad as So,v as te,ae as wo,af as rt,ag as Co,ah as xo,ai as de,aj as ye,ak as me,i as it,al as oe,am as Be,an as At,ao as Po,j as A,ap as lt,aq as fe,ar as ko,w as D,as as $o,at as Dt,au as zo,av as To,aw as qo,ax as Eo,ay as Qe,az as Me,aA as Lt,aB as It,aC as Oo,aD as Ce,aE as Mo,aF as Ae,aG as We,aH as pt,aI as Ue,aJ as Ao,aK as Ge,aL as st,aM as ct,aN as se,aO as Do,aP as Ke,aQ as Lo,aR as Io,aS as _t,aT as ue,aU as Bo,aV as Ro,aW as Vo,aX as No,aY as jo,aZ as ht,a_ as gt,a$ as Ho,b0 as Bt,b1 as he,b2 as De,b3 as Rt,b4 as Fo,b5 as Pe,b6 as bt,b7 as ut,b8 as dt,b9 as Qo,ba as Vt,bb as Wo,bc as ne,Q as Uo,bd as Nt,be as Go,bf as Ko,bg as Xo,bh as Yo,H as pe,bi as yt,bj as jt,bk as Jo,bl as Zo,bm as en,bn as tn,bo as on,bp as nn,bq as an,br as rn}from"./index-DftpuOf4.js";import{Q as ke,a as Ht}from"./QFooter-C3x8oY_i.js";import{g as St,s as wt,T as xe,r as ln}from"./TouchPan-BBeq4zKF.js";import{L as mt}from"./LoaderSpinner-B3n9TP4f.js";import{R as sn,o as cn}from"./mobile-viewport-changed-Bh9MDrxt.js";import{u as un}from"./app-meta-0t4K0Twh.js";import{r as dn}from"./note-detail-commands-BF8_WzK9.js";import{L as mn}from"./LoginButtons-BN3wBK2m.js";import{u as fn,Q as vn,a as pn}from"./view-bF3BCiVJ.js";import{Q as _n,A as hn}from"./AsyncItemContainer-FgOSI8Qz.js";import{Q as gn}from"./QPage-BxJcDsX-.js";import"./use-hydration-BpA7811C.js";function bn(t,a){const o=document.querySelector(t),e=document.querySelector(a);if(!o||!e)return 0;const i=o.getBoundingClientRect().top,n=o.getBoundingClientRect().bottom,r=e.getBoundingClientRect().top;return e.getBoundingClientRect().bottom>n?1:i>=r?-1:0}function Ye(t){const a=t.replace(/([A-Z])/g," $1");return(a.charAt(0).toUpperCase()+a.slice(1)).trim()}function Ft(t,a=[],o=[".git","node_modules","dist","build"]){const e=t.createReader();return new Promise((i,n)=>{const r=[];function l(){e.readEntries(u=>{if(!u.length){i(Promise.all(r).then(d=>d.flat(2)));return}r.push(Promise.all(u.map(d=>{const s=d.name.split(".").pop();return d.isFile&&a.includes(s)?d:d.isFile||o.includes(d.name)?[]:Ft(d,a,o)}))),l()},u=>n(u))}l()})}const yn=["ase","art","bmp","blp","cd5","cit","cpt","cr2","cut","dds","dib","djvu","egt","exif","gif","gpl","grf","icns","ico","iff","jng","jpeg","jpg","jfif","jp2","jps","lbm","max","miff","mng","msp","nef","nitf","ota","pbm","pc1","pc2","pc3","pcf","pcx","pdn","pgm","PI1","PI2","PI3","pict","pct","pnm","pns","ppm","psb","psd","pdd","psp","px","pxm","pxr","qfx","raw","rle","sct","sgi","rgb","int","bw","tga","tiff","tif","vtf","xbm","xcf","xpm","3dv","amf","ai","awg","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","gbr","odg","svg","stl","vrml","x3d","sxd","v2d","vnd","wmf","emf","art","xar","png","webp","jxr","hdp","wdp","cur","ecw","iff","lbm","liff","nrrd","pam","pcx","pgf","sgi","rgb","rgba","bw","int","inta","sid","ras","sun","tga","heic","heif"];function Sn(t,...a){return!(t!=null&&t.length)||!(a!=null&&a.length)?!0:a.some(o=>o.toLowerCase().includes(t.toLowerCase().trim()))}function wn(){const t=co(),a=Je(),o=t.getRoutes().filter(n=>{var r;return n.name&&!n.path.includes(":")&&((r=n==null?void 0:n.meta)==null?void 0:r.programmaticalNavigation)!==!1}).map(n=>{var r,l;return{command:Ye(n.name.toString()).toLocaleLowerCase(),title:Ye(n.name.toString()),description:`Open ${n.name.toString()}`,group:"navigation",icon:(l=(r=n.meta)==null?void 0:r.icon)!=null?l:"assistant_navigation",handler:()=>t.push({name:n.name})}}),e=uo(),i=Ze();return o.push({command:B.OPEN_GRAPH,title:"Graph",description:"Open Graph",group:"navigation",icon:"hub",handler:()=>t.push({name:X.UserGraph,params:{userId:a.user.id}})},{command:B.OPEN_MY_NOTES,title:"My Notes",description:"Open My Notes",group:"navigation",icon:"home",handler:()=>t.push({name:X.UserNotes,params:{userId:a.user.id}})},{command:B.OPEN_NOTE_EDITOR,group:"editor",icon:"edit",description:"edit current note",available:()=>{var r;return i.name==X.NoteDetail&&((r=e.currentNote)==null?void 0:r.isMy)},handler:()=>{var n;return t.push({name:X.RawEditor,params:{id:(n=e.currentNote)==null?void 0:n.id}})}},{command:B.OPEN_NOTE_VIEWER,description:"view current note",icon:"visibility",available:()=>[X.EditNote,X.RawEditor].includes(i.name),handler:()=>{var n;t.push({name:X.NoteDetail,params:{id:(n=e.currentNote)==null?void 0:n.id}})}}),o}function Cn(){const t=et(),a=Qt(t.config),o=Tt(),e=ge(),i=tt(),n=Le(),{orgNoteApi:r}=ot(),l=Ze();return[...a,{command:B.SELECT_THEME,group:"settings",icon:"palette",description:"use one of the downloaded themes",handler:()=>{e.initNewCompletion({placeholder:"search themes",itemsGetter:u=>({result:i.themes.filter(d=>d.uploaded&&Sn(u,d.manifest.name,d.manifest.description,d.manifest.category)).map(d=>({icon:"palette",title:d.manifest.name,description:d.manifest.description,commandHandler:()=>{r.ui.resetTheme(),i.enableExtension(d.manifest.name)},data:d,command:"activate theme"})),total:i.themes.length})}),e.openCompletion()}},{command:B.RESET_THEME,group:"settings",icon:"palette",handler:()=>r.ui.resetTheme()},{command:B.TOGGLE_DARK_MODE,group:"settings",icon:"dark_mode",title:()=>t.darkMode?"switch to light theme":"switch to dark theme",handler:()=>{t.setDarkMode(!t.darkMode)}},{command:B.TOGGLE_DEBUG_MODE,group:"editor",icon:"bug_report",handler:()=>o.toggleDebug(),available:()=>[X.EditNote,X.RawEditor].includes(l.name)&&t.config.common.developerMode},{command:B.SETTINGS,icon:"settings",group:"global",description:"open settings",handler:()=>n.open(mo,{title:"settings"})}]}function Qt(t,a=""){return Object.keys(t).reduce((o,e)=>{const i=t[e];return typeof i=="boolean"?o.push({command:`${a}: ${Ye(e)}`,description:`Toggle ${e}`,group:"settings",icon:"settings",handler:()=>{t[e]=!t[e]}}):i&&typeof i=="object"&&o.push(...Qt(i,e)),o},[])}typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;const xn=()=>{};function Pn(t,a,o){let e;fo(o)?e={evaluating:o}:e={};const{lazy:i=!1,evaluating:n=void 0,shallow:r=!0,onError:l=xn}=e,u=P(!i),d=r?vo(a):P(a);let s=0;return po(async C=>{if(!u.value)return;s++;const _=s;let y=!1;n&&Promise.resolve().then(()=>{n.value=!0});try{const g=await t(T=>{C(()=>{n&&(n.value=!1),y||T()})});_===s&&(d.value=g)}catch(g){l(g)}finally{n&&_===s&&(n.value=!1),y=!0}}),i?p(()=>(u.value=!0,d.value)):d}const kn=L({__name:"DebugPage",setup(t,{expose:a}){a();const o=Ie(),e=[...Object.keys(o.platform.is).map(s=>`  ${s}: ${o.platform.is[s]}`),` standalone: ${!!window.navigator.standalone}`].join(`
`),{orgNoteApi:i}=ot(),n=i.configuration().encryption,r=()=>!n.type||n.type===vt.Disabled?"":n.type===vt.GpgPassword?`
  Password provided: ${!!n.password}`:`
  Public key provided: ${!!n.publicKey}
  Private key provided: ${!!n.privateKey}
  Passphrase provided: ${!!n.privateKeyPassphrase}`,l=async()=>{if(!o.platform.is.nativeMobile)return"";const s=await _o.getInfo();return`
Device info:
  Model: ${s.model}
  Manufacturer: ${s.manufacturer}
  ${o.platform.is.android?"SDK version: "+s.androidSDKVersion:""}
  Version: ${s.osVersion}`},u=Pn(async()=>`OrgNote: ${Et}
Language: ${navigator.language}

Screen:
  Screen resolution: ${screen.width}x${screen.height}
  Screen color depth: ${screen.colorDepth}
  Device pixel ratio: ${window.devicePixelRatio}

Encryption:
  Type: ${n.type}${r()}

Env:
  API URL: https://org-note.com/api/v1
  AUTH URL: https://org-note.com
  MODE: production

Quasar info:
${e}
${await l()}`),d={$q:o,prettyQuasarPlatform:e,orgNoteApi:i,encryption:n,getEncryptionData:r,getDeviceSpecificInfo:l,systemInfo:u,CodeBlock:qt};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),$n={class:"debug-page"},zn={class:"capitalize q-pb-md q-px-sm"},Tn={class:"system-info"};function qn(t,a,o,e,i,n){return m(),z("div",$n,[k("div",zn,I(t.$t("this information is available only on your device. It will not be sent to the server. You are free to use it for a GitHub issue.")),1),k("div",Tn,[e.systemInfo?(m(),$(e.CodeBlock,{key:0,code:e.systemInfo},null,8,["code"])):R("",!0)])])}const En=M(kn,[["render",qn],["__scopeId","data-v-655a8343"],["__file","DebugPage.vue"]]),On=L({__name:"LoggerPage",setup(t,{expose:a}){a();const o=ho(),{prettyLogs:e}=$e(o),i={loggerStore:o,prettyLogs:e,ActionBtn:go,CodeBlock:qt};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),Mn={class:"logger-page"},An={class:"capitalize q-pb-md q-px-sm"},Dn={class:"system-info"};function Ln(t,a,o,e,i,n){return m(),z("div",Mn,[k("div",An,I(t.$t("this information is available only on your device. It will not be sent to the server. You are free to use it for a GitHub issue.")),1),k("div",Dn,[f(e.CodeBlock,{code:e.prettyLogs},{actions:h(()=>[f(e.ActionBtn,{onClick:e.loggerStore.clearLogs,icon:"o_delete_forever","active-icon":"done"},null,8,["onClick"])]),_:1},8,["code"])])])}const In=M(On,[["render",Ln],["__scopeId","data-v-bd40d508"],["__file","LoggerPage.vue"]]),Bn=L({__name:"AboutOrgRoamPage",setup(t,{expose:a}){a();const{loading:o,noteContent:e}=ba("/about.org"),i={loading:o,noteContent:e,LoaderSpinner:mt,RawEditor:sn};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),Rn={key:0,class:"full-height flex items-center justify-center"};function Vn(t,a,o,e,i,n){return e.loading?(m(),z("div",Rn,[f(e.LoaderSpinner)])):e.noteContent?(m(),$(e.RawEditor,{key:1,modelValue:e.noteContent,"onUpdate:modelValue":a[0]||(a[0]=r=>e.noteContent=r),readonly:!0},null,8,["modelValue"])):R("",!0)}const Nn=M(Bn,[["render",Vn],["__file","AboutOrgRoamPage.vue"]]),jn={name:"AcknowledgementsPage"},Hn=L({...jn,setup(t,{expose:a}){a();const e={links:[{name:"emacs",url:"https://www.gnu.org/software/emacs/",icon:"https://www.gnu.org/software/emacs/images/emacs.png"},{name:"Org-roam",url:"https://www.orgroam.com/",icon:"https://www.orgroam.com/img/logo.png"},{name:"CodeMirror",url:"https://codemirror.net/",icon:"https://codemirror.net/style/logo.svg"},{name:"Quasar",url:"https://quasar.dev/",icon:"https://cdn.quasar.dev/logo-v2/svg/logo-dark.svg"},{name:"Cordova",url:"https://cordova.apache.org/",icon:"https://cordova.apache.org/static/img/cordova_bot.png"}]};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),Fn={class:"q-pa-md row gap-32"},Qn=["href"],Wn=["src"];function Un(t,a,o,e,i,n){return m(),z("div",Fn,[(m(),z(ae,null,ze(e.links,r=>k("a",{key:r.name,class:"project-link flex column items-center col-1 gap-8",href:r.url,target:"_blank"},[k("img",{class:"icon",src:r.icon,alt:"codemirror logo"},null,8,Wn),ce(" "+I(r.name),1)],8,Qn)),64))])}const Gn=M(Hn,[["render",Un],["__scopeId","data-v-d311d1fd"],["__file","AcknowledgementsPage.vue"]]),Kn={},Wt=t=>(Ot("data-v-51a2db48"),t=t(),Mt(),t),Xn={class:"sponsor"},Yn=Wt(()=>k("a",{href:"https://www.paypal.me/darkawower",title:"Paypal",target:"_blank",style:{"line-height":"0"}},[k("img",{class:"block",src:"https://img.shields.io/badge/paypal-donate-blue.svg",alt:"Buy Me A Coffee donate button"})],-1)),Jn=Wt(()=>k("a",{href:"https://patreon.com/artawower",_target:"blank"},[k("img",{class:"block",src:"https://img.shields.io/badge/patreon-donate-orange.svg",alt:"Patreon donate button"})],-1)),Zn=[Yn,Jn];function ea(t,a){return m(),z("div",Xn,Zn)}const ta=M(Kn,[["render",ea],["__scopeId","data-v-51a2db48"],["__file","DonationLinks.vue"]]),oa={name:"SponsorsPage"},na=L({...oa,setup(t,{expose:a}){a();const o=bo();be(()=>{o.loadSponsors()});const e={sponsorsStore:o,DonationLinks:ta};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),aa={class:"q-pa-md"},ra={class:"q-mb-md color-magenta"},ia={class:"few-words"},la={class:"sponsors"},sa={class:"capitalize color-secondary text-center text-italic"};function ca(t,a,o,e,i,n){return m(),z("div",aa,[k("h3",ra,I(t.$t("sponsors")),1),k("div",ia,I(t.$t("sponsors.appretiate")),1),k("div",la,[(m(!0),z(ae,null,ze(e.sponsorsStore.sponsors,r=>{var l;return m(),$(nt(r.link?"a":"p"),{href:(l=r.link)!=null?l:void 0,target:"_blank",class:Te(["sponsor color-magic",r.link?"active":""]),key:r.name},{default:h(()=>[ce(I(r.name),1)]),_:2},1032,["href","class"])}),128))]),k("div",sa,I(t.$t("you name could be here")),1),f(e.DonationLinks)])}const ua=M(na,[["render",ca],["__scopeId","data-v-e471be8a"],["__file","SponsorsPage.vue"]]),da=L({__name:"ProjectInfo",setup(t,{expose:a}){a();const e={tabs:[{component:Nn,icon:"o_info",name:"info"},{component:Gn,name:"acknowledgements",icon:"add_reaction"},{component:ua,icon:"monetization_on",name:"sponsors"}],ComponentTabs:yo};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),ma={class:"project-info"};function fa(t,a,o,e,i,n){return m(),z("div",ma,[f(e.ComponentTabs,{tabs:e.tabs},{"custom-tabs":h(()=>[f(ee,{href:"https://github.com/Artawower/orgnote/wiki/General",target:"_blank"},{default:h(()=>[f(_e,{avatar:t.$q.screen.gt.xs},{default:h(()=>[f(K,{name:"quiz",size:"sm"})]),_:1},8,["avatar"]),t.$q.screen.gt.xs?(m(),$(_e,{key:0},{default:h(()=>[ce(" WIKI ")]),_:1})):R("",!0)]),_:1})]),_:1})])}const va=M(da,[["render",fa],["__file","ProjectInfo.vue"]]);function pa(){const t=Le(),a=at(),o=So();return[{command:B.REPORT_BUG,description:"report bug",group:"debug",handler:te(()=>window.open("https://github.com/Artawower/orgnote-client/issues/new/choose","_blank"))},{command:B.OPEN_DEBUG_INFO,keySequence:"Ctrl+KeyD",description:"open debug info",group:"debug",handler:()=>{t.open(En,{title:"system info"})}},{command:B.SHOW_LOGS,keySequence:"Ctrl+KeyD",description:"show logs",group:"debug",handler:()=>{t.open(In,{title:"logs"})}},{command:B.TOGGLE_SIDEBAR,group:"global",icon:()=>a.opened?"arrow_circle_left":"menu",description:"toggle sidebar",handler:()=>{a.toggle()}},{command:B.TOGGLE_FILE_MANAGER,group:"global",icon:"folder",description:"toggle file manager",handler:()=>{a.toggleWithComponent(wo)}},{command:B.CREATE_NOTE,group:"global",icon:"o_add_box",handler:()=>o.createFile()},{command:B.PROJECT_INFO,icon:"o_info",description:"show project info",group:"global",handler:()=>t.open(va)}]}function _a(){const t=ge(),a=rt(),o=Co();return[{command:B.TOGGLE_COMMANDS,keySequence:"Alt+KeyX",description:"Toggle command executor",icon:"terminal",group:"completion",allowOnInput:!0,handler:e=>{var i;t.toggleCompletion(),a.initCompletion(),(i=e==null?void 0:e.event)==null||i.preventDefault()}},{command:B.SEARCH,keySequence:"/",description:"search notes",icon:"search",group:"completion",handler:e=>{var i;o.initCompletion(),(i=e.event)==null||i.preventDefault()}},{command:B.RESTORE_COMPLETION,keySequence:"'",description:"restore last completion session",group:"completion",handler:()=>{t.restoreLastCompletionSession()}},{command:B.EXIT_COMMAND_EXECUTOR,handler:()=>{t.closeCompletion()},keySequence:"Escape",description:"Exit command executor",group:"completion",allowOnInput:!0},{command:B.NEXT_CANDIDATE,handler:()=>{t.nextCandidate()},ignorePrompt:!0,keySequence:"Control+KeyJ",description:"Next candidate",group:"completion",allowOnInput:!0},{command:B.PREV_CANDIDATE,handler:()=>{t.previousCandidate()},ignorePrompt:!0,keySequence:"Control+KeyK",description:"Previous candidate",group:"completion",allowOnInput:!0},{command:B.EXECUTE_CANDIDATE,keySequence:"Enter",description:"Execute candidate",group:"completion",allowOnInput:!0,ignorePrompt:!0,handler:()=>{t.opened&&t.executeCandidate(t.selectedCandidate)}}]}function ha(){const t=Ie();if(!t.platform.is.mobile)return[];const{orgNoteApi:a}=ot();return[{command:"select file path",description:"select file path",available:()=>t.platform.is.mobile,icon:"folder_open",group:"mobile",handler:async()=>a.fileSystem.readPath()}]}function ga(){const t=rt(),a=wn(),o=Cn(),e=pa(),i=_a(),n=ha();return{register:()=>{t.register(...a,...o,...e,...i,...n)}}}const ba=t=>{const a=P(!0),o=P(null),e=async()=>{try{const i=await xo.get(t);o.value=i.data}finally{a.value=!1}};return be(async()=>{await e()}),{loading:a,noteContent:o}},ya=t=>{const a=P(window.document.hasFocus()),o=()=>{a.value=window.document.hasFocus(),t==null||t(a.value)};return de(te(()=>window.addEventListener("focus",o))),ye(te(()=>window.removeEventListener("focus",o))),{active:a}};function Sa(){const t=tt(),a=P(!1);return be(async()=>{await t.loadActiveExtensions(),await t.loadExtensions(),await t.initBuiltInExtensions(),a.value=!0}),{bootstrapped:a}}const wa=L({__name:"PageLoading",setup(t,{expose:a}){a();const o={LoaderSpinner:mt};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function Ca(t,a,o,e,i,n){return m(),$(gn,{class:"center-container fit flex items-center justify-center"},{default:h(()=>[f(e.LoaderSpinner)]),_:1})}const xa=M(wa,[["render",Ca],["__file","PageLoading.vue"]]),Pa=me({name:"QPageContainer",setup(t,{slots:a}){const{proxy:{$q:o}}=fe(),e=it(Be,oe);if(e===oe)return console.error("QPageContainer needs to be child of QLayout"),oe;At(Po,!0);const i=p(()=>{const n={};return e.header.space===!0&&(n.paddingTop=`${e.header.size}px`),e.right.space===!0&&(n[`padding${o.lang.rtl===!0?"Left":"Right"}`]=`${e.right.size}px`),e.footer.space===!0&&(n.paddingBottom=`${e.footer.size}px`),e.left.space===!0&&(n[`padding${o.lang.rtl===!0?"Right":"Left"}`]=`${e.left.size}px`),n});return()=>A("div",{class:"q-page-container",style:i.value},lt(a.default))}}),{passive:Ct}=zo,ka=["both","horizontal","vertical"],Ut=me({name:"QScrollObserver",props:{axis:{type:String,validator:t=>ka.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:ko},emits:["scroll"],setup(t,{emit:a}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let e=null,i,n;D(()=>t.scrollTarget,()=>{u(),l()});function r(){e!==null&&e();const C=Math.max(0,To(i)),_=qo(i),y={top:C-o.position.top,left:_-o.position.left};if(t.axis==="vertical"&&y.top===0||t.axis==="horizontal"&&y.left===0)return;const g=Math.abs(y.top)>=Math.abs(y.left)?y.top<0?"up":"down":y.left<0?"left":"right";o.position={top:C,left:_},o.directionChanged=o.direction!==g,o.delta=y,o.directionChanged===!0&&(o.direction=g,o.inflectionPoint=o.position),a("scroll",{...o})}function l(){i=$o(n,t.scrollTarget),i.addEventListener("scroll",d,Ct),d(!0)}function u(){i!==void 0&&(i.removeEventListener("scroll",d,Ct),i=void 0)}function d(C){if(C===!0||t.debounce===0||t.debounce==="0")r();else if(e===null){const[_,y]=t.debounce?[setTimeout(r,t.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];e=()=>{y(_),e=null}}}const{proxy:s}=fe();return D(()=>s.$q.lang.rtl,r),de(()=>{n=s.$el.parentNode,l()}),ye(()=>{e!==null&&e(),u()}),Object.assign(s,{trigger:d,getPosition:()=>o}),Dt}}),$a=me({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:a,emit:o}){const{proxy:{$q:e}}=fe(),i=P(null),n=P(e.screen.height),r=P(t.container===!0?0:e.screen.width),l=P({position:0,direction:"down",inflectionPoint:0}),u=P(0),d=P(Eo.value===!0?0:Qe()),s=p(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),C=p(()=>t.container===!1?{minHeight:e.screen.height+"px"}:null),_=p(()=>d.value!==0?{[e.lang.rtl===!0?"left":"right"]:`${d.value}px`}:null),y=p(()=>d.value!==0?{[e.lang.rtl===!0?"right":"left"]:0,[e.lang.rtl===!0?"left":"right"]:`-${d.value}px`,width:`calc(100% + ${d.value}px)`}:null);function g(O){if(t.container===!0||document.qScrollPrevented!==!0){const N={position:O.position.top,direction:O.direction,directionChanged:O.directionChanged,inflectionPoint:O.inflectionPoint.top,delta:O.delta.top};l.value=N,t.onScroll!==void 0&&o("scroll",N)}}function T(O){const{height:N,width:j}=O;let H=!1;n.value!==N&&(H=!0,n.value=N,t.onScrollHeight!==void 0&&o("scrollHeight",N),S()),r.value!==j&&(H=!0,r.value=j),H===!0&&t.onResize!==void 0&&o("resize",O)}function w({height:O}){u.value!==O&&(u.value=O,S())}function S(){if(t.container===!0){const O=n.value>u.value?Qe():0;d.value!==O&&(d.value=O)}}let b=null;const V={instances:{},view:p(()=>t.view),isContainer:p(()=>t.container),rootRef:i,height:n,containerHeight:u,scrollbarWidth:d,totalWidth:p(()=>r.value+d.value),rows:p(()=>{const O=t.view.toLowerCase().split(" ");return{top:O[0].split(""),middle:O[1].split(""),bottom:O[2].split("")}}),header:Me({size:0,offset:0,space:!1}),right:Me({size:300,offset:0,space:!1}),footer:Me({size:0,offset:0,space:!1}),left:Me({size:300,offset:0,space:!1}),scroll:l,animate(){b!==null?clearTimeout(b):document.body.classList.add("q-body--layout-animate"),b=setTimeout(()=>{b=null,document.body.classList.remove("q-body--layout-animate")},155)},update(O,N,j){V[O][N]=j}};if(At(Be,V),Qe()>0){let O=function(){H=null,re.classList.remove("hide-scrollbar")},N=function(){if(H===null){if(re.scrollHeight>e.screen.height)return;re.classList.add("hide-scrollbar")}else clearTimeout(H);H=setTimeout(O,300)},j=function(Y){H!==null&&Y==="remove"&&(clearTimeout(H),O()),window[`${Y}EventListener`]("resize",N)},H=null;const re=document.body;D(()=>t.container!==!0?"add":"remove",j),t.container!==!0&&j("add"),Lt(()=>{j("remove")})}return()=>{const O=It(a.default,[A(Ut,{onScroll:g}),A(ke,{onResize:T})]),N=A("div",{class:s.value,style:C.value,ref:t.container===!0?void 0:i,tabindex:-1},O);return t.container===!0?A("div",{class:"q-layout-container overflow-hidden",ref:i},[A(ke,{onResize:w}),A("div",{class:"absolute-full",style:_.value},[A("div",{class:"scroll",style:y.value},[N])])]):N}}});function za(t){const a=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((o,e)=>{const i=parseFloat(o);i&&(a[e]=i)}),a}const Gt=Oo({name:"touch-swipe",beforeMount(t,{value:a,arg:o,modifiers:e}){if(e.mouse!==!0&&Ce.has.touch!==!0)return;const i=e.mouseCapture===!0?"Capture":"",n={handler:a,sensitivity:za(o),direction:St(e),noop:Dt,mouseStart(r){wt(r,n)&&Mo(r)&&(Ae(n,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),n.start(r,!0))},touchStart(r){if(wt(r,n)){const l=r.target;Ae(n,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),n.start(r)}},start(r,l){Ce.is.firefox===!0&&We(t,!0);const u=pt(r);n.event={x:u.left,y:u.top,time:Date.now(),mouse:l===!0,dir:!1}},move(r){if(n.event===void 0)return;if(n.event.dir!==!1){Ue(r);return}const l=Date.now()-n.event.time;if(l===0)return;const u=pt(r),d=u.left-n.event.x,s=Math.abs(d),C=u.top-n.event.y,_=Math.abs(C);if(n.event.mouse!==!0){if(s<n.sensitivity[1]&&_<n.sensitivity[1]){n.end(r);return}}else if(window.getSelection().toString()!==""){n.end(r);return}else if(s<n.sensitivity[2]&&_<n.sensitivity[2])return;const y=s/l,g=_/l;n.direction.vertical===!0&&s<_&&s<100&&g>n.sensitivity[0]&&(n.event.dir=C<0?"up":"down"),n.direction.horizontal===!0&&s>_&&_<100&&y>n.sensitivity[0]&&(n.event.dir=d<0?"left":"right"),n.direction.up===!0&&s<_&&C<0&&s<100&&g>n.sensitivity[0]&&(n.event.dir="up"),n.direction.down===!0&&s<_&&C>0&&s<100&&g>n.sensitivity[0]&&(n.event.dir="down"),n.direction.left===!0&&s>_&&d<0&&_<100&&y>n.sensitivity[0]&&(n.event.dir="left"),n.direction.right===!0&&s>_&&d>0&&_<100&&y>n.sensitivity[0]&&(n.event.dir="right"),n.event.dir!==!1?(Ue(r),n.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ao(),n.styleCleanup=T=>{n.styleCleanup=void 0,document.body.classList.remove("non-selectable");const w=()=>{document.body.classList.remove("no-pointer-events--children")};T===!0?setTimeout(w,50):w()}),n.handler({evt:r,touch:n.event.mouse!==!0,mouse:n.event.mouse,direction:n.event.dir,duration:l,distance:{x:s,y:_}})):n.end(r)},end(r){n.event!==void 0&&(Ge(n,"temp"),Ce.is.firefox===!0&&We(t,!1),n.styleCleanup!==void 0&&n.styleCleanup(!0),r!==void 0&&n.event.dir!==!1&&Ue(r),n.event=void 0)}};if(t.__qtouchswipe=n,e.mouse===!0){const r=e.mouseCapture===!0||e.mousecapture===!0?"Capture":"";Ae(n,"main",[[t,"mousedown","mouseStart",`passive${r}`]])}Ce.has.touch===!0&&Ae(n,"main",[[t,"touchstart","touchStart",`passive${e.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,a){const o=t.__qtouchswipe;o!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&o.end(),o.handler=a.value),o.direction=St(a.modifiers))},beforeUnmount(t){const a=t.__qtouchswipe;a!==void 0&&(Ge(a,"main"),Ge(a,"temp"),Ce.is.firefox===!0&&We(t,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete t.__qtouchswipe)}}),xt=["vertical","horizontal"],Xe={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Pt={prevent:!0,mouse:!0,mouseAllDir:!0},kt=t=>t>=250?50:Math.ceil(t/5),Kt=me({name:"QScrollArea",props:{...st,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(t,{slots:a,emit:o}){const e=P(!1),i=P(!1),n=P(!1),r={vertical:P(0),horizontal:P(0)},l={vertical:{ref:P(null),position:P(0),size:P(0)},horizontal:{ref:P(null),position:P(0),size:P(0)}},{proxy:u}=fe(),d=ct(t,u.$q);let s=null,C;const _=P(null),y=p(()=>"q-scrollarea"+(d.value===!0?" q-scrollarea--dark":""));l.vertical.percentage=p(()=>{const v=l.vertical.size.value-r.vertical.value;if(v<=0)return 0;const x=se(l.vertical.position.value/v,0,1);return Math.round(x*1e4)/1e4}),l.vertical.thumbHidden=p(()=>(t.visible===null?n.value:t.visible)!==!0&&e.value===!1&&i.value===!1||l.vertical.size.value<=r.vertical.value+1),l.vertical.thumbStart=p(()=>l.vertical.percentage.value*(r.vertical.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=p(()=>Math.round(se(r.vertical.value*r.vertical.value/l.vertical.size.value,kt(r.vertical.value),r.vertical.value))),l.vertical.style=p(()=>({...t.thumbStyle,...t.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`})),l.vertical.thumbClass=p(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=p(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=p(()=>{const v=l.horizontal.size.value-r.horizontal.value;if(v<=0)return 0;const x=se(Math.abs(l.horizontal.position.value)/v,0,1);return Math.round(x*1e4)/1e4}),l.horizontal.thumbHidden=p(()=>(t.visible===null?n.value:t.visible)!==!0&&e.value===!1&&i.value===!1||l.horizontal.size.value<=r.horizontal.value+1),l.horizontal.thumbStart=p(()=>l.horizontal.percentage.value*(r.horizontal.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=p(()=>Math.round(se(r.horizontal.value*r.horizontal.value/l.horizontal.size.value,kt(r.horizontal.value),r.horizontal.value))),l.horizontal.style=p(()=>({...t.thumbStyle,...t.horizontalThumbStyle,[u.$q.lang.rtl===!0?"right":"left"]:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`})),l.horizontal.thumbClass=p(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=p(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const g=p(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?t.contentStyle:t.contentActiveStyle),T=[[xe,v=>{H(v,"vertical")},void 0,{vertical:!0,...Pt}]],w=[[xe,v=>{H(v,"horizontal")},void 0,{horizontal:!0,...Pt}]];function S(){const v={};return xt.forEach(x=>{const E=l[x];v[x+"Position"]=E.position.value,v[x+"Percentage"]=E.percentage.value,v[x+"Size"]=E.size.value,v[x+"ContainerSize"]=r[x].value}),v}const b=Do(()=>{const v=S();v.ref=u,o("scroll",v)},0);function V(v,x,E){if(xt.includes(v)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(v==="vertical"?_t:Ke)(_.value,x,E)}function O({height:v,width:x}){let E=!1;r.vertical.value!==v&&(r.vertical.value=v,E=!0),r.horizontal.value!==x&&(r.horizontal.value=x,E=!0),E===!0&&G()}function N({position:v}){let x=!1;l.vertical.position.value!==v.top&&(l.vertical.position.value=v.top,x=!0),l.horizontal.position.value!==v.left&&(l.horizontal.position.value=v.left,x=!0),x===!0&&G()}function j({height:v,width:x}){l.horizontal.size.value!==x&&(l.horizontal.size.value=x,G()),l.vertical.size.value!==v&&(l.vertical.size.value=v,G())}function H(v,x){const E=l[x];if(v.isFirst===!0){if(E.thumbHidden.value===!0)return;C=E.position.value,i.value=!0}else if(i.value!==!0)return;v.isFinal===!0&&(i.value=!1);const Z=Xe[x],ve=r[x].value,Re=(E.size.value-ve)/(ve-E.thumbSize.value),Ee=v.distance[Z.dist],Ve=C+(v.direction===Z.dir?1:-1)*Ee*Re;Se(Ve,x)}function re(v,x){const E=l[x];if(E.thumbHidden.value!==!0){const Z=v[Xe[x].offset];if(Z<E.thumbStart.value||Z>E.thumbStart.value+E.thumbSize.value){const ve=Z-E.thumbSize.value/2;Se(ve/r[x].value*E.size.value,x)}E.ref.value!==null&&E.ref.value.dispatchEvent(new MouseEvent(v.type,v))}}function Y(v){re(v,"vertical")}function U(v){re(v,"horizontal")}function G(){e.value=!0,s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,e.value=!1},t.delay),t.onScroll!==void 0&&b()}function Se(v,x){_.value[Xe[x].scroll]=v}let F=null;function we(){F!==null&&clearTimeout(F),F=setTimeout(()=>{F=null,n.value=!0},u.$q.platform.is.ios?50:0)}function qe(){F!==null&&(clearTimeout(F),F=null),n.value=!1}let J=null;return D(()=>u.$q.lang.rtl,v=>{_.value!==null&&Ke(_.value,Math.abs(l.horizontal.position.value)*(v===!0?-1:1))}),Lo(()=>{J={top:l.vertical.position.value,left:l.horizontal.position.value}}),Io(()=>{if(J===null)return;const v=_.value;v!==null&&(Ke(v,J.left),_t(v,J.top))}),ye(b.cancel),Object.assign(u,{getScrollTarget:()=>_.value,getScroll:S,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:V,setScrollPercentage(v,x,E){V(v,x*(l[v].size.value-r[v].value)*(v==="horizontal"&&u.$q.lang.rtl===!0?-1:1),E)}}),()=>A("div",{class:y.value,onMouseenter:we,onMouseleave:qe},[A("div",{ref:_,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:t.tabindex!==void 0?t.tabindex:void 0},[A("div",{class:"q-scrollarea__content absolute",style:g.value},It(a.default,[A(ke,{debounce:0,onResize:j})])),A(Ut,{axis:"both",onScroll:N})]),A(ke,{debounce:0,onResize:O}),A("div",{class:l.vertical.barClass.value,style:[t.barStyle,t.verticalBarStyle],"aria-hidden":"true",onMousedown:Y}),A("div",{class:l.horizontal.barClass.value,style:[t.barStyle,t.horizontalBarStyle],"aria-hidden":"true",onMousedown:U}),ue(A("div",{ref:l.vertical.ref,class:l.vertical.thumbClass.value,style:l.vertical.style.value,"aria-hidden":"true"}),T),ue(A("div",{ref:l.horizontal.ref,class:l.horizontal.thumbClass.value,style:l.horizontal.style.value,"aria-hidden":"true"}),w)])}}),$t=150,zt=me({name:"QDrawer",inheritAttrs:!1,props:{...Bo,...st,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ro,"onLayout","miniState"],setup(t,{slots:a,emit:o,attrs:e}){const i=fe(),{proxy:{$q:n}}=i,r=ct(t,n),{preventBodyScroll:l}=Ho(),{registerTimeout:u,removeTimeout:d}=Vo(),s=it(Be,oe);if(s===oe)return console.error("QDrawer needs to be child of QLayout"),oe;let C,_=null,y;const g=P(t.behavior==="mobile"||t.behavior!=="desktop"&&s.totalWidth.value<=t.breakpoint),T=p(()=>t.mini===!0&&g.value!==!0),w=p(()=>T.value===!0?t.miniWidth:t.width),S=P(t.showIfAbove===!0&&g.value===!1?!0:t.modelValue===!0),b=p(()=>t.persistent!==!0&&(g.value===!0||Z.value===!0));function V(c,q){if(H(),c!==!1&&s.animate(),W(0),g.value===!0){const Q=s.instances[J.value];Q!==void 0&&Q.belowBreakpoint===!0&&Q.hide(!1),ie(1),s.isContainer.value!==!0&&l(!0)}else ie(0),c!==!1&&je(!1);u(()=>{c!==!1&&je(!0),q!==!0&&o("show",c)},$t)}function O(c,q){re(),c!==!1&&s.animate(),ie(0),W(G.value*w.value),He(),q!==!0?u(()=>{o("hide",c)},$t):d()}const{show:N,hide:j}=No({showing:S,hideOnRouteChange:b,handleShow:V,handleHide:O}),{addToHistory:H,removeFromHistory:re}=jo(S,j,b),Y={belowBreakpoint:g,hide:j},U=p(()=>t.side==="right"),G=p(()=>(n.lang.rtl===!0?-1:1)*(U.value===!0?1:-1)),Se=P(0),F=P(!1),we=P(!1),qe=P(w.value*G.value),J=p(()=>U.value===!0?"left":"right"),v=p(()=>S.value===!0&&g.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:w.value:0),x=p(()=>t.overlay===!0||t.miniToOverlay===!0||s.view.value.indexOf(U.value?"R":"L")!==-1||n.platform.is.ios===!0&&s.isContainer.value===!0),E=p(()=>t.overlay===!1&&S.value===!0&&g.value===!1),Z=p(()=>t.overlay===!0&&S.value===!0&&g.value===!1),ve=p(()=>"fullscreen q-drawer__backdrop"+(S.value===!1&&F.value===!1?" hidden":"")),Re=p(()=>({backgroundColor:`rgba(0,0,0,${Se.value*.4})`})),Ee=p(()=>U.value===!0?s.rows.value.top[2]==="r":s.rows.value.top[0]==="l"),Ve=p(()=>U.value===!0?s.rows.value.bottom[2]==="r":s.rows.value.bottom[0]==="l"),Zt=p(()=>{const c={};return s.header.space===!0&&Ee.value===!1&&(x.value===!0?c.top=`${s.header.offset}px`:s.header.space===!0&&(c.top=`${s.header.size}px`)),s.footer.space===!0&&Ve.value===!1&&(x.value===!0?c.bottom=`${s.footer.offset}px`:s.footer.space===!0&&(c.bottom=`${s.footer.size}px`)),c}),eo=p(()=>{const c={width:`${w.value}px`,transform:`translateX(${qe.value}px)`};return g.value===!0?c:Object.assign(c,Zt.value)}),to=p(()=>"q-drawer__content fit "+(s.isContainer.value!==!0?"scroll":"overflow-auto")),oo=p(()=>`q-drawer q-drawer--${t.side}`+(we.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(r.value===!0?" q-drawer--dark q-dark":"")+(F.value===!0?" no-transition":S.value===!0?"":" q-layout--prevent-focus")+(g.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${T.value===!0?"mini":"standard"}`+(x.value===!0||E.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(Ee.value===!0?" q-drawer--top-padding":""))),no=p(()=>{const c=n.lang.rtl===!0?t.side:J.value;return[[xe,lo,void 0,{[c]:!0,mouse:!0}]]}),ao=p(()=>{const c=n.lang.rtl===!0?J.value:t.side;return[[xe,ft,void 0,{[c]:!0,mouse:!0}]]}),ro=p(()=>{const c=n.lang.rtl===!0?J.value:t.side;return[[xe,ft,void 0,{[c]:!0,mouse:!0,mouseAllDir:!0}]]});function Ne(){so(g,t.behavior==="mobile"||t.behavior!=="desktop"&&s.totalWidth.value<=t.breakpoint)}D(g,c=>{c===!0?(C=S.value,S.value===!0&&j(!1)):t.overlay===!1&&t.behavior!=="mobile"&&C!==!1&&(S.value===!0?(W(0),ie(0),He()):N(!1))}),D(()=>t.side,(c,q)=>{s.instances[q]===Y&&(s.instances[q]=void 0,s[q].space=!1,s[q].offset=0),s.instances[c]=Y,s[c].size=w.value,s[c].space=E.value,s[c].offset=v.value}),D(s.totalWidth,()=>{(s.isContainer.value===!0||document.qScrollPrevented!==!0)&&Ne()}),D(()=>t.behavior+t.breakpoint,Ne),D(s.isContainer,c=>{S.value===!0&&l(c!==!0),c===!0&&Ne()}),D(s.scrollbarWidth,()=>{W(S.value===!0?0:void 0)}),D(v,c=>{le("offset",c)}),D(E,c=>{o("onLayout",c),le("space",c)}),D(U,()=>{W()}),D(w,c=>{W(),Fe(t.miniToOverlay,c)}),D(()=>t.miniToOverlay,c=>{Fe(c,w.value)}),D(()=>n.lang.rtl,()=>{W()}),D(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(io(),s.animate())}),D(T,c=>{o("miniState",c)});function W(c){c===void 0?ht(()=>{c=S.value===!0?0:w.value,W(G.value*c)}):(s.isContainer.value===!0&&U.value===!0&&(g.value===!0||Math.abs(c)===w.value)&&(c+=G.value*s.scrollbarWidth.value),qe.value=c)}function ie(c){Se.value=c}function je(c){const q=c===!0?"remove":s.isContainer.value!==!0?"add":"";q!==""&&document.body.classList[q]("q-body--drawer-toggle")}function io(){_!==null&&clearTimeout(_),i.proxy&&i.proxy.$el&&i.proxy.$el.classList.add("q-drawer--mini-animate"),we.value=!0,_=setTimeout(()=>{_=null,we.value=!1,i&&i.proxy&&i.proxy.$el&&i.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function lo(c){if(S.value!==!1)return;const q=w.value,Q=se(c.distance.x,0,q);if(c.isFinal===!0){Q>=Math.min(75,q)===!0?N():(s.animate(),ie(0),W(G.value*q)),F.value=!1;return}W((n.lang.rtl===!0?U.value!==!0:U.value)?Math.max(q-Q,0):Math.min(0,Q-q)),ie(se(Q/q,0,1)),c.isFirst===!0&&(F.value=!0)}function ft(c){if(S.value!==!0)return;const q=w.value,Q=c.direction===t.side,Oe=(n.lang.rtl===!0?Q!==!0:Q)?se(c.distance.x,0,q):0;if(c.isFinal===!0){Math.abs(Oe)<Math.min(75,q)===!0?(s.animate(),ie(1),W(0)):j(),F.value=!1;return}W(G.value*Oe),ie(se(1-Oe/q,0,1)),c.isFirst===!0&&(F.value=!0)}function He(){l(!1),je(!0)}function le(c,q){s.update(t.side,c,q)}function so(c,q){c.value!==q&&(c.value=q)}function Fe(c,q){le("size",c===!0?t.miniWidth:q)}return s.instances[t.side]=Y,Fe(t.miniToOverlay,w.value),le("space",E.value),le("offset",v.value),t.showIfAbove===!0&&t.modelValue!==!0&&S.value===!0&&t["onUpdate:modelValue"]!==void 0&&o("update:modelValue",!0),de(()=>{o("onLayout",E.value),o("miniState",T.value),C=t.showIfAbove===!0;const c=()=>{(S.value===!0?V:O)(!1,!0)};if(s.totalWidth.value!==0){ht(c);return}y=D(s.totalWidth,()=>{y(),y=void 0,S.value===!1&&t.showIfAbove===!0&&g.value===!1?N(!1):c()})}),ye(()=>{y!==void 0&&y(),_!==null&&(clearTimeout(_),_=null),S.value===!0&&He(),s.instances[t.side]===Y&&(s.instances[t.side]=void 0,le("size",0),le("offset",0),le("space",!1))}),()=>{const c=[];g.value===!0&&(t.noSwipeOpen===!1&&c.push(ue(A("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),no.value)),c.push(gt("div",{ref:"backdrop",class:ve.value,style:Re.value,"aria-hidden":"true",onClick:j},void 0,"backdrop",t.noSwipeBackdrop!==!0&&S.value===!0,()=>ro.value)));const q=T.value===!0&&a.mini!==void 0,Q=[A("div",{...e,key:""+q,class:[to.value,e.class]},q===!0?a.mini():lt(a.default))];return t.elevated===!0&&S.value===!0&&Q.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),c.push(gt("aside",{ref:"content",class:oo.value,style:eo.value},Q,"contentclose",t.noSwipeClose!==!0&&g.value===!0,()=>ao.value)),A("div",{class:"q-drawer-container"},c)}}}),Ta=L({__name:"ActionPaneWrapper",setup(t,{expose:a}){a(),Bt();const o={};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function qa(t,a,o,e,i,n){return he(t.$slots,"default")}const Ea=M(Ta,[["render",qa],["__file","ActionPaneWrapper.vue"]]),Oa="https://play.google.com/store/apps/details?id=org.note.app",Ma=L({__name:"DownloadLinks",setup(t,{expose:a}){a();const o={apkUrl:Oa};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),Aa=""+new URL("google-play-DhjbdeBv.svg",import.meta.url).href,Da={class:"download-links"},La=k("img",{src:Aa,height:"26"},null,-1),Ia=[La];function Ba(t,a,o,e,i,n){return m(),z("div",Da,[!t.$q.platform.is.nativeMobile&&!t.$q.platform.is.ios?(m(),z("a",{key:0,href:e.apkUrl,target:"_blank"},Ia)):R("",!0)])}const Ra=M(Ma,[["render",Ba],["__file","DownloadLinks.vue"]]),Va={};function Na(t,a){return" Share your knowledge. It is a way to achieve immortality (Dalai Lama) "}const ja=M(Va,[["render",Na],["__file","RandomQuote.vue"]]),Ha=L({__name:"ProfileSideBar",setup(t,{expose:a}){a();const o=Je(),{user:e}=$e(o),r={authStore:o,user:e,openProfile:()=>{window.open(e.value.profileUrl,"_blank")},logout:()=>o.logout(),get version(){return Et},DownloadLinks:Ra,LoginButtons:mn,RandomQuote:ja};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Xt=t=>(Ot("data-v-3da7bda4"),t=t(),Mt(),t),Fa={key:0,src:"/icons/unicorn.png"},Qa=["src"],Wa={class:"text-center q-mt-lg"},Ua={class:"text-center subtitle text-weight-light text-italic"},Ga=Xt(()=>k("br",null,null,-1)),Ka={class:"text-center subtitle text-weight-light text-italic"},Xa={class:"text-center q-mt-lg full-width"},Ya=Xt(()=>k("span",{class:"text-weight-light text-caption"}," (beta)",-1));function Ja(t,a,o,e,i,n){return m(),$(Kt,{class:"fit"},{default:h(()=>[f(De,null,{default:h(()=>[e.user?(m(),$(ee,{key:0,clickable:"",class:"column justify-center avatar-item color-main",onClick:e.openProfile},{default:h(()=>[f(Rt,{size:"160px",class:"q-mx-auto q-pt-xs"},{default:h(()=>[e.user.isAnonymous?(m(),z("img",Fa)):(m(),z("img",{key:1,src:e.user.avatarUrl},null,8,Qa))]),_:1}),k("div",Wa,I(e.user.nickName),1),k("div",Ua,I(e.user.email),1),Ga,k("div",Ka,[f(e.RandomQuote)])]),_:1})):R("",!0),e.user.isAnonymous?(m(),z(ae,{key:1},[f(ee,null,{default:h(()=>[k("div",Xa,I(t.$t("login to create your first note")),1)]),_:1}),f(e.LoginButtons)],64)):(m(),$(ee,{key:2,onClick:e.logout,clickable:""},{default:h(()=>[f(_e,{avatar:""},{default:h(()=>[f(K,{name:"logout"})]),_:1}),f(_e,{class:"text-capitalize"},{default:h(()=>[ce(I(t.$t("logout")),1)]),_:1})]),_:1}))]),_:1}),f(De,null,{default:h(()=>[f(ee,{class:"text-italic flex-center"},{default:h(()=>[ce(I(e.version)+" ",1),Ya]),_:1}),f(ee,null,{default:h(()=>[f(e.DownloadLinks)]),_:1})]),_:1})]),_:1})}const Yt=M(Ha,[["render",Ja],["__scopeId","data-v-3da7bda4"],["__file","ProfileSideBar.vue"]]),Za=L({__name:"SidePanelItems",props:{items:{}},emits:["executeAction"],setup(t,{expose:a,emit:o}){a();const e=o,{t:i}=Fo(),r={emits:e,t:i,getTitle:l=>l.title?i(`${Pe(l.title)}`):"",get extractDynamicValue(){return Pe}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function er(t,a,o,e,i,n){return m(!0),z(ae,null,ze(o.items,r=>(m(),z(ae,{key:r.command},[r.available()?(m(),$(ee,{key:0,clickable:"",onClick:l=>e.emits("executeAction",r)},{default:h(()=>[f(_e,{avatar:""},{default:h(()=>[f(K,{name:e.extractDynamicValue(r.icon)},null,8,["name"])]),_:2},1024),f(_e,null,{default:h(()=>[ce(I(e.getTitle(r)),1)]),_:2},1024)]),_:2},1032,["onClick"])):R("",!0)],64))),128)}const tr=M(Za,[["render",er],["__file","SidePanelItems.vue"]]),or=L({__name:"ActionSidePanel",props:{user:{},fullWidth:{type:Boolean}},setup(t,{expose:a}){var S;a();const o=t,e=bt(o,"user"),i=bt(o,"fullWidth"),n=P(!0),r=at(),{executeCommand:l}=ut(),u=()=>{i.value&&r.close()},d=P(window.innerWidth),s=te(()=>{d.value=window.innerWidth}),C=()=>{i.value&&r.open()};be(()=>C()),de(te(()=>window.addEventListener("resize",s))),Lt(te(()=>window.removeEventListener("resize",s)));const _=p(()=>i.value?d.value:360),y=dt(),g=b=>{l(b)},T=Ie();T.platform.is.ios&&((S=document.activeElement)==null||S.blur());const w={props:o,user:e,fullWidth:i,compositeOpened:n,sidebarStore:r,executeCommand:l,closeSideBarForMobile:u,windowWidth:d,setupWindowWidth:s,showSidebarForSmalDevice:C,drawerWidth:_,toolbarStore:y,executeActionHandler:g,$q:T,get getNumericCssVar(){return Qo},ActionPaneWrapper:Ea,ProfileSideBar:Yt,SidePanelItems:tr};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),nr=["src"];function ar(t,a,o,e,i,n){return m(),z(ae,null,[f(zt,{class:"composite-bar top-offset","show-if-above":"",mini:!0,modelValue:e.compositeOpened,"onUpdate:modelValue":a[1]||(a[1]=r=>e.compositeOpened=r),breakpoint:0,overlay:e.fullWidth,"no-swipe-backdrop":""},{default:h(()=>[f(Kt,{class:"fit q-pt-xs"},{default:h(()=>[f(De,{class:"side-panel-actions"},{default:h(()=>[f(ee,{onClick:a[0]||(a[0]=r=>e.sidebarStore.toggleWithComponent(e.ProfileSideBar)),clickable:"",class:"flex items-center justify-center"},{default:h(()=>[f(Rt,{size:"24px",class:"profile-icon"},{default:h(()=>{var r;return[(r=e.user)!=null&&r.avatarUrl?(m(),z("img",{key:0,src:e.user.avatarUrl},null,8,nr)):(m(),$(K,{key:1,name:"account_circle",size:"sm"}))]}),_:1})]),_:1}),f(e.SidePanelItems,{items:e.toolbarStore.toolbarActions,onExecuteAction:e.executeActionHandler},null,8,["items"])]),_:1}),f(De,{class:"side-panel-actions"},{default:h(()=>[f(e.SidePanelItems,{items:e.toolbarStore.systemActions,onExecuteAction:e.executeActionHandler},null,8,["items"])]),_:1})]),_:1})]),_:1},8,["modelValue","overlay"]),ue((m(),$(zt,{class:"main-sidebar top-offset",width:e.drawerWidth-e.getNumericCssVar("sidebar-width"),overlay:e.fullWidth,breakpoint:0,"no-swipe-backdrop":"",modelValue:e.sidebarStore.opened,"onUpdate:modelValue":a[2]||(a[2]=r=>e.sidebarStore.opened=r)},{default:h(()=>[f(e.ActionPaneWrapper,null,{default:h(()=>[(m(),$(nt(e.sidebarStore.component)))]),_:1})]),_:1},8,["width","overlay","modelValue"])),[[Vt,e.sidebarStore.opened],[Gt,e.closeSideBarForMobile,void 0,{mouse:!0,left:!0}]])],64)}const rr=M(or,[["render",ar],["__file","ActionSidePanel.vue"]]),ir=L({__name:"CompletionResultItem",props:{item:{},selected:{type:Boolean},index:{}},setup(t,{expose:a}){a();const o=ge(),{config:e}=et();let i=[0,0];const r={completionStore:o,config:e,get lastCoords(){return i},set lastCoords(l){i=l},focusCompletionCandidate:(l,u)=>{(i[0]!==l.clientX||i[1]!==l.clientY)&&(i=[l.clientX,l.clientY],o.focusCandidate(u))},get extractDynamicValue(){return Pe}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),lr={class:"icon"},sr={class:"text-bold flex flex-start no-wrap gap-4 color-main"},cr={key:0},ur={class:"line-limit-1"},dr={class:"capitalize"},mr={class:"text-italic color-secondary line-limit-1"};function fr(t,a,o,e,i,n){return m(),$(ee,{key:o.item.command,class:Te(["completion-item",{selected:o.selected}]),clickable:!0,onMousedown:a[0]||(a[0]=r=>e.completionStore.executeCandidate(o.item)),onMouseover:a[1]||(a[1]=r=>e.focusCompletionCandidate(r,o.index))},{default:h(()=>[k("div",lr,[o.item.icon?(m(),$(K,{key:0,name:e.extractDynamicValue(o.item.icon),size:"sm"},null,8,["name"])):R("",!0)]),k("div",sr,[e.config.completion.showGroup?(m(),z("div",cr,"["+I(o.item.group)+"]: ",1)):R("",!0),k("div",ur,[k("div",dr,I(e.extractDynamicValue(o.item.title)||o.item.command),1)])]),k("div",null,[k("span",mr,I(e.extractDynamicValue(o.item.description)),1)])]),_:1},8,["class"])}const vr=M(ir,[["render",fr],["__file","CompletionResultItem.vue"]]),pr=L({__name:"CompletionInput",setup(t,{expose:a}){const o=ge(),{filter:e,placeholder:i}=$e(o),n=()=>{setTimeout(()=>{o.closeCompletion()},10)},r=()=>{l.value&&(e.value=l.value)},l=p(()=>!o.searchAutocompletions||!e.value?null:o.searchAutocompletions.find(_=>_.toLowerCase().includes(e.value.toLowerCase()))),u=P(null),d=()=>{var C;(C=u.value)==null||C.focus()};a({focus:d});const s={completionStore:o,filter:e,placeholder:i,closeCompletionOnBlur:n,completeSearchQuery:r,autocompletion:l,completionInput:u,focus:d};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),_r={class:"q-px-md full-width completion-input"},hr={key:0,class:"input-overflow color-secondary"},gr={class:"actions"};function br(t,a,o,e,i,n){return m(),z("div",_r,[e.autocompletion?(m(),z("div",hr,I(e.autocompletion),1)):R("",!0),f(Uo,{class:"completion-input",modelValue:e.filter,"onUpdate:modelValue":a[0]||(a[0]=r=>e.filter=r),ref:"completionInput",autofocus:!0,onBlur:e.closeCompletionOnBlur,onKeydown:Wo(ne(e.completeSearchQuery,["prevent","stop"]),["tab"]),borderless:"",placeholder:t.$t(e.placeholder)},{prepend:h(()=>[f(K,{name:"keyboard_arrow_right"})]),append:h(()=>[k("div",gr,[t.$q.platform.is.mobile&&e.autocompletion?(m(),$(K,{key:0,onClick:e.completeSearchQuery,flat:"",size:"xs",name:"fas fa-wand-magic-sparkles",class:"cursor-pointer color-secondary"})):R("",!0),t.$q.platform.is.mobile&&e.completionStore.completionMode==="input"?(m(),$(K,{key:1,onClick:e.completionStore.executeCandidate,flat:"",size:"xs",name:"send",class:"cursor-pointer color-secondary"},null,8,["onClick"])):R("",!0),f(K,{onClick:e.completionStore.closeCompletion,flat:"",name:"close",class:"cursor-pointer color-secondary"},null,8,["onClick"])])]),_:1},8,["modelValue","onKeydown","placeholder"])])}const yr=M(pr,[["render",br],["__scopeId","data-v-5ead1ce7"],["__file","CompletionInput.vue"]]),Sr=L({__name:"PreventIosTouch",setup(t,{expose:a}){a();const o=Ie();let e=0,i=0;const l={$q:o,get startY(){return e},set startY(u){e=u},get startX(){return i},set startX(u){i=u},touchStart:u=>{e=u.touches[0].clientY,i=u.touches[0].clientX},touchMove:u=>{if(Math.abs(u.changedTouches[0].clientY-e)>Math.abs(u.changedTouches[0].clientX-i)&&o.platform.is.ios&&!o.platform.is.nativeMobile){u.preventDefault();return}}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function wr(t,a,o,e,i,n){return e.$q.platform.is.mobile&&!e.$q.platform.is.nativeMobile?(m(),z("div",{key:0,onTouchmove:ne(e.touchMove,["stop"]),onTouchstart:ne(e.touchStart,["stop"]),class:"prevent-touch"},[he(t.$slots,"default",{},void 0,!0)],32)):he(t.$slots,"default",{key:1},void 0,!0)}const Jt=M(Sr,[["render",wr],["__scopeId","data-v-7afafbe1"],["__file","PreventIosTouch.vue"]]),Cr=70,xr=L({__name:"CompletionResult",setup(t,{expose:a}){a();const o=P(),e=ge(),{candidates:i,selectedIndex:n,total:r,candidateSelectedByDirection:l,completionMode:u}=$e(e),d=P(null);de(()=>setTimeout(()=>{var T;return(T=d.value)==null?void 0:T.focus()}));const s=Nt(e.search,300),C=(T,w)=>{const S=Object.freeze(new Array(w).fill(null));return s(w,T),S},_=()=>{var S;const T=bn(".completion-scroll",".completion-item.selected");if(!T)return;const w=T===-1?"end":"start";(S=o.value)==null||S.scrollTo(n.value,w)};D(()=>l.value,_);const{config:y}=et();Bt();const g={itemHeight:Cr,scrollTarget:o,completionStore:e,candidates:i,selectedIndex:n,total:r,candidateSelectedByDirection:l,completionMode:u,completionInput:d,search:s,getPagedResult:C,ensureSelectedIndexVisible:_,config:y,get QVirtualScroll(){return _n},CompletionResultItem:vr,AsyncItemContainer:hn,CompletionInp:yr,PreventIosTouch:Jt};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),Pr={class:"completion-results fit no-wrap"},kr={class:"completion-footer full-width q-px-md q-py-xs text-center"},$r={class:"text-capitalize"};function zr(t,a,o,e,i,n){return m(),z("div",Pr,[f(e.PreventIosTouch,null,{default:h(()=>[f(e.CompletionInp)]),_:1}),e.completionMode==="choice"?(m(),$(e.QVirtualScroll,{key:0,ref:"scrollTarget","items-size":e.total,"virtual-scroll-slice-size":e.config.completion.defaultCompletionLimit,"virtual-scroll-item-size":e.itemHeight,"items-fn":e.getPagedResult,"scroll-target":"scrollTarget",class:"completion-scroll full-width flex-1"},{default:h(({index:r})=>[f(e.AsyncItemContainer,{"items-list":e.candidates,index:r,height:e.itemHeight},{default:h(({item:l,index:u})=>[(m(),$(Go,null,[f(e.CompletionResultItem,{item:l,index:u,selected:u===e.selectedIndex},null,8,["item","index","selected"])],1024))]),_:2},1032,["items-list","index"])]),_:1},8,["items-size","virtual-scroll-slice-size"])):R("",!0),e.completionMode==="choice"?(m(),$(e.PreventIosTouch,{key:1},{default:h(()=>[k("div",kr,[k("span",$r,I(t.$t("items")),1),ce(": "+I(e.selectedIndex+1)+"/"+I(e.total),1)])]),_:1})):R("",!0)])}const Tr=M(xr,[["render",zr],["__file","CompletionResult.vue"]]),qr=L({__name:"CompletionPromt",setup(t,{expose:a}){a();const o=ge(),{opened:e}=$e(o),i=fn(),n={completionStore:o,opened:e,viewStore:i,CompletionResult:Tr};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function Er(t,a,o,e,i,n){return e.opened?(m(),z(ae,{key:0},[e.viewStore.completionPosition==="bottom"?(m(),$(Ko,{key:0,to:"#mini-buffer"},[f(e.CompletionResult)])):(m(),z("div",{key:1,class:Te(["completion-container",{mobile:t.$q.screen.lt.sm,choice:e.completionStore.completionMode==="choice",pwa:t.$q.platform.is.ios&&!t.$q.platform.is.nativeMobile}])},[f(e.CompletionResult)],2))],64)):R("",!0)}const Or=M(qr,[["render",Er],["__file","CompletionPromt.vue"]]),Mr=L({__name:"ConfirmationModal",setup(t,{expose:a}){a();const e={confirmationStore:Xo()};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),Ar={class:"capitalize"},Dr={class:"capitalize"};function Lr(t,a,o,e,i,n){return m(),$(jt,{modelValue:e.confirmationStore.opened,"onUpdate:modelValue":a[2]||(a[2]=r=>e.confirmationStore.opened=r),persistent:""},{default:h(()=>[f(vn,{class:"no-shadow"},{default:h(()=>[f(pn,{class:"column items-start gap-8"},{default:h(()=>[k("h5",Ar,I(t.$t(e.confirmationStore.title)),1),k("div",Dr,I(t.$t(e.confirmationStore.description)),1)]),_:1}),f(Yo,{align:"right"},{default:h(()=>[ue(f(pe,{onClick:a[0]||(a[0]=r=>e.confirmationStore.resolveConfirmation(!1)),flat:"",label:t.$t("cancel"),color:"red"},null,8,["label"]),[[yt]]),ue(f(pe,{onClick:a[1]||(a[1]=r=>e.confirmationStore.resolveConfirmation(!0)),flat:"",label:t.$t("confirm"),color:"primary"},null,8,["label"]),[[yt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Ir=M(Mr,[["render",Lr],["__file","ConfirmationModal.vue"]]),Br=L({__name:"EditorActionsToolbar",setup(t,{expose:a}){a();const o=Tt(),e=rt(),i=e.getCommandsFromGroup("editor"),n=u=>{u.handler(o.editorView)},r=P(!1);de(()=>setTimeout(()=>r.value=!0,100));const l={noteEditorStore:o,commandsStore:e,editorCommands:i,handleEditorAction:n,inited:r,get extractDynamicValue(){return Pe},PreventIosTouch:Jt};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),Rr={key:0,class:"editor-actions"},Vr=["onMousedown"];function Nr(t,a,o,e,i,n){return m(),z("div",{onTouchstart:a[0]||(a[0]=ne(()=>{},["stop"])),onMousedown:a[1]||(a[1]=ne(()=>{},["stop"]))},[f(e.PreventIosTouch,null,{default:h(()=>[e.inited?(m(),z("div",Rr,[(m(!0),z(ae,null,ze(e.editorCommands,r=>(m(),z("div",{onMousedown:ne(l=>e.handleEditorAction(r),["prevent","stop"]),key:r.command,class:"editor-action"},[f(K,{name:e.extractDynamicValue(r.icon),size:"sm"},null,8,["name"])],40,Vr))),128))])):R("",!0)]),_:1})],32)}const jr=M(Br,[["render",Nr],["__file","EditorActionsToolbar.vue"]]),Hr=L({__name:"FileUploader",props:{accept:{default:()=>["org",...yn]},multiple:{type:Boolean},directory:{type:Boolean}},emits:["uploaded","dropped"],setup(t,{expose:a,emit:o}){a();const e=t,i=o,n=g=>Array.from(g).reduce(async(T,w)=>{const S=await T,b=w.webkitGetAsEntry();if(!b)return S;if(b.isFile)return S.push(b),S;const V=await Ft(b,e.accept);return S.push(...V),S},Promise.resolve([])),{reset:r,dragLeave:l,dragOver:u,dragInProgress:d}=Jo("files"),s=async g=>{var w;i("dropped"),r(),g.preventDefault();const T=await n((w=g.dataTransfer)==null?void 0:w.items);i("uploaded",T)},C=g=>g.preventDefault(),_=()=>{window.addEventListener("dragover",C,!1),window.addEventListener("drop",C,!1)};be(()=>te(_)()),ye(te(()=>{window.removeEventListener("dragover",C),window.removeEventListener("drop",C)}));const y={props:e,emits:i,extractFiles:n,reset:r,dragLeave:l,dragOver:u,dragInProgress:d,onDrop:s,preventDefault:C,preventDragAndDrop:_};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),Fr={key:0,class:"upload-overlay fit q-p-xl"},Qr={class:"uploader-info fit flex justify-center items-center text-h1"};function Wr(t,a,o,e,i,n){return m(),z("div",{onDrop:ne(e.onDrop,["prevent"]),onDragenter:a[0]||(a[0]=ne((...r)=>e.dragOver&&e.dragOver(...r),["prevent"])),onDragleave:a[1]||(a[1]=ne((...r)=>e.dragLeave&&e.dragLeave(...r),["prevent"])),class:Te(["file-uploader",{"drag-target":e.dragInProgress}])},[e.dragInProgress?(m(),z("div",Fr,[k("div",Qr,I(t.$t("Drag&drop your notes here!")),1)])):R("",!0),he(t.$slots,"default",{},void 0,!0)],34)}const Ur=M(Hr,[["render",Wr],["__scopeId","data-v-a672239f"],["__file","FileUploader.vue"]]),Gr=L({__name:"ModalContainer",setup(t,{expose:a}){a();const o=Le(),i={modalStore:o,closeCurrentModal:()=>o.close()};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),Kr={class:"modal-container"},Xr={class:"modal-title full-width text-capitalize color-secondary text-h5"},Yr={class:"modal-content full-width"};function Jr(t,a,o,e,i,n){return m(),z("div",Kr,[f(pe,{class:"close-btn color-secondary",onClick:e.closeCurrentModal,icon:"close",flat:"",rounded:"",size:"sm"}),k("div",Xr,[he(t.$slots,"title",{},void 0,!0)]),k("div",Yr,[he(t.$slots,"content",{},void 0,!0)])])}const Zr=M(Gr,[["render",Jr],["__scopeId","data-v-7fdee433"],["__file","ModalContainer.vue"]]),ei=L({__name:"ModalWindow",setup(t,{expose:a}){a();const e={modalStore:Le(),ModalContainer:Zr};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}});function ti(t,a,o,e,i,n){return m(),$(jt,{modelValue:e.modalStore.opened,"onUpdate:modelValue":a[0]||(a[0]=r=>e.modalStore.opened=r),maximized:t.$q.screen.lt.sm},{default:h(()=>[f(e.ModalContainer,null,Zo({content:h(()=>[(m(),$(nt(e.modalStore.component)))]),_:2},[e.modalStore.title?{name:"title",fn:h(()=>[ce(I(t.$t(e.modalStore.title)),1)]),key:"0"}:void 0]),1024)]),_:1},8,["modelValue","maximized"])}const oi=M(ei,[["render",ti],["__file","ModalWindow.vue"]]),ni=me({name:"QBar",props:{...st,dense:Boolean},setup(t,{slots:a}){const{proxy:{$q:o}}=fe(),e=ct(t,o),i=p(()=>`q-bar row no-wrap items-center q-bar--${t.dense===!0?"dense":"standard"}  q-bar--${e.value===!0?"dark":"light"}`);return()=>A("div",{class:i.value,role:"toolbar"},lt(a.default))}}),ai=me({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:a,emit:o}){const{proxy:{$q:e}}=fe(),i=it(Be,oe);if(i===oe)return console.error("QHeader needs to be child of QLayout"),oe;const n=P(parseInt(t.heightHint,10)),r=P(!0),l=p(()=>t.reveal===!0||i.view.value.indexOf("H")!==-1||e.platform.is.ios&&i.isContainer.value===!0),u=p(()=>{if(t.modelValue!==!0)return 0;if(l.value===!0)return r.value===!0?n.value:0;const b=n.value-i.scroll.value.position;return b>0?b:0}),d=p(()=>t.modelValue!==!0||l.value===!0&&r.value!==!0),s=p(()=>t.modelValue===!0&&d.value===!0&&t.reveal===!0),C=p(()=>"q-header q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(d.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),_=p(()=>{const b=i.rows.value.top,V={};return b[0]==="l"&&i.left.space===!0&&(V[e.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),b[2]==="r"&&i.right.space===!0&&(V[e.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),V});function y(b,V){i.update("header",b,V)}function g(b,V){b.value!==V&&(b.value=V)}function T({height:b}){g(n,b),y("size",b)}function w(b){s.value===!0&&g(r,!0),o("focusin",b)}D(()=>t.modelValue,b=>{y("space",b),g(r,!0),i.animate()}),D(u,b=>{y("offset",b)}),D(()=>t.reveal,b=>{b===!1&&g(r,t.modelValue)}),D(r,b=>{i.animate(),o("reveal",b)}),D(i.scroll,b=>{t.reveal===!0&&g(r,b.direction==="up"||b.position<=t.revealOffset||b.position-b.inflectionPoint<100)});const S={};return i.instances.header=S,t.modelValue===!0&&y("size",n.value),y("space",t.modelValue),y("offset",u.value),ye(()=>{i.instances.header===S&&(i.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const b=en(a.default,[]);return t.elevated===!0&&b.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),b.push(A(ke,{debounce:0,onResize:T})),A("header",{class:C.value,style:_.value,onFocusin:w},b)}}}),ri=L({__name:"TheHeader",setup(t,{expose:a}){var r;a();const{close:o,minimize:e,toggleMaximize:i}=(r=window.electron)!=null?r:{},n={close:o,minimize:e,toggleMaximize:i};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function ii(t,a,o,e,i,n){return m(),$(ai,null,{default:h(()=>[t.$q.platform.is.electron?(m(),$(ni,{key:0,class:"q-electron-drag bg-alt"},{default:h(()=>[f(pe,{onClick:e.close,dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"red"},null,8,["onClick"]),f(pe,{onClick:e.minimize,dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"yellow"},null,8,["onClick"]),f(pe,{onClick:e.toggleMaximize,dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"green"},null,8,["onClick"])]),_:1})):R("",!0)]),_:1})}const li=M(ri,[["render",ii],["__file","TheHeader.vue"]]),si=L({__name:"ToolBar",setup(t,{expose:a}){a();const o=dt(),{executeCommand:e}=ut(),i={toolbarStore:o,executeCommand:e,get extractDynamicValue(){return Pe}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),ci={class:"footer-wrapper fit flex rows justify-between items-center"},ui=["onClick"];function di(t,a,o,e,i,n){return ue((m(),$(Ht,{class:"toolbar",reveal:""},{default:h(()=>[k("div",ci,[(m(!0),z(ae,null,ze(e.toolbarStore.actions,r=>(m(),z("div",{key:r.command,class:"flex toolbar-action justify-center items-center cursor-pointer",onClick:l=>e.executeCommand(r)},[f(K,{class:"color-main",name:e.extractDynamicValue(r.icon),size:"md"},null,8,["name"])],8,ui))),128))])]),_:1},512)),[[Vt,e.toolbarStore.showToolbar]])}const mi=M(si,[["render",di],["__scopeId","data-v-48b84d1a"],["__file","ToolBar.vue"]]),fi={},vi=k("div",{id:"mini-buffer"},null,-1);function pi(t,a){return m(),$(Ht,{class:"mini-buffer"},{default:h(()=>[vi]),_:1})}const _i=M(fi,[["render",pi],["__file","MiniBuffer.vue"]]),hi=L({__name:"MainLayout",setup(t,{expose:a}){a();const o=at(),e=Je(),i=p(()=>e.user);e==null||e.verifyUser();const{registerKeybindings:n}=ut();ga().register(),ln(),dn(),un(),n([{handler:()=>o.toggleWithFallback(Yt),command:"toggleActionSidePanel",keySequence:"o p",description:"Toggle left sidebar"}]);const r=tn(),l=dt(),u=Nt(te(()=>{window.scrollTo(0,0)})),{viewportHeight:d,keyboardOpened:s}=cn(w=>{l.showToolbar=!w.keyboardOpened.value,w.keyboardOpened.value?document.body.classList.add("keyboard-opened"):document.body.classList.remove("keyboard-opened"),document.body.style.height=w.viewportHeight.value+"px",w.keyboardOpened.value&&u()}),C=on();ya(w=>{w&&C.sync()});const _=tt(),{bootstrapped:y}=Sa();be(()=>{_.loadActiveExtensions(),_.loadExtensions()}),de(()=>{document.body.style.height=d.value+"px"});const g=Ze(),T={sidebarStore:o,authStore:e,user:i,registerKeybindings:n,notesImportStore:r,toolbarStore:l,alignViaVirtualkeyboard:u,viewportHeight:d,keyboardOpened:s,syncStore:C,extensionsStore:_,bootstrapped:y,route:g,LoaderSpinner:mt,ActionSidePanel:rr,CompletionPrompt:Or,ConfirmationModal:Ir,EditorActionsToolbar:jr,FileUploader:Ur,ModalWindow:oi,TheHeader:li,ToolBar:mi,MiniBuffer:_i,PageLoading:xa,get RouteNames(){return X}};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}});function gi(t,a,o,e,i,n){const r=nn("router-view");return m(),$($a,{view:"lHh Lpr lFf",style:rn({"--viewport-height":e.viewportHeight+"px",minHeight:0})},{default:h(()=>[e.bootstrapped?(m(),$(an,{key:0},{default:h(()=>[f(e.FileUploader,{class:"main-content",onUploaded:e.notesImportStore.uploadFiles},{default:h(()=>[f(e.TheHeader),t.$q.screen.gt.xs||e.sidebarStore.opened?(m(),$(e.ActionSidePanel,{key:0,"full-width":t.$q.screen.lt.sm,user:e.user},null,8,["full-width","user"])):R("",!0),ue((m(),$(Pa,{class:Te(["height-max-dynamic",{"with-composite-bar":t.$q.screen.gt.xs}])},{default:h(()=>[f(e.ModalWindow),f(e.ConfirmationModal),f(r),t.$q.screen.lt.sm&&!e.toolbarStore.showToolbar&&(e.keyboardOpened||t.$q.platform.is.desktop)&&e.route.name===e.RouteNames.RawEditor?(m(),$(e.EditorActionsToolbar,{key:0})):R("",!0)]),_:1},8,["class"])),[[Gt,e.sidebarStore.open,void 0,{mouse:!0,right:!0}]]),f(e.MiniBuffer),f(e.CompletionPrompt),t.$q.screen.lt.sm?(m(),$(e.ToolBar,{key:1})):R("",!0)]),_:1},8,["onUploaded"])]),fallback:h(()=>[f(e.LoaderSpinner)]),_:1})):(m(),$(e.PageLoading,{key:1}))]),_:1},8,["style"])}const Oi=M(hi,[["render",gi],["__scopeId","data-v-36a52769"],["__file","MainLayout.vue"]]);export{Oi as default};
