import{b as g}from"./index-D7E76tEZ.js";var M=["Shift","Meta","Alt","Control"],m=typeof navigator=="object"?navigator.platform:"",y=/Mac|iPod|iPhone|iPad/.test(m),h=y?"Meta":"Control",k=m==="Win32"?["Control","Alt"]:y?["Alt"]:[];function s(t,n){return typeof t.getModifierState=="function"&&(t.getModifierState(n)||k.includes(n)&&t.getModifierState("AltGraph"))}function C(t){return t.trim().split(" ").map(function(n){var e=n.split(/\b\+/),a=e.pop();return[e=e.map(function(i){return i==="$mod"?h:i}),a]})}function w(t,n){var e;n===void 0&&(n={});var a=(e=n.timeout)!=null?e:1e3,i=Object.keys(t).map(function(r){return[C(r),t[r]]}),o=new Map,d=null;return function(r){r instanceof KeyboardEvent&&(i.forEach(function(v){var u=v[0],b=v[1],p=o.get(u)||u;(function(l,c){return!(c[1].toUpperCase()!==l.key.toUpperCase()&&c[1]!==l.code||c[0].find(function(f){return!s(l,f)})||M.find(function(f){return!c[0].includes(f)&&c[1]!==f&&s(l,f)}))})(r,p[0])?p.length>1?o.set(u,p.slice(1)):(o.delete(u),b(r)):s(r,r.key)||o.delete(u)}),d&&clearTimeout(d),d=setTimeout(o.clear.bind(o),a))}}function A(t,n,e){var a;e===void 0&&(e={});var i=(a=e.event)!=null?a:"keydown",o=w(n,e);return t.addEventListener(i,o),function(){t.removeEventListener(i,o)}}const S=g(()=>{window.tinykeys=A});export{S as default};
