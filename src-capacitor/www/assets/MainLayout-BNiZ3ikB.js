import{q as co,l as Je,I as uo,k as Ze,J as B,R as X,s as et,K as Tt,L as ge,M as tt,N as Le,O as ot,S as mo,P as fo,r as k,T as vo,U as po,d as p,h as L,m as Ie,V as qt,X as vt,Y as _o,Z as Et,z as M,o as m,A as z,B as $,D as I,e as P,E as R,$ as ho,a0 as Pe,a1 as go,F as f,a2 as g,G as ae,a3 as ze,C as ce,a4 as Ot,a5 as Mt,a6 as bo,p as be,a7 as Te,f as nt,a8 as yo,a9 as ee,aa as _e,ab as K,ac as at,ad as So,v as te,ae as wo,af as rt,ag as Co,ah as xo,ai as de,aj as ye,ak as me,i as it,al as oe,am as Be,an as At,ao as ko,j as A,ap as lt,aq as fe,ar as $o,w as D,as as Po,at as Dt,au as zo,av as To,aw as qo,ax as Eo,ay as Qe,az as Me,aA as Lt,aB as It,aC as Oo,aD as Ce,aE as Mo,aF as Ae,aG as We,aH as pt,aI as Ue,aJ as Ao,aK as Ge,aL as st,aM as ct,aN as se,aO as Do,aP as Ke,aQ as Lo,aR as Io,aS as _t,aT as ue,aU as Bo,aV as Ro,aW as Vo,aX as No,aY as jo,aZ as ht,a_ as gt,a$ as Ho,b0 as Bt,b1 as he,b2 as De,b3 as Rt,b4 as Fo,b5 as ke,b6 as bt,b7 as ut,b8 as dt,b9 as Qo,ba as Vt,bb as Wo,bc as ne,Q as Uo,bd as Nt,be as Go,bf as Ko,bg as Xo,bh as Yo,H as pe,bi as yt,bj as jt,bk as Jo,bl as Zo,bm as en,bn as tn,bo as on,bp as nn,bq as an}from"./index-D7E76tEZ.js";import{Q as $e,a as Ht}from"./QFooter-C4bPpXcZ.js";import{g as St,s as wt,T as xe,r as rn}from"./TouchPan-Bo7bL-s6.js";import{L as mt}from"./LoaderSpinner-jPRkuO_n.js";import{R as ln,o as sn}from"./mobile-viewport-changed-DreJ1jFm.js";import{u as cn}from"./app-meta-SRpLvTI6.js";import{r as un}from"./note-detail-commands-Cccih9r4.js";import{L as dn}from"./LoginButtons-CP_u5-2I.js";import{u as mn,Q as fn,a as vn}from"./view-CdSOi7sY.js";import{Q as pn,A as _n}from"./AsyncItemContainer-BYpAPkRM.js";import{Q as hn}from"./QPage-YHCRAyud.js";import"./use-hydration-DlVtJJeb.js";function gn(t,a){const n=document.querySelector(t),e=document.querySelector(a);if(!n||!e)return 0;const i=n.getBoundingClientRect().top,o=n.getBoundingClientRect().bottom,r=e.getBoundingClientRect().top;return e.getBoundingClientRect().bottom>o?1:i>=r?-1:0}function Ye(t){const a=t.replace(/([A-Z])/g," $1");return(a.charAt(0).toUpperCase()+a.slice(1)).trim()}function Ft(t,a=[],n=[".git","node_modules","dist","build"]){const e=t.createReader();return new Promise((i,o)=>{const r=[];function l(){e.readEntries(u=>{if(!u.length){i(Promise.all(r).then(d=>d.flat(2)));return}r.push(Promise.all(u.map(d=>{const s=d.name.split(".").pop();return d.isFile&&a.includes(s)?d:d.isFile||n.includes(d.name)?[]:Ft(d,a,n)}))),l()},u=>o(u))}l()})}const bn=["ase","art","bmp","blp","cd5","cit","cpt","cr2","cut","dds","dib","djvu","egt","exif","gif","gpl","grf","icns","ico","iff","jng","jpeg","jpg","jfif","jp2","jps","lbm","max","miff","mng","msp","nef","nitf","ota","pbm","pc1","pc2","pc3","pcf","pcx","pdn","pgm","PI1","PI2","PI3","pict","pct","pnm","pns","ppm","psb","psd","pdd","psp","px","pxm","pxr","qfx","raw","rle","sct","sgi","rgb","int","bw","tga","tiff","tif","vtf","xbm","xcf","xpm","3dv","amf","ai","awg","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","gbr","odg","svg","stl","vrml","x3d","sxd","v2d","vnd","wmf","emf","art","xar","png","webp","jxr","hdp","wdp","cur","ecw","iff","lbm","liff","nrrd","pam","pcx","pgf","sgi","rgb","rgba","bw","int","inta","sid","ras","sun","tga","heic","heif"];function yn(t,...a){return!(t!=null&&t.length)||!(a!=null&&a.length)?!0:a.some(n=>n.toLowerCase().includes(t.toLowerCase().trim()))}function Sn(){const t=co(),a=Je(),n=t.getRoutes().filter(o=>{var r;return o.name&&!o.path.includes(":")&&((r=o==null?void 0:o.meta)==null?void 0:r.programmaticalNavigation)!==!1}).map(o=>{var r,l;return{command:Ye(o.name.toString()).toLocaleLowerCase(),title:Ye(o.name.toString()),description:`Open ${o.name.toString()}`,group:"navigation",icon:(l=(r=o.meta)==null?void 0:r.icon)!=null?l:"assistant_navigation",handler:()=>t.push({name:o.name})}}),e=uo(),i=Ze();return n.push({command:B.OPEN_GRAPH,title:"Graph",description:"Open Graph",group:"navigation",icon:"hub",handler:()=>t.push({name:X.UserGraph,params:{userId:a.user.id}})},{command:B.OPEN_MY_NOTES,title:"My Notes",description:"Open My Notes",group:"navigation",icon:"home",handler:()=>t.push({name:X.UserNotes,params:{userId:a.user.id}})},{command:B.OPEN_NOTE_EDITOR,group:"editor",icon:"edit",description:"edit current note",available:()=>{var r;return i.name==X.NoteDetail&&((r=e.currentNote)==null?void 0:r.isMy)},handler:()=>{var o;return t.push({name:X.RawEditor,params:{id:(o=e.currentNote)==null?void 0:o.id}})}},{command:B.OPEN_NOTE_VIEWER,description:"view current note",icon:"visibility",available:()=>[X.EditNote,X.RawEditor].includes(i.name),handler:()=>{var o;t.push({name:X.NoteDetail,params:{id:(o=e.currentNote)==null?void 0:o.id}})}}),n}function wn(){const t=et(),a=Qt(t.config),n=Tt(),e=ge(),i=tt(),o=Le(),{orgNoteApi:r}=ot(),l=Ze();return[...a,{command:B.SELECT_THEME,group:"settings",icon:"palette",description:"use one of the downloaded themes",handler:()=>{e.initNewCompletion({placeholder:"search themes",itemsGetter:u=>({result:i.themes.filter(d=>d.uploaded&&yn(u,d.manifest.name,d.manifest.description,d.manifest.category)).map(d=>({icon:"palette",title:d.manifest.name,description:d.manifest.description,commandHandler:()=>{r.ui.resetTheme(),i.enableExtension(d.manifest.name)},data:d,command:"activate theme"})),total:i.themes.length})}),e.openCompletion()}},{command:B.RESET_THEME,group:"settings",icon:"palette",handler:()=>r.ui.resetTheme()},{command:B.TOGGLE_DARK_MODE,group:"settings",icon:"dark_mode",title:()=>t.darkMode?"switch to light theme":"switch to dark theme",handler:()=>{t.setDarkMode(!t.darkMode)}},{command:B.TOGGLE_DEBUG_MODE,group:"editor",icon:"bug_report",handler:()=>n.toggleDebug(),available:()=>[X.EditNote,X.RawEditor].includes(l.name)&&t.config.common.developerMode},{command:B.SETTINGS,icon:"settings",group:"global",description:"open settings",handler:()=>o.open(mo,{title:"settings"})}]}function Qt(t,a=""){return Object.keys(t).reduce((n,e)=>{const i=t[e];return typeof i=="boolean"?n.push({command:`${a}: ${Ye(e)}`,description:`Toggle ${e}`,group:"settings",icon:"settings",handler:()=>{t[e]=!t[e]}}):i&&typeof i=="object"&&n.push(...Qt(i,e)),n},[])}typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;const Cn=()=>{};function xn(t,a,n){let e;fo(n)?e={evaluating:n}:e={};const{lazy:i=!1,evaluating:o=void 0,shallow:r=!0,onError:l=Cn}=e,u=k(!i),d=r?vo(a):k(a);let s=0;return po(async C=>{if(!u.value)return;s++;const _=s;let y=!1;o&&Promise.resolve().then(()=>{o.value=!0});try{const h=await t(T=>{C(()=>{o&&(o.value=!1),y||T()})});_===s&&(d.value=h)}catch(h){l(h)}finally{o&&_===s&&(o.value=!1),y=!0}}),i?p(()=>(u.value=!0,d.value)):d}const kn=L({__name:"DebugPage",setup(t,{expose:a}){a();const n=Ie(),e=[...Object.keys(n.platform.is).map(s=>`  ${s}: ${n.platform.is[s]}`),` standalone: ${!!window.navigator.standalone}`].join(`
`),{orgNoteApi:i}=ot(),o=i.configuration().encryption,r=()=>!o.type||o.type===vt.Disabled?"":o.type===vt.GpgPassword?`
  Password provided: ${!!o.password}`:`
  Public key provided: ${!!o.publicKey}
  Private key provided: ${!!o.privateKey}
  Passphrase provided: ${!!o.privateKeyPassphrase}`,l=async()=>{if(!n.platform.is.nativeMobile)return"";const s=await _o.getInfo();return`
Device info:
  Model: ${s.model}
  Manufacturer: ${s.manufacturer}
  ${n.platform.is.android?"SDK version: "+s.androidSDKVersion:""}
  Version: ${s.osVersion}`},u=xn(async()=>`OrgNote: ${Et}
Language: ${navigator.language}

Screen:
  Screen resolution: ${screen.width}x${screen.height}
  Screen color depth: ${screen.colorDepth}
  Device pixel ratio: ${window.devicePixelRatio}

Encryption:
  Type: ${o.type}${r()}

Env:
  API URL: https://org-note.com/api/v1
  AUTH URL: https://org-note.com
  MODE: production

Quasar info:
${e}
${await l()}`),d={$q:n,prettyQuasarPlatform:e,orgNoteApi:i,encryption:o,getEncryptionData:r,getDeviceSpecificInfo:l,systemInfo:u,CodeBlock:qt};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),$n={class:"debug-page"},Pn={class:"capitalize q-pb-md q-px-sm"},zn={class:"system-info"};function Tn(t,a,n,e,i,o){return m(),z("div",$n,[$("div",Pn,I(t.$t("this information is available only on your device. It will not be sent to the server. You are free to use it for a GitHub issue.")),1),$("div",zn,[e.systemInfo?(m(),P(e.CodeBlock,{key:0,code:e.systemInfo},null,8,["code"])):R("",!0)])])}const qn=M(kn,[["render",Tn],["__scopeId","data-v-578186e3"],["__file","DebugPage.vue"]]),En=L({__name:"LoggerPage",setup(t,{expose:a}){a();const n=ho(),{prettyLogs:e}=Pe(n),i={loggerStore:n,prettyLogs:e,ActionBtn:go,CodeBlock:qt};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),On={class:"logger-page"},Mn={class:"capitalize q-pb-md q-px-sm"},An={class:"system-info"};function Dn(t,a,n,e,i,o){return m(),z("div",On,[$("div",Mn,I(t.$t("this information is available only on your device. It will not be sent to the server. You are free to use it for a GitHub issue.")),1),$("div",An,[f(e.CodeBlock,{code:e.prettyLogs},{actions:g(()=>[f(e.ActionBtn,{onClick:e.loggerStore.clearLogs,icon:"o_delete_forever","active-icon":"done"},null,8,["onClick"])]),_:1},8,["code"])])])}const Ln=M(En,[["render",Dn],["__scopeId","data-v-bd40d508"],["__file","LoggerPage.vue"]]),In=L({__name:"AboutOrgRoamPage",setup(t,{expose:a}){a();const{loading:n,noteContent:e}=ga("/about.org"),i={loading:n,noteContent:e,LoaderSpinner:mt,RawEditor:ln};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),Bn={key:0,class:"full-height flex items-center justify-center"};function Rn(t,a,n,e,i,o){return e.loading?(m(),z("div",Bn,[f(e.LoaderSpinner)])):e.noteContent?(m(),P(e.RawEditor,{key:1,modelValue:e.noteContent,"onUpdate:modelValue":a[0]||(a[0]=r=>e.noteContent=r),readonly:!0},null,8,["modelValue"])):R("",!0)}const Vn=M(In,[["render",Rn],["__file","AboutOrgRoamPage.vue"]]),Nn={name:"AcknowledgementsPage"},jn=L({...Nn,setup(t,{expose:a}){a();const e={links:[{name:"emacs",url:"https://www.gnu.org/software/emacs/",icon:"https://www.gnu.org/software/emacs/images/emacs.png"},{name:"Org-roam",url:"https://www.orgroam.com/",icon:"https://www.orgroam.com/img/logo.png"},{name:"CodeMirror",url:"https://codemirror.net/",icon:"https://codemirror.net/style/logo.svg"},{name:"Quasar",url:"https://quasar.dev/",icon:"https://cdn.quasar.dev/logo-v2/svg/logo-dark.svg"},{name:"Cordova",url:"https://cordova.apache.org/",icon:"https://cordova.apache.org/static/img/cordova_bot.png"}]};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),Hn={class:"q-pa-md row gap-32"},Fn=["href"],Qn=["src"];function Wn(t,a,n,e,i,o){return m(),z("div",Hn,[(m(),z(ae,null,ze(e.links,r=>$("a",{key:r.name,class:"project-link flex column items-center col-1 gap-8",href:r.url,target:"_blank"},[$("img",{class:"icon",src:r.icon,alt:"codemirror logo"},null,8,Qn),ce(" "+I(r.name),1)],8,Fn)),64))])}const Un=M(jn,[["render",Wn],["__scopeId","data-v-d311d1fd"],["__file","AcknowledgementsPage.vue"]]),Gn={},Wt=t=>(Ot("data-v-51a2db48"),t=t(),Mt(),t),Kn={class:"sponsor"},Xn=Wt(()=>$("a",{href:"https://www.paypal.me/darkawower",title:"Paypal",target:"_blank",style:{"line-height":"0"}},[$("img",{class:"block",src:"https://img.shields.io/badge/paypal-donate-blue.svg",alt:"Buy Me A Coffee donate button"})],-1)),Yn=Wt(()=>$("a",{href:"https://patreon.com/artawower",_target:"blank"},[$("img",{class:"block",src:"https://img.shields.io/badge/patreon-donate-orange.svg",alt:"Patreon donate button"})],-1)),Jn=[Xn,Yn];function Zn(t,a){return m(),z("div",Kn,Jn)}const ea=M(Gn,[["render",Zn],["__scopeId","data-v-51a2db48"],["__file","DonationLinks.vue"]]),ta={name:"SponsorsPage"},oa=L({...ta,setup(t,{expose:a}){a();const n=bo();be(()=>{n.loadSponsors()});const e={sponsorsStore:n,DonationLinks:ea};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),na={class:"q-pa-md"},aa={class:"q-mb-md color-magenta"},ra={class:"few-words"},ia={class:"sponsors"},la={class:"capitalize color-secondary text-center text-italic"};function sa(t,a,n,e,i,o){return m(),z("div",na,[$("h3",aa,I(t.$t("sponsors")),1),$("div",ra,I(t.$t("sponsors.appretiate")),1),$("div",ia,[(m(!0),z(ae,null,ze(e.sponsorsStore.sponsors,r=>{var l;return m(),P(nt(r.link?"a":"p"),{href:(l=r.link)!=null?l:void 0,target:"_blank",class:Te(["sponsor color-magic",r.link?"active":""]),key:r.name},{default:g(()=>[ce(I(r.name),1)]),_:2},1032,["href","class"])}),128))]),$("div",la,I(t.$t("you name could be here")),1),f(e.DonationLinks)])}const ca=M(oa,[["render",sa],["__scopeId","data-v-e471be8a"],["__file","SponsorsPage.vue"]]),ua=L({__name:"ProjectInfo",setup(t,{expose:a}){a();const e={tabs:[{component:Vn,icon:"o_info",name:"info"},{component:Un,name:"acknowledgements",icon:"add_reaction"},{component:ca,icon:"monetization_on",name:"sponsors"}],ComponentTabs:yo};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),da={class:"project-info"};function ma(t,a,n,e,i,o){return m(),z("div",da,[f(e.ComponentTabs,{tabs:e.tabs},{"custom-tabs":g(()=>[f(ee,{href:"https://github.com/Artawower/orgnote/wiki/General",target:"_blank"},{default:g(()=>[f(_e,{avatar:t.$q.screen.gt.xs},{default:g(()=>[f(K,{name:"quiz",size:"sm"})]),_:1},8,["avatar"]),t.$q.screen.gt.xs?(m(),P(_e,{key:0},{default:g(()=>[ce(" WIKI ")]),_:1})):R("",!0)]),_:1})]),_:1})])}const fa=M(ua,[["render",ma],["__file","ProjectInfo.vue"]]);function va(){const t=Le(),a=at(),n=So();return[{command:B.REPORT_BUG,description:"report bug",group:"debug",handler:te(()=>window.open("https://github.com/Artawower/orgnote-client/issues/new/choose","_blank"))},{command:B.OPEN_DEBUG_INFO,keySequence:"Ctrl+KeyD",description:"open debug info",group:"debug",handler:()=>{t.open(qn,{title:"system info"})}},{command:B.SHOW_LOGS,keySequence:"Ctrl+KeyD",description:"show logs",group:"debug",handler:()=>{t.open(Ln,{title:"logs"})}},{command:B.TOGGLE_SIDEBAR,group:"global",icon:()=>a.opened?"arrow_circle_left":"menu",description:"toggle sidebar",handler:()=>{a.toggle()}},{command:B.TOGGLE_FILE_MANAGER,group:"global",icon:"folder",description:"toggle file manager",handler:()=>{a.toggleWithComponent(wo)}},{command:B.CREATE_NOTE,group:"global",icon:"o_add_box",handler:()=>n.createFile()},{command:B.PROJECT_INFO,icon:"o_info",description:"show project info",group:"global",handler:()=>t.open(fa)}]}function pa(){const t=ge(),a=rt(),n=Co();return[{command:B.TOGGLE_COMMANDS,keySequence:"Alt+KeyX",description:"Toggle command executor",icon:"terminal",group:"completion",allowOnInput:!0,handler:e=>{var i;t.toggleCompletion(),a.initCompletion(),(i=e==null?void 0:e.event)==null||i.preventDefault()}},{command:B.SEARCH,keySequence:"/",description:"search notes",icon:"search",group:"completion",handler:e=>{var i;n.initCompletion(),(i=e.event)==null||i.preventDefault()}},{command:B.RESTORE_COMPLETION,keySequence:"'",description:"restore last completion session",group:"completion",handler:()=>{t.restoreLastCompletionSession()}},{command:B.EXIT_COMMAND_EXECUTOR,handler:()=>{t.closeCompletion()},keySequence:"Escape",description:"Exit command executor",group:"completion",allowOnInput:!0},{command:B.NEXT_CANDIDATE,handler:()=>{t.nextCandidate()},ignorePrompt:!0,keySequence:"Control+KeyJ",description:"Next candidate",group:"completion",allowOnInput:!0},{command:B.PREV_CANDIDATE,handler:()=>{t.previousCandidate()},ignorePrompt:!0,keySequence:"Control+KeyK",description:"Previous candidate",group:"completion",allowOnInput:!0},{command:B.EXECUTE_CANDIDATE,keySequence:"Enter",description:"Execute candidate",group:"completion",allowOnInput:!0,ignorePrompt:!0,handler:()=>{t.opened&&t.executeCandidate(t.selectedCandidate)}}]}function _a(){const t=Ie();if(!t.platform.is.mobile)return[];const{orgNoteApi:a}=ot();return[{command:"select file path",description:"select file path",available:()=>t.platform.is.mobile,icon:"folder_open",group:"mobile",handler:async()=>a.fileSystem.readPath()}]}function ha(){const t=rt(),a=Sn(),n=wn(),e=va(),i=pa(),o=_a();return{register:()=>{t.register(...a,...n,...e,...i,...o)}}}const ga=t=>{const a=k(!0),n=k(null),e=async()=>{try{const i=await xo.get(t);n.value=i.data}finally{a.value=!1}};return be(async()=>{await e()}),{loading:a,noteContent:n}},ba=t=>{const a=k(window.document.hasFocus()),n=()=>{a.value=window.document.hasFocus(),t==null||t(a.value)};return de(te(()=>window.addEventListener("focus",n))),ye(te(()=>window.removeEventListener("focus",n))),{active:a}};function ya(){const t=tt(),a=k(!1);return be(async()=>{await t.loadActiveExtensions(),await t.loadExtensions(),await t.initBuiltInExtensions(),a.value=!0}),{bootstrapped:a}}const Sa=L({__name:"PageLoading",setup(t,{expose:a}){a();const n={LoaderSpinner:mt};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function wa(t,a,n,e,i,o){return m(),P(hn,{class:"center-container fit flex items-center justify-center"},{default:g(()=>[f(e.LoaderSpinner)]),_:1})}const Ca=M(Sa,[["render",wa],["__file","PageLoading.vue"]]),xa=me({name:"QPageContainer",setup(t,{slots:a}){const{proxy:{$q:n}}=fe(),e=it(Be,oe);if(e===oe)return console.error("QPageContainer needs to be child of QLayout"),oe;At(ko,!0);const i=p(()=>{const o={};return e.header.space===!0&&(o.paddingTop=`${e.header.size}px`),e.right.space===!0&&(o[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${e.right.size}px`),e.footer.space===!0&&(o.paddingBottom=`${e.footer.size}px`),e.left.space===!0&&(o[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${e.left.size}px`),o});return()=>A("div",{class:"q-page-container",style:i.value},lt(a.default))}}),{passive:Ct}=zo,ka=["both","horizontal","vertical"],Ut=me({name:"QScrollObserver",props:{axis:{type:String,validator:t=>ka.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:$o},emits:["scroll"],setup(t,{emit:a}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let e=null,i,o;D(()=>t.scrollTarget,()=>{u(),l()});function r(){e!==null&&e();const C=Math.max(0,To(i)),_=qo(i),y={top:C-n.position.top,left:_-n.position.left};if(t.axis==="vertical"&&y.top===0||t.axis==="horizontal"&&y.left===0)return;const h=Math.abs(y.top)>=Math.abs(y.left)?y.top<0?"up":"down":y.left<0?"left":"right";n.position={top:C,left:_},n.directionChanged=n.direction!==h,n.delta=y,n.directionChanged===!0&&(n.direction=h,n.inflectionPoint=n.position),a("scroll",{...n})}function l(){i=Po(o,t.scrollTarget),i.addEventListener("scroll",d,Ct),d(!0)}function u(){i!==void 0&&(i.removeEventListener("scroll",d,Ct),i=void 0)}function d(C){if(C===!0||t.debounce===0||t.debounce==="0")r();else if(e===null){const[_,y]=t.debounce?[setTimeout(r,t.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];e=()=>{y(_),e=null}}}const{proxy:s}=fe();return D(()=>s.$q.lang.rtl,r),de(()=>{o=s.$el.parentNode,l()}),ye(()=>{e!==null&&e(),u()}),Object.assign(s,{trigger:d,getPosition:()=>n}),Dt}}),$a=me({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:a,emit:n}){const{proxy:{$q:e}}=fe(),i=k(null),o=k(e.screen.height),r=k(t.container===!0?0:e.screen.width),l=k({position:0,direction:"down",inflectionPoint:0}),u=k(0),d=k(Eo.value===!0?0:Qe()),s=p(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),C=p(()=>t.container===!1?{minHeight:e.screen.height+"px"}:null),_=p(()=>d.value!==0?{[e.lang.rtl===!0?"left":"right"]:`${d.value}px`}:null),y=p(()=>d.value!==0?{[e.lang.rtl===!0?"right":"left"]:0,[e.lang.rtl===!0?"left":"right"]:`-${d.value}px`,width:`calc(100% + ${d.value}px)`}:null);function h(O){if(t.container===!0||document.qScrollPrevented!==!0){const N={position:O.position.top,direction:O.direction,directionChanged:O.directionChanged,inflectionPoint:O.inflectionPoint.top,delta:O.delta.top};l.value=N,t.onScroll!==void 0&&n("scroll",N)}}function T(O){const{height:N,width:j}=O;let H=!1;o.value!==N&&(H=!0,o.value=N,t.onScrollHeight!==void 0&&n("scrollHeight",N),S()),r.value!==j&&(H=!0,r.value=j),H===!0&&t.onResize!==void 0&&n("resize",O)}function w({height:O}){u.value!==O&&(u.value=O,S())}function S(){if(t.container===!0){const O=o.value>u.value?Qe():0;d.value!==O&&(d.value=O)}}let b=null;const V={instances:{},view:p(()=>t.view),isContainer:p(()=>t.container),rootRef:i,height:o,containerHeight:u,scrollbarWidth:d,totalWidth:p(()=>r.value+d.value),rows:p(()=>{const O=t.view.toLowerCase().split(" ");return{top:O[0].split(""),middle:O[1].split(""),bottom:O[2].split("")}}),header:Me({size:0,offset:0,space:!1}),right:Me({size:300,offset:0,space:!1}),footer:Me({size:0,offset:0,space:!1}),left:Me({size:300,offset:0,space:!1}),scroll:l,animate(){b!==null?clearTimeout(b):document.body.classList.add("q-body--layout-animate"),b=setTimeout(()=>{b=null,document.body.classList.remove("q-body--layout-animate")},155)},update(O,N,j){V[O][N]=j}};if(At(Be,V),Qe()>0){let O=function(){H=null,re.classList.remove("hide-scrollbar")},N=function(){if(H===null){if(re.scrollHeight>e.screen.height)return;re.classList.add("hide-scrollbar")}else clearTimeout(H);H=setTimeout(O,300)},j=function(Y){H!==null&&Y==="remove"&&(clearTimeout(H),O()),window[`${Y}EventListener`]("resize",N)},H=null;const re=document.body;D(()=>t.container!==!0?"add":"remove",j),t.container!==!0&&j("add"),Lt(()=>{j("remove")})}return()=>{const O=It(a.default,[A(Ut,{onScroll:h}),A($e,{onResize:T})]),N=A("div",{class:s.value,style:C.value,ref:t.container===!0?void 0:i,tabindex:-1},O);return t.container===!0?A("div",{class:"q-layout-container overflow-hidden",ref:i},[A($e,{onResize:w}),A("div",{class:"absolute-full",style:_.value},[A("div",{class:"scroll",style:y.value},[N])])]):N}}});function Pa(t){const a=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((n,e)=>{const i=parseFloat(n);i&&(a[e]=i)}),a}const Gt=Oo({name:"touch-swipe",beforeMount(t,{value:a,arg:n,modifiers:e}){if(e.mouse!==!0&&Ce.has.touch!==!0)return;const i=e.mouseCapture===!0?"Capture":"",o={handler:a,sensitivity:Pa(n),direction:St(e),noop:Dt,mouseStart(r){wt(r,o)&&Mo(r)&&(Ae(o,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(r,!0))},touchStart(r){if(wt(r,o)){const l=r.target;Ae(o,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),o.start(r)}},start(r,l){Ce.is.firefox===!0&&We(t,!0);const u=pt(r);o.event={x:u.left,y:u.top,time:Date.now(),mouse:l===!0,dir:!1}},move(r){if(o.event===void 0)return;if(o.event.dir!==!1){Ue(r);return}const l=Date.now()-o.event.time;if(l===0)return;const u=pt(r),d=u.left-o.event.x,s=Math.abs(d),C=u.top-o.event.y,_=Math.abs(C);if(o.event.mouse!==!0){if(s<o.sensitivity[1]&&_<o.sensitivity[1]){o.end(r);return}}else if(window.getSelection().toString()!==""){o.end(r);return}else if(s<o.sensitivity[2]&&_<o.sensitivity[2])return;const y=s/l,h=_/l;o.direction.vertical===!0&&s<_&&s<100&&h>o.sensitivity[0]&&(o.event.dir=C<0?"up":"down"),o.direction.horizontal===!0&&s>_&&_<100&&y>o.sensitivity[0]&&(o.event.dir=d<0?"left":"right"),o.direction.up===!0&&s<_&&C<0&&s<100&&h>o.sensitivity[0]&&(o.event.dir="up"),o.direction.down===!0&&s<_&&C>0&&s<100&&h>o.sensitivity[0]&&(o.event.dir="down"),o.direction.left===!0&&s>_&&d<0&&_<100&&y>o.sensitivity[0]&&(o.event.dir="left"),o.direction.right===!0&&s>_&&d>0&&_<100&&y>o.sensitivity[0]&&(o.event.dir="right"),o.event.dir!==!1?(Ue(r),o.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ao(),o.styleCleanup=T=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const w=()=>{document.body.classList.remove("no-pointer-events--children")};T===!0?setTimeout(w,50):w()}),o.handler({evt:r,touch:o.event.mouse!==!0,mouse:o.event.mouse,direction:o.event.dir,duration:l,distance:{x:s,y:_}})):o.end(r)},end(r){o.event!==void 0&&(Ge(o,"temp"),Ce.is.firefox===!0&&We(t,!1),o.styleCleanup!==void 0&&o.styleCleanup(!0),r!==void 0&&o.event.dir!==!1&&Ue(r),o.event=void 0)}};if(t.__qtouchswipe=o,e.mouse===!0){const r=e.mouseCapture===!0||e.mousecapture===!0?"Capture":"";Ae(o,"main",[[t,"mousedown","mouseStart",`passive${r}`]])}Ce.has.touch===!0&&Ae(o,"main",[[t,"touchstart","touchStart",`passive${e.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,a){const n=t.__qtouchswipe;n!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&n.end(),n.handler=a.value),n.direction=St(a.modifiers))},beforeUnmount(t){const a=t.__qtouchswipe;a!==void 0&&(Ge(a,"main"),Ge(a,"temp"),Ce.is.firefox===!0&&We(t,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete t.__qtouchswipe)}}),xt=["vertical","horizontal"],Xe={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},kt={prevent:!0,mouse:!0,mouseAllDir:!0},$t=t=>t>=250?50:Math.ceil(t/5),Kt=me({name:"QScrollArea",props:{...st,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(t,{slots:a,emit:n}){const e=k(!1),i=k(!1),o=k(!1),r={vertical:k(0),horizontal:k(0)},l={vertical:{ref:k(null),position:k(0),size:k(0)},horizontal:{ref:k(null),position:k(0),size:k(0)}},{proxy:u}=fe(),d=ct(t,u.$q);let s=null,C;const _=k(null),y=p(()=>"q-scrollarea"+(d.value===!0?" q-scrollarea--dark":""));l.vertical.percentage=p(()=>{const v=l.vertical.size.value-r.vertical.value;if(v<=0)return 0;const x=se(l.vertical.position.value/v,0,1);return Math.round(x*1e4)/1e4}),l.vertical.thumbHidden=p(()=>(t.visible===null?o.value:t.visible)!==!0&&e.value===!1&&i.value===!1||l.vertical.size.value<=r.vertical.value+1),l.vertical.thumbStart=p(()=>l.vertical.percentage.value*(r.vertical.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=p(()=>Math.round(se(r.vertical.value*r.vertical.value/l.vertical.size.value,$t(r.vertical.value),r.vertical.value))),l.vertical.style=p(()=>({...t.thumbStyle,...t.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`})),l.vertical.thumbClass=p(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=p(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=p(()=>{const v=l.horizontal.size.value-r.horizontal.value;if(v<=0)return 0;const x=se(Math.abs(l.horizontal.position.value)/v,0,1);return Math.round(x*1e4)/1e4}),l.horizontal.thumbHidden=p(()=>(t.visible===null?o.value:t.visible)!==!0&&e.value===!1&&i.value===!1||l.horizontal.size.value<=r.horizontal.value+1),l.horizontal.thumbStart=p(()=>l.horizontal.percentage.value*(r.horizontal.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=p(()=>Math.round(se(r.horizontal.value*r.horizontal.value/l.horizontal.size.value,$t(r.horizontal.value),r.horizontal.value))),l.horizontal.style=p(()=>({...t.thumbStyle,...t.horizontalThumbStyle,[u.$q.lang.rtl===!0?"right":"left"]:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`})),l.horizontal.thumbClass=p(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=p(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const h=p(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?t.contentStyle:t.contentActiveStyle),T=[[xe,v=>{H(v,"vertical")},void 0,{vertical:!0,...kt}]],w=[[xe,v=>{H(v,"horizontal")},void 0,{horizontal:!0,...kt}]];function S(){const v={};return xt.forEach(x=>{const E=l[x];v[x+"Position"]=E.position.value,v[x+"Percentage"]=E.percentage.value,v[x+"Size"]=E.size.value,v[x+"ContainerSize"]=r[x].value}),v}const b=Do(()=>{const v=S();v.ref=u,n("scroll",v)},0);function V(v,x,E){if(xt.includes(v)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(v==="vertical"?_t:Ke)(_.value,x,E)}function O({height:v,width:x}){let E=!1;r.vertical.value!==v&&(r.vertical.value=v,E=!0),r.horizontal.value!==x&&(r.horizontal.value=x,E=!0),E===!0&&G()}function N({position:v}){let x=!1;l.vertical.position.value!==v.top&&(l.vertical.position.value=v.top,x=!0),l.horizontal.position.value!==v.left&&(l.horizontal.position.value=v.left,x=!0),x===!0&&G()}function j({height:v,width:x}){l.horizontal.size.value!==x&&(l.horizontal.size.value=x,G()),l.vertical.size.value!==v&&(l.vertical.size.value=v,G())}function H(v,x){const E=l[x];if(v.isFirst===!0){if(E.thumbHidden.value===!0)return;C=E.position.value,i.value=!0}else if(i.value!==!0)return;v.isFinal===!0&&(i.value=!1);const Z=Xe[x],ve=r[x].value,Re=(E.size.value-ve)/(ve-E.thumbSize.value),Ee=v.distance[Z.dist],Ve=C+(v.direction===Z.dir?1:-1)*Ee*Re;Se(Ve,x)}function re(v,x){const E=l[x];if(E.thumbHidden.value!==!0){const Z=v[Xe[x].offset];if(Z<E.thumbStart.value||Z>E.thumbStart.value+E.thumbSize.value){const ve=Z-E.thumbSize.value/2;Se(ve/r[x].value*E.size.value,x)}E.ref.value!==null&&E.ref.value.dispatchEvent(new MouseEvent(v.type,v))}}function Y(v){re(v,"vertical")}function U(v){re(v,"horizontal")}function G(){e.value=!0,s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,e.value=!1},t.delay),t.onScroll!==void 0&&b()}function Se(v,x){_.value[Xe[x].scroll]=v}let F=null;function we(){F!==null&&clearTimeout(F),F=setTimeout(()=>{F=null,o.value=!0},u.$q.platform.is.ios?50:0)}function qe(){F!==null&&(clearTimeout(F),F=null),o.value=!1}let J=null;return D(()=>u.$q.lang.rtl,v=>{_.value!==null&&Ke(_.value,Math.abs(l.horizontal.position.value)*(v===!0?-1:1))}),Lo(()=>{J={top:l.vertical.position.value,left:l.horizontal.position.value}}),Io(()=>{if(J===null)return;const v=_.value;v!==null&&(Ke(v,J.left),_t(v,J.top))}),ye(b.cancel),Object.assign(u,{getScrollTarget:()=>_.value,getScroll:S,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:V,setScrollPercentage(v,x,E){V(v,x*(l[v].size.value-r[v].value)*(v==="horizontal"&&u.$q.lang.rtl===!0?-1:1),E)}}),()=>A("div",{class:y.value,onMouseenter:we,onMouseleave:qe},[A("div",{ref:_,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:t.tabindex!==void 0?t.tabindex:void 0},[A("div",{class:"q-scrollarea__content absolute",style:h.value},It(a.default,[A($e,{debounce:0,onResize:j})])),A(Ut,{axis:"both",onScroll:N})]),A($e,{debounce:0,onResize:O}),A("div",{class:l.vertical.barClass.value,style:[t.barStyle,t.verticalBarStyle],"aria-hidden":"true",onMousedown:Y}),A("div",{class:l.horizontal.barClass.value,style:[t.barStyle,t.horizontalBarStyle],"aria-hidden":"true",onMousedown:U}),ue(A("div",{ref:l.vertical.ref,class:l.vertical.thumbClass.value,style:l.vertical.style.value,"aria-hidden":"true"}),T),ue(A("div",{ref:l.horizontal.ref,class:l.horizontal.thumbClass.value,style:l.horizontal.style.value,"aria-hidden":"true"}),w)])}}),Pt=150,zt=me({name:"QDrawer",inheritAttrs:!1,props:{...Bo,...st,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ro,"onLayout","miniState"],setup(t,{slots:a,emit:n,attrs:e}){const i=fe(),{proxy:{$q:o}}=i,r=ct(t,o),{preventBodyScroll:l}=Ho(),{registerTimeout:u,removeTimeout:d}=Vo(),s=it(Be,oe);if(s===oe)return console.error("QDrawer needs to be child of QLayout"),oe;let C,_=null,y;const h=k(t.behavior==="mobile"||t.behavior!=="desktop"&&s.totalWidth.value<=t.breakpoint),T=p(()=>t.mini===!0&&h.value!==!0),w=p(()=>T.value===!0?t.miniWidth:t.width),S=k(t.showIfAbove===!0&&h.value===!1?!0:t.modelValue===!0),b=p(()=>t.persistent!==!0&&(h.value===!0||Z.value===!0));function V(c,q){if(H(),c!==!1&&s.animate(),W(0),h.value===!0){const Q=s.instances[J.value];Q!==void 0&&Q.belowBreakpoint===!0&&Q.hide(!1),ie(1),s.isContainer.value!==!0&&l(!0)}else ie(0),c!==!1&&je(!1);u(()=>{c!==!1&&je(!0),q!==!0&&n("show",c)},Pt)}function O(c,q){re(),c!==!1&&s.animate(),ie(0),W(G.value*w.value),He(),q!==!0?u(()=>{n("hide",c)},Pt):d()}const{show:N,hide:j}=No({showing:S,hideOnRouteChange:b,handleShow:V,handleHide:O}),{addToHistory:H,removeFromHistory:re}=jo(S,j,b),Y={belowBreakpoint:h,hide:j},U=p(()=>t.side==="right"),G=p(()=>(o.lang.rtl===!0?-1:1)*(U.value===!0?1:-1)),Se=k(0),F=k(!1),we=k(!1),qe=k(w.value*G.value),J=p(()=>U.value===!0?"left":"right"),v=p(()=>S.value===!0&&h.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:w.value:0),x=p(()=>t.overlay===!0||t.miniToOverlay===!0||s.view.value.indexOf(U.value?"R":"L")!==-1||o.platform.is.ios===!0&&s.isContainer.value===!0),E=p(()=>t.overlay===!1&&S.value===!0&&h.value===!1),Z=p(()=>t.overlay===!0&&S.value===!0&&h.value===!1),ve=p(()=>"fullscreen q-drawer__backdrop"+(S.value===!1&&F.value===!1?" hidden":"")),Re=p(()=>({backgroundColor:`rgba(0,0,0,${Se.value*.4})`})),Ee=p(()=>U.value===!0?s.rows.value.top[2]==="r":s.rows.value.top[0]==="l"),Ve=p(()=>U.value===!0?s.rows.value.bottom[2]==="r":s.rows.value.bottom[0]==="l"),Zt=p(()=>{const c={};return s.header.space===!0&&Ee.value===!1&&(x.value===!0?c.top=`${s.header.offset}px`:s.header.space===!0&&(c.top=`${s.header.size}px`)),s.footer.space===!0&&Ve.value===!1&&(x.value===!0?c.bottom=`${s.footer.offset}px`:s.footer.space===!0&&(c.bottom=`${s.footer.size}px`)),c}),eo=p(()=>{const c={width:`${w.value}px`,transform:`translateX(${qe.value}px)`};return h.value===!0?c:Object.assign(c,Zt.value)}),to=p(()=>"q-drawer__content fit "+(s.isContainer.value!==!0?"scroll":"overflow-auto")),oo=p(()=>`q-drawer q-drawer--${t.side}`+(we.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(r.value===!0?" q-drawer--dark q-dark":"")+(F.value===!0?" no-transition":S.value===!0?"":" q-layout--prevent-focus")+(h.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${T.value===!0?"mini":"standard"}`+(x.value===!0||E.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(Ee.value===!0?" q-drawer--top-padding":""))),no=p(()=>{const c=o.lang.rtl===!0?t.side:J.value;return[[xe,lo,void 0,{[c]:!0,mouse:!0}]]}),ao=p(()=>{const c=o.lang.rtl===!0?J.value:t.side;return[[xe,ft,void 0,{[c]:!0,mouse:!0}]]}),ro=p(()=>{const c=o.lang.rtl===!0?J.value:t.side;return[[xe,ft,void 0,{[c]:!0,mouse:!0,mouseAllDir:!0}]]});function Ne(){so(h,t.behavior==="mobile"||t.behavior!=="desktop"&&s.totalWidth.value<=t.breakpoint)}D(h,c=>{c===!0?(C=S.value,S.value===!0&&j(!1)):t.overlay===!1&&t.behavior!=="mobile"&&C!==!1&&(S.value===!0?(W(0),ie(0),He()):N(!1))}),D(()=>t.side,(c,q)=>{s.instances[q]===Y&&(s.instances[q]=void 0,s[q].space=!1,s[q].offset=0),s.instances[c]=Y,s[c].size=w.value,s[c].space=E.value,s[c].offset=v.value}),D(s.totalWidth,()=>{(s.isContainer.value===!0||document.qScrollPrevented!==!0)&&Ne()}),D(()=>t.behavior+t.breakpoint,Ne),D(s.isContainer,c=>{S.value===!0&&l(c!==!0),c===!0&&Ne()}),D(s.scrollbarWidth,()=>{W(S.value===!0?0:void 0)}),D(v,c=>{le("offset",c)}),D(E,c=>{n("onLayout",c),le("space",c)}),D(U,()=>{W()}),D(w,c=>{W(),Fe(t.miniToOverlay,c)}),D(()=>t.miniToOverlay,c=>{Fe(c,w.value)}),D(()=>o.lang.rtl,()=>{W()}),D(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(io(),s.animate())}),D(T,c=>{n("miniState",c)});function W(c){c===void 0?ht(()=>{c=S.value===!0?0:w.value,W(G.value*c)}):(s.isContainer.value===!0&&U.value===!0&&(h.value===!0||Math.abs(c)===w.value)&&(c+=G.value*s.scrollbarWidth.value),qe.value=c)}function ie(c){Se.value=c}function je(c){const q=c===!0?"remove":s.isContainer.value!==!0?"add":"";q!==""&&document.body.classList[q]("q-body--drawer-toggle")}function io(){_!==null&&clearTimeout(_),i.proxy&&i.proxy.$el&&i.proxy.$el.classList.add("q-drawer--mini-animate"),we.value=!0,_=setTimeout(()=>{_=null,we.value=!1,i&&i.proxy&&i.proxy.$el&&i.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function lo(c){if(S.value!==!1)return;const q=w.value,Q=se(c.distance.x,0,q);if(c.isFinal===!0){Q>=Math.min(75,q)===!0?N():(s.animate(),ie(0),W(G.value*q)),F.value=!1;return}W((o.lang.rtl===!0?U.value!==!0:U.value)?Math.max(q-Q,0):Math.min(0,Q-q)),ie(se(Q/q,0,1)),c.isFirst===!0&&(F.value=!0)}function ft(c){if(S.value!==!0)return;const q=w.value,Q=c.direction===t.side,Oe=(o.lang.rtl===!0?Q!==!0:Q)?se(c.distance.x,0,q):0;if(c.isFinal===!0){Math.abs(Oe)<Math.min(75,q)===!0?(s.animate(),ie(1),W(0)):j(),F.value=!1;return}W(G.value*Oe),ie(se(1-Oe/q,0,1)),c.isFirst===!0&&(F.value=!0)}function He(){l(!1),je(!0)}function le(c,q){s.update(t.side,c,q)}function so(c,q){c.value!==q&&(c.value=q)}function Fe(c,q){le("size",c===!0?t.miniWidth:q)}return s.instances[t.side]=Y,Fe(t.miniToOverlay,w.value),le("space",E.value),le("offset",v.value),t.showIfAbove===!0&&t.modelValue!==!0&&S.value===!0&&t["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),de(()=>{n("onLayout",E.value),n("miniState",T.value),C=t.showIfAbove===!0;const c=()=>{(S.value===!0?V:O)(!1,!0)};if(s.totalWidth.value!==0){ht(c);return}y=D(s.totalWidth,()=>{y(),y=void 0,S.value===!1&&t.showIfAbove===!0&&h.value===!1?N(!1):c()})}),ye(()=>{y!==void 0&&y(),_!==null&&(clearTimeout(_),_=null),S.value===!0&&He(),s.instances[t.side]===Y&&(s.instances[t.side]=void 0,le("size",0),le("offset",0),le("space",!1))}),()=>{const c=[];h.value===!0&&(t.noSwipeOpen===!1&&c.push(ue(A("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),no.value)),c.push(gt("div",{ref:"backdrop",class:ve.value,style:Re.value,"aria-hidden":"true",onClick:j},void 0,"backdrop",t.noSwipeBackdrop!==!0&&S.value===!0,()=>ro.value)));const q=T.value===!0&&a.mini!==void 0,Q=[A("div",{...e,key:""+q,class:[to.value,e.class]},q===!0?a.mini():lt(a.default))];return t.elevated===!0&&S.value===!0&&Q.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),c.push(gt("aside",{ref:"content",class:oo.value,style:eo.value},Q,"contentclose",t.noSwipeClose!==!0&&h.value===!0,()=>ao.value)),A("div",{class:"q-drawer-container"},c)}}}),za=L({__name:"ActionPaneWrapper",setup(t,{expose:a}){a(),Bt();const n={};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function Ta(t,a,n,e,i,o){return he(t.$slots,"default")}const qa=M(za,[["render",Ta],["__file","ActionPaneWrapper.vue"]]),Ea="https://play.google.com/store/apps/details?id=org.note.app",Oa=L({__name:"DownloadLinks",setup(t,{expose:a}){a();const n={apkUrl:Ea};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),Ma=""+new URL("google-play-DhjbdeBv.svg",import.meta.url).href,Aa={class:"download-links"},Da=$("img",{src:Ma,height:"26"},null,-1),La=[Da];function Ia(t,a,n,e,i,o){return m(),z("div",Aa,[!t.$q.platform.is.nativeMobile&&!t.$q.platform.is.ios?(m(),z("a",{key:0,href:e.apkUrl,target:"_blank"},La)):R("",!0)])}const Ba=M(Oa,[["render",Ia],["__file","DownloadLinks.vue"]]),Ra={};function Va(t,a){return" Share your knowledge. It is a way to achieve immortality (Dalai Lama) "}const Na=M(Ra,[["render",Va],["__file","RandomQuote.vue"]]),ja=L({__name:"ProfileSideBar",setup(t,{expose:a}){a();const n=Je(),{user:e}=Pe(n),r={authStore:n,user:e,openProfile:()=>{window.open(e.value.profileUrl,"_blank")},logout:()=>n.logout(),get version(){return Et},DownloadLinks:Ba,LoginButtons:dn,RandomQuote:Na};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Xt=t=>(Ot("data-v-3da7bda4"),t=t(),Mt(),t),Ha={key:0,src:"/icons/unicorn.png"},Fa=["src"],Qa={class:"text-center q-mt-lg"},Wa={class:"text-center subtitle text-weight-light text-italic"},Ua=Xt(()=>$("br",null,null,-1)),Ga={class:"text-center subtitle text-weight-light text-italic"},Ka={class:"text-center q-mt-lg full-width"},Xa=Xt(()=>$("span",{class:"text-weight-light text-caption"}," (beta)",-1));function Ya(t,a,n,e,i,o){return m(),P(Kt,{class:"fit"},{default:g(()=>[f(De,null,{default:g(()=>[e.user?(m(),P(ee,{key:0,clickable:"",class:"column justify-center avatar-item color-main",onClick:e.openProfile},{default:g(()=>[f(Rt,{size:"160px",class:"q-mx-auto q-pt-xs"},{default:g(()=>[e.user.isAnonymous?(m(),z("img",Ha)):(m(),z("img",{key:1,src:e.user.avatarUrl},null,8,Fa))]),_:1}),$("div",Qa,I(e.user.nickName),1),$("div",Wa,I(e.user.email),1),Ua,$("div",Ga,[f(e.RandomQuote)])]),_:1})):R("",!0),e.user.isAnonymous?(m(),z(ae,{key:1},[f(ee,null,{default:g(()=>[$("div",Ka,I(t.$t("login to create your first note")),1)]),_:1}),f(e.LoginButtons)],64)):(m(),P(ee,{key:2,onClick:e.logout,clickable:""},{default:g(()=>[f(_e,{avatar:""},{default:g(()=>[f(K,{name:"logout"})]),_:1}),f(_e,{class:"text-capitalize"},{default:g(()=>[ce(I(t.$t("logout")),1)]),_:1})]),_:1}))]),_:1}),f(De,null,{default:g(()=>[f(ee,{class:"text-italic flex-center"},{default:g(()=>[ce(I(e.version)+" ",1),Xa]),_:1}),f(ee,null,{default:g(()=>[f(e.DownloadLinks)]),_:1})]),_:1})]),_:1})}const Yt=M(ja,[["render",Ya],["__scopeId","data-v-3da7bda4"],["__file","ProfileSideBar.vue"]]),Ja=L({__name:"SidePanelItems",props:{items:{}},emits:["executeAction"],setup(t,{expose:a,emit:n}){a();const e=n,{t:i}=Fo(),r={emits:e,t:i,getTitle:l=>l.title?i(`${ke(l.title)}`):"",get extractDynamicValue(){return ke}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function Za(t,a,n,e,i,o){return m(!0),z(ae,null,ze(n.items,r=>(m(),z(ae,{key:r.command},[r.available()?(m(),P(ee,{key:0,clickable:"",onClick:l=>e.emits("executeAction",r)},{default:g(()=>[f(_e,{avatar:""},{default:g(()=>[f(K,{name:e.extractDynamicValue(r.icon)},null,8,["name"])]),_:2},1024),f(_e,null,{default:g(()=>[ce(I(e.getTitle(r)),1)]),_:2},1024)]),_:2},1032,["onClick"])):R("",!0)],64))),128)}const er=M(Ja,[["render",Za],["__file","SidePanelItems.vue"]]),tr=L({__name:"ActionSidePanel",props:{user:{},fullWidth:{type:Boolean}},setup(t,{expose:a}){var S;a();const n=t,e=bt(n,"user"),i=bt(n,"fullWidth"),o=k(!0),r=at(),{executeCommand:l}=ut(),u=()=>{i.value&&r.close()},d=k(window.innerWidth),s=te(()=>{d.value=window.innerWidth}),C=()=>{i.value&&r.open()};be(()=>C()),de(te(()=>window.addEventListener("resize",s))),Lt(te(()=>window.removeEventListener("resize",s)));const _=p(()=>i.value?d.value:360),y=dt(),h=b=>{l(b)},T=Ie();T.platform.is.ios&&((S=document.activeElement)==null||S.blur());const w={props:n,user:e,fullWidth:i,compositeOpened:o,sidebarStore:r,executeCommand:l,closeSideBarForMobile:u,windowWidth:d,setupWindowWidth:s,showSidebarForSmalDevice:C,drawerWidth:_,toolbarStore:y,executeActionHandler:h,$q:T,get getNumericCssVar(){return Qo},ActionPaneWrapper:qa,ProfileSideBar:Yt,SidePanelItems:er};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),or=["src"];function nr(t,a,n,e,i,o){return m(),z(ae,null,[f(zt,{class:"composite-bar top-offset","show-if-above":"",mini:!0,modelValue:e.compositeOpened,"onUpdate:modelValue":a[1]||(a[1]=r=>e.compositeOpened=r),breakpoint:0,overlay:e.fullWidth,"no-swipe-backdrop":""},{default:g(()=>[f(Kt,{class:"fit q-pt-xs"},{default:g(()=>[f(De,{class:"side-panel-actions"},{default:g(()=>[f(ee,{onClick:a[0]||(a[0]=r=>e.sidebarStore.toggleWithComponent(e.ProfileSideBar)),clickable:"",class:"flex items-center justify-center"},{default:g(()=>[f(Rt,{size:"24px",class:"profile-icon"},{default:g(()=>{var r;return[(r=e.user)!=null&&r.avatarUrl?(m(),z("img",{key:0,src:e.user.avatarUrl},null,8,or)):(m(),P(K,{key:1,name:"account_circle",size:"sm"}))]}),_:1})]),_:1}),f(e.SidePanelItems,{items:e.toolbarStore.toolbarActions,onExecuteAction:e.executeActionHandler},null,8,["items"])]),_:1}),f(De,{class:"side-panel-actions"},{default:g(()=>[f(e.SidePanelItems,{items:e.toolbarStore.systemActions,onExecuteAction:e.executeActionHandler},null,8,["items"])]),_:1})]),_:1})]),_:1},8,["modelValue","overlay"]),ue((m(),P(zt,{class:"main-sidebar top-offset",width:e.drawerWidth-e.getNumericCssVar("sidebar-width"),overlay:e.fullWidth,breakpoint:0,"no-swipe-backdrop":"",modelValue:e.sidebarStore.opened,"onUpdate:modelValue":a[2]||(a[2]=r=>e.sidebarStore.opened=r)},{default:g(()=>[f(e.ActionPaneWrapper,null,{default:g(()=>[(m(),P(nt(e.sidebarStore.component)))]),_:1})]),_:1},8,["width","overlay","modelValue"])),[[Vt,e.sidebarStore.opened],[Gt,e.closeSideBarForMobile,void 0,{mouse:!0,left:!0}]])],64)}const ar=M(tr,[["render",nr],["__file","ActionSidePanel.vue"]]),rr=L({__name:"CompletionResultItem",props:{item:{},selected:{type:Boolean},index:{}},setup(t,{expose:a}){a();const n=ge(),{config:e}=et();let i=[0,0];const r={completionStore:n,config:e,get lastCoords(){return i},set lastCoords(l){i=l},focusCompletionCandidate:(l,u)=>{(i[0]!==l.clientX||i[1]!==l.clientY)&&(i=[l.clientX,l.clientY],n.focusCandidate(u))},get extractDynamicValue(){return ke}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),ir={class:"icon"},lr={class:"text-bold flex flex-start no-wrap gap-4 color-main"},sr={key:0},cr={class:"line-limit-1"},ur={class:"capitalize"},dr={class:"text-italic color-secondary line-limit-1"};function mr(t,a,n,e,i,o){return m(),P(ee,{key:n.item.command,class:Te(["completion-item",{selected:n.selected}]),clickable:!0,onMousedown:a[0]||(a[0]=r=>e.completionStore.executeCandidate(n.item)),onMouseover:a[1]||(a[1]=r=>e.focusCompletionCandidate(r,n.index))},{default:g(()=>{var r;return[$("div",ir,[n.item.icon?(m(),P(K,{key:0,name:e.extractDynamicValue(n.item.icon),size:"sm"},null,8,["name"])):R("",!0)]),$("div",lr,[e.config.completion.showGroup?(m(),z("div",sr,"["+I(n.item.group)+"]: ",1)):R("",!0),$("div",cr,[$("div",ur,I((r=e.extractDynamicValue(n.item.title))!=null?r:n.item.command),1)])]),$("div",null,[$("span",dr,I(n.item.description),1)])]}),_:1},8,["class"])}const fr=M(rr,[["render",mr],["__file","CompletionResultItem.vue"]]),vr=L({__name:"CompletionInput",setup(t,{expose:a}){const n=ge(),{filter:e,placeholder:i}=Pe(n),o=()=>{setTimeout(()=>{n.closeCompletion()},10)},r=()=>{l.value&&(e.value=l.value)},l=p(()=>!n.searchAutocompletions||!e.value?null:n.searchAutocompletions.find(_=>_.toLowerCase().includes(e.value.toLowerCase()))),u=k(null),d=()=>{var C;(C=u.value)==null||C.focus()};a({focus:d});const s={completionStore:n,filter:e,placeholder:i,closeCompletionOnBlur:o,completeSearchQuery:r,autocompletion:l,completionInput:u,focus:d};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),pr={class:"q-px-md full-width completion-input"},_r={key:0,class:"input-overflow color-secondary"},hr={class:"actions"};function gr(t,a,n,e,i,o){return m(),z("div",pr,[e.autocompletion?(m(),z("div",_r,I(e.autocompletion),1)):R("",!0),f(Uo,{class:"completion-input",modelValue:e.filter,"onUpdate:modelValue":a[0]||(a[0]=r=>e.filter=r),ref:"completionInput",autofocus:!0,onBlur:e.closeCompletionOnBlur,onKeydown:Wo(ne(e.completeSearchQuery,["prevent","stop"]),["tab"]),borderless:"",placeholder:t.$t(e.placeholder)},{prepend:g(()=>[f(K,{name:"keyboard_arrow_right"})]),append:g(()=>[$("div",hr,[t.$q.platform.is.mobile&&e.autocompletion?(m(),P(K,{key:0,onClick:e.completeSearchQuery,flat:"",size:"xs",name:"fas fa-wand-magic-sparkles",class:"cursor-pointer color-secondary"})):R("",!0),t.$q.platform.is.mobile&&e.completionStore.completionMode==="input"?(m(),P(K,{key:1,onClick:e.completionStore.executeCandidate,flat:"",size:"xs",name:"send",class:"cursor-pointer color-secondary"},null,8,["onClick"])):R("",!0),f(K,{onClick:e.completionStore.closeCompletion,flat:"",name:"close",class:"cursor-pointer color-secondary"},null,8,["onClick"])])]),_:1},8,["modelValue","onKeydown","placeholder"])])}const br=M(vr,[["render",gr],["__scopeId","data-v-5ead1ce7"],["__file","CompletionInput.vue"]]),yr=L({__name:"PreventIosTouch",setup(t,{expose:a}){a();const n=Ie();let e=0,i=0;const l={$q:n,get startY(){return e},set startY(u){e=u},get startX(){return i},set startX(u){i=u},touchStart:u=>{e=u.touches[0].clientY,i=u.touches[0].clientX},touchMove:u=>{if(Math.abs(u.changedTouches[0].clientY-e)>Math.abs(u.changedTouches[0].clientX-i)&&n.platform.is.ios&&!n.platform.is.nativeMobile){u.preventDefault();return}}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function Sr(t,a,n,e,i,o){return e.$q.platform.is.mobile&&!e.$q.platform.is.nativeMobile?(m(),z("div",{key:0,onTouchmove:ne(e.touchMove,["stop"]),onTouchstart:ne(e.touchStart,["stop"]),class:"prevent-touch"},[he(t.$slots,"default",{},void 0,!0)],32)):he(t.$slots,"default",{key:1},void 0,!0)}const Jt=M(yr,[["render",Sr],["__scopeId","data-v-7afafbe1"],["__file","PreventIosTouch.vue"]]),wr=70,Cr=L({__name:"CompletionResult",setup(t,{expose:a}){a();const n=k(),e=ge(),{candidates:i,selectedIndex:o,total:r,candidateSelectedByDirection:l,completionMode:u}=Pe(e),d=k(null);de(()=>setTimeout(()=>{var T;return(T=d.value)==null?void 0:T.focus()}));const s=Nt(e.search,300),C=(T,w)=>{const S=Object.freeze(new Array(w).fill(null));return s(w,T),S},_=()=>{var S;const T=gn(".completion-scroll",".completion-item.selected");if(!T)return;const w=T===-1?"end":"start";(S=n.value)==null||S.scrollTo(o.value,w)};D(()=>l.value,_);const{config:y}=et();Bt();const h={itemHeight:wr,scrollTarget:n,completionStore:e,candidates:i,selectedIndex:o,total:r,candidateSelectedByDirection:l,completionMode:u,completionInput:d,search:s,getPagedResult:C,ensureSelectedIndexVisible:_,config:y,get QVirtualScroll(){return pn},CompletionResultItem:fr,AsyncItemContainer:_n,CompletionInp:br,PreventIosTouch:Jt};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),xr={class:"completion-results fit no-wrap"},kr={class:"completion-footer full-width q-px-md q-py-xs text-center"},$r={class:"text-capitalize"};function Pr(t,a,n,e,i,o){return m(),z("div",xr,[f(e.PreventIosTouch,null,{default:g(()=>[f(e.CompletionInp)]),_:1}),e.completionMode==="choice"?(m(),P(e.QVirtualScroll,{key:0,ref:"scrollTarget","items-size":e.total,"virtual-scroll-slice-size":e.config.completion.defaultCompletionLimit,"virtual-scroll-item-size":e.itemHeight,"items-fn":e.getPagedResult,"scroll-target":"scrollTarget",class:"completion-scroll full-width flex-1"},{default:g(({index:r})=>[f(e.AsyncItemContainer,{"items-list":e.candidates,index:r,height:e.itemHeight},{default:g(({item:l,index:u})=>[(m(),P(Go,null,[f(e.CompletionResultItem,{item:l,index:u,selected:u===e.selectedIndex},null,8,["item","index","selected"])],1024))]),_:2},1032,["items-list","index"])]),_:1},8,["items-size","virtual-scroll-slice-size"])):R("",!0),e.completionMode==="choice"?(m(),P(e.PreventIosTouch,{key:1},{default:g(()=>[$("div",kr,[$("span",$r,I(t.$t("items")),1),ce(": "+I(e.selectedIndex+1)+"/"+I(e.total),1)])]),_:1})):R("",!0)])}const zr=M(Cr,[["render",Pr],["__file","CompletionResult.vue"]]),Tr=L({__name:"CompletionPromt",setup(t,{expose:a}){a();const n=ge(),{opened:e}=Pe(n),i=mn(),o={completionStore:n,opened:e,viewStore:i,CompletionResult:zr};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function qr(t,a,n,e,i,o){return e.opened?(m(),z(ae,{key:0},[e.viewStore.completionPosition==="bottom"?(m(),P(Ko,{key:0,to:"#mini-buffer"},[f(e.CompletionResult)])):(m(),z("div",{key:1,class:Te(["completion-container",{mobile:t.$q.screen.lt.sm,choice:e.completionStore.completionMode==="choice",pwa:t.$q.platform.is.ios&&!t.$q.platform.is.nativeMobile}])},[f(e.CompletionResult)],2))],64)):R("",!0)}const Er=M(Tr,[["render",qr],["__file","CompletionPromt.vue"]]),Or=L({__name:"ConfirmationModal",setup(t,{expose:a}){a();const e={confirmationStore:Xo()};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),Mr={class:"capitalize"},Ar={class:"capitalize"};function Dr(t,a,n,e,i,o){return m(),P(jt,{modelValue:e.confirmationStore.opened,"onUpdate:modelValue":a[2]||(a[2]=r=>e.confirmationStore.opened=r),persistent:""},{default:g(()=>[f(fn,{class:"no-shadow"},{default:g(()=>[f(vn,{class:"column items-start gap-8"},{default:g(()=>[$("h5",Mr,I(t.$t(e.confirmationStore.title)),1),$("div",Ar,I(t.$t(e.confirmationStore.description)),1)]),_:1}),f(Yo,{align:"right"},{default:g(()=>[ue(f(pe,{onClick:a[0]||(a[0]=r=>e.confirmationStore.resolveConfirmation(!1)),flat:"",label:t.$t("cancel"),color:"red"},null,8,["label"]),[[yt]]),ue(f(pe,{onClick:a[1]||(a[1]=r=>e.confirmationStore.resolveConfirmation(!0)),flat:"",label:t.$t("confirm"),color:"primary"},null,8,["label"]),[[yt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Lr=M(Or,[["render",Dr],["__file","ConfirmationModal.vue"]]),Ir=L({__name:"EditorActionsToolbar",setup(t,{expose:a}){a();const n=Tt(),e=rt(),i=e.getCommandsFromGroup("editor"),o=u=>{u.handler(n.editorView)},r=k(!1);de(()=>setTimeout(()=>r.value=!0,100));const l={noteEditorStore:n,commandsStore:e,editorCommands:i,handleEditorAction:o,inited:r,get extractDynamicValue(){return ke},PreventIosTouch:Jt};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),Br={key:0,class:"editor-actions"},Rr=["onMousedown"];function Vr(t,a,n,e,i,o){return m(),z("div",{onTouchstart:a[0]||(a[0]=ne(()=>{},["stop"])),onMousedown:a[1]||(a[1]=ne(()=>{},["stop"]))},[f(e.PreventIosTouch,null,{default:g(()=>[e.inited?(m(),z("div",Br,[(m(!0),z(ae,null,ze(e.editorCommands,r=>(m(),z("div",{onMousedown:ne(l=>e.handleEditorAction(r),["prevent","stop"]),key:r.command,class:"editor-action"},[f(K,{name:e.extractDynamicValue(r.icon),size:"sm"},null,8,["name"])],40,Rr))),128))])):R("",!0)]),_:1})],32)}const Nr=M(Ir,[["render",Vr],["__file","EditorActionsToolbar.vue"]]),jr=L({__name:"FileUploader",props:{accept:{default:()=>["org",...bn]},multiple:{type:Boolean},directory:{type:Boolean}},emits:["uploaded","dropped"],setup(t,{expose:a,emit:n}){a();const e=t,i=n,o=k(0),r=p(()=>o.value>0),l=h=>Array.from(h).reduce(async(T,w)=>{const S=await T,b=w.webkitGetAsEntry();if(!b)return S;if(b.isFile)return S.push(b),S;const V=await Ft(b,e.accept);return S.push(...V),S},Promise.resolve([])),u=async h=>{var w;i("dropped"),o.value=0,h.preventDefault();const T=await l((w=h.dataTransfer)==null?void 0:w.items);i("uploaded",T)},d=h=>{o.value+=1,h.preventDefault()},s=h=>{o.value-=1,h.preventDefault()},C=h=>h.preventDefault(),_=()=>{window.addEventListener("dragover",C,!1),window.addEventListener("drop",C,!1)};be(()=>te(_)()),ye(te(()=>{window.removeEventListener("dragover",C),window.removeEventListener("drop",C)}));const y={props:e,emits:i,dragCount:o,dragOnTarget:r,extractFiles:l,onDrop:u,dragOver:d,dragLeave:s,preventDefault:C,preventDragAndDrop:_};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),Hr={key:0,class:"upload-overlay fit q-p-xl"},Fr={class:"uploader-info fit flex justify-center items-center text-h1"};function Qr(t,a,n,e,i,o){return m(),z("div",{onDrop:ne(e.onDrop,["prevent"]),onDragenter:ne(e.dragOver,["prevent"]),onDragleave:ne(e.dragLeave,["prevent"]),class:Te(["file-uploader",{"drag-target":e.dragOnTarget}])},[e.dragOnTarget?(m(),z("div",Hr,[$("div",Fr,I(t.$t("Drag&drop your notes here!")),1)])):R("",!0),he(t.$slots,"default",{},void 0,!0)],34)}const Wr=M(jr,[["render",Qr],["__scopeId","data-v-40fef4c8"],["__file","FileUploader.vue"]]),Ur=L({__name:"ModalContainer",setup(t,{expose:a}){a();const n=Le(),i={modalStore:n,closeCurrentModal:()=>n.close()};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),Gr={class:"modal-container"},Kr={class:"modal-title full-width text-capitalize color-secondary text-h5"},Xr={class:"modal-content full-width"};function Yr(t,a,n,e,i,o){return m(),z("div",Gr,[f(pe,{class:"close-btn color-secondary",onClick:e.closeCurrentModal,icon:"close",flat:"",rounded:"",size:"sm"}),$("div",Kr,[he(t.$slots,"title",{},void 0,!0)]),$("div",Xr,[he(t.$slots,"content",{},void 0,!0)])])}const Jr=M(Ur,[["render",Yr],["__scopeId","data-v-7fdee433"],["__file","ModalContainer.vue"]]),Zr=L({__name:"ModalWindow",setup(t,{expose:a}){a();const e={modalStore:Le(),ModalContainer:Jr};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}});function ei(t,a,n,e,i,o){return m(),P(jt,{modelValue:e.modalStore.opened,"onUpdate:modelValue":a[0]||(a[0]=r=>e.modalStore.opened=r),maximized:t.$q.screen.lt.sm},{default:g(()=>[f(e.ModalContainer,null,Jo({content:g(()=>[(m(),P(nt(e.modalStore.component)))]),_:2},[e.modalStore.title?{name:"title",fn:g(()=>[ce(I(t.$t(e.modalStore.title)),1)]),key:"0"}:void 0]),1024)]),_:1},8,["modelValue","maximized"])}const ti=M(Zr,[["render",ei],["__file","ModalWindow.vue"]]),oi=me({name:"QBar",props:{...st,dense:Boolean},setup(t,{slots:a}){const{proxy:{$q:n}}=fe(),e=ct(t,n),i=p(()=>`q-bar row no-wrap items-center q-bar--${t.dense===!0?"dense":"standard"}  q-bar--${e.value===!0?"dark":"light"}`);return()=>A("div",{class:i.value,role:"toolbar"},lt(a.default))}}),ni=me({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:a,emit:n}){const{proxy:{$q:e}}=fe(),i=it(Be,oe);if(i===oe)return console.error("QHeader needs to be child of QLayout"),oe;const o=k(parseInt(t.heightHint,10)),r=k(!0),l=p(()=>t.reveal===!0||i.view.value.indexOf("H")!==-1||e.platform.is.ios&&i.isContainer.value===!0),u=p(()=>{if(t.modelValue!==!0)return 0;if(l.value===!0)return r.value===!0?o.value:0;const b=o.value-i.scroll.value.position;return b>0?b:0}),d=p(()=>t.modelValue!==!0||l.value===!0&&r.value!==!0),s=p(()=>t.modelValue===!0&&d.value===!0&&t.reveal===!0),C=p(()=>"q-header q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(d.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),_=p(()=>{const b=i.rows.value.top,V={};return b[0]==="l"&&i.left.space===!0&&(V[e.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),b[2]==="r"&&i.right.space===!0&&(V[e.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),V});function y(b,V){i.update("header",b,V)}function h(b,V){b.value!==V&&(b.value=V)}function T({height:b}){h(o,b),y("size",b)}function w(b){s.value===!0&&h(r,!0),n("focusin",b)}D(()=>t.modelValue,b=>{y("space",b),h(r,!0),i.animate()}),D(u,b=>{y("offset",b)}),D(()=>t.reveal,b=>{b===!1&&h(r,t.modelValue)}),D(r,b=>{i.animate(),n("reveal",b)}),D(i.scroll,b=>{t.reveal===!0&&h(r,b.direction==="up"||b.position<=t.revealOffset||b.position-b.inflectionPoint<100)});const S={};return i.instances.header=S,t.modelValue===!0&&y("size",o.value),y("space",t.modelValue),y("offset",u.value),ye(()=>{i.instances.header===S&&(i.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const b=Zo(a.default,[]);return t.elevated===!0&&b.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),b.push(A($e,{debounce:0,onResize:T})),A("header",{class:C.value,style:_.value,onFocusin:w},b)}}}),ai=L({__name:"TheHeader",setup(t,{expose:a}){var r;a();const{close:n,minimize:e,toggleMaximize:i}=(r=window.electron)!=null?r:{},o={close:n,minimize:e,toggleMaximize:i};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function ri(t,a,n,e,i,o){return m(),P(ni,null,{default:g(()=>[t.$q.platform.is.electron?(m(),P(oi,{key:0,class:"q-electron-drag bg-alt"},{default:g(()=>[f(pe,{onClick:e.close,dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"red"},null,8,["onClick"]),f(pe,{onClick:e.minimize,dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"yellow"},null,8,["onClick"]),f(pe,{onClick:e.toggleMaximize,dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"green"},null,8,["onClick"])]),_:1})):R("",!0)]),_:1})}const ii=M(ai,[["render",ri],["__file","TheHeader.vue"]]),li=L({__name:"ToolBar",setup(t,{expose:a}){a();const n=dt(),{executeCommand:e}=ut(),i={toolbarStore:n,executeCommand:e,get extractDynamicValue(){return ke}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),si={class:"footer-wrapper fit flex rows justify-between items-center"},ci=["onClick"];function ui(t,a,n,e,i,o){return ue((m(),P(Ht,{class:"toolbar",reveal:""},{default:g(()=>[$("div",si,[(m(!0),z(ae,null,ze(e.toolbarStore.actions,r=>(m(),z("div",{key:r.command,class:"flex toolbar-action justify-center items-center cursor-pointer",onClick:l=>e.executeCommand(r)},[f(K,{class:"color-main",name:e.extractDynamicValue(r.icon),size:"md"},null,8,["name"])],8,ci))),128))])]),_:1},512)),[[Vt,e.toolbarStore.showToolbar]])}const di=M(li,[["render",ui],["__scopeId","data-v-48b84d1a"],["__file","ToolBar.vue"]]),mi={},fi=$("div",{id:"mini-buffer"},null,-1);function vi(t,a){return m(),P(Ht,{class:"mini-buffer"},{default:g(()=>[fi]),_:1})}const pi=M(mi,[["render",vi],["__file","MiniBuffer.vue"]]),_i=L({__name:"MainLayout",setup(t,{expose:a}){a();const n=at(),e=Je(),i=p(()=>e.user);e==null||e.verifyUser();const{registerKeybindings:o}=ut();ha().register(),rn(),un(),cn(),o([{handler:()=>n.toggleWithFallback(Yt),command:"toggleActionSidePanel",keySequence:"o p",description:"Toggle left sidebar"}]);const r=en(),l=dt(),u=Nt(te(()=>{window.scrollTo(0,0)})),{viewportHeight:d,keyboardOpened:s}=sn(w=>{l.showToolbar=!w.keyboardOpened.value,w.keyboardOpened.value?document.body.classList.add("keyboard-opened"):document.body.classList.remove("keyboard-opened"),document.body.style.height=w.viewportHeight.value+"px",w.keyboardOpened.value&&u()}),C=tn();ba(w=>{w&&C.sync()});const _=tt(),{bootstrapped:y}=ya();be(()=>{_.loadActiveExtensions(),_.loadExtensions()}),de(()=>{document.body.style.height=d.value+"px"});const h=Ze(),T={sidebarStore:n,authStore:e,user:i,registerKeybindings:o,notesImportStore:r,toolbarStore:l,alignViaVirtualkeyboard:u,viewportHeight:d,keyboardOpened:s,syncStore:C,extensionsStore:_,bootstrapped:y,route:h,LoaderSpinner:mt,ActionSidePanel:ar,CompletionPrompt:Er,ConfirmationModal:Lr,EditorActionsToolbar:Nr,FileUploader:Wr,ModalWindow:ti,TheHeader:ii,ToolBar:di,MiniBuffer:pi,PageLoading:Ca,get RouteNames(){return X}};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}});function hi(t,a,n,e,i,o){const r=on("router-view");return m(),P($a,{view:"lHh Lpr lFf",style:an({"--viewport-height":e.viewportHeight+"px",minHeight:0})},{default:g(()=>[e.bootstrapped?(m(),P(nn,{key:0},{default:g(()=>[f(e.FileUploader,{class:"main-content",onUploaded:e.notesImportStore.uploadFiles},{default:g(()=>[f(e.TheHeader),t.$q.screen.gt.xs||e.sidebarStore.opened?(m(),P(e.ActionSidePanel,{key:0,"full-width":t.$q.screen.lt.sm,user:e.user},null,8,["full-width","user"])):R("",!0),ue((m(),P(xa,{class:Te(["height-max-dynamic",{"with-composite-bar":t.$q.screen.gt.xs}])},{default:g(()=>[f(e.ModalWindow),f(e.ConfirmationModal),f(r),t.$q.screen.lt.sm&&!e.toolbarStore.showToolbar&&(e.keyboardOpened||t.$q.platform.is.desktop)&&e.route.name===e.RouteNames.RawEditor?(m(),P(e.EditorActionsToolbar,{key:0})):R("",!0)]),_:1},8,["class"])),[[Gt,e.sidebarStore.open,void 0,{mouse:!0,right:!0}]]),f(e.MiniBuffer),f(e.CompletionPrompt),t.$q.screen.lt.sm?(m(),P(e.ToolBar,{key:1})):R("",!0)]),_:1},8,["onUploaded"])]),fallback:g(()=>[f(e.LoaderSpinner)]),_:1})):(m(),P(e.PageLoading,{key:1}))]),_:1},8,["style"])}const Ei=M(_i,[["render",hi],["__scopeId","data-v-36a52769"],["__file","MainLayout.vue"]]);export{Ei as default};
