import{z as y,o as n,A as u,a5 as N,h as b,R as w,ax as C,P as I,e as h,$ as f,E as k,F as r,L as m,C as v,D as d,G as B,cP as D,cQ as T,r as p,cR as S,bS as z,aO as R,p as A,cS as L,B as s,aJ as j,aK as O}from"./index-CzwKTze0.js";import{Q as F}from"./QPage-BrFQSdfo.js";import{L as M}from"./LoaderSpinner-BmQJIpqw.js";const Q={},U={class:"no-data"};function V(t,c){return n(),u("div",U,[N(t.$slots,"default",{},void 0,!0)])}const P=y(Q,[["render",V],["__scopeId","data-v-b270daf7"],["__file","NoData.vue"]]),E=b({__name:"NoteRelativePath",props:{notes:{},emptyText:{},beforeActionIcon:{}},emits:["beforeActionIcon"],setup(t,{expose:c,emit:o}){c();const a={emits:o,get RouteNames(){return w},NoData:P};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function $(t,c,o,e,a,_){const i=C("router-link");return o.notes?.length?(n(!0),u(B,{key:0},I(o.notes,l=>(n(),u("div",{key:l.id,class:"note-relative-path"},[o.beforeActionIcon?(n(),h(f,{key:0,name:o.beforeActionIcon,onClick:g=>e.emits("beforeActionIcon",l),role:"button",class:"action-icon pa-r-sm color-red active",size:"xs"},null,8,["name","onClick"])):k("",!0),r(i,{class:"link note-path",to:{name:e.RouteNames.NoteDetail,params:{id:l.id}}},{default:m(()=>[v(" ~/"+d(l.filePath.join("/")),1)]),_:2},1032,["to"])]))),128)):o.emptyText?(n(),h(e.NoData,{key:1},{default:m(()=>[v(d(t.$t(o.emptyText)),1)]),_:1})):k("",!0)}const G=y(E,[["render",$],["__scopeId","data-v-ec6cb590"],["__file","NoteRelativePath.vue"]]),J=b({__name:"PrettyCard",setup(t,{expose:c}){c();const o=D(),e=o.default!==void 0,a={slots:o,isDefaultSlotProvided:e};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),K={class:"card"};function W(t,c,o,e,a,_){return n(),u("div",K,[e.isDefaultSlotProvided?N(t.$slots,"default",{key:0},void 0,!0):k("",!0)])}const q=y(J,[["render",W],["__scopeId","data-v-afe31829"],["__file","PrettyCard.vue"]]),H=T("notes-statistic",()=>{const t=p([]),c=p([]),o=p([]),e=5,a=async()=>{await _(),await i(),await l()},_=async()=>{t.value=await S.notes.getNotePreviews({limit:e,offset:0})},i=async()=>{c.value=(await S.notes.getTagsStatistic()).slice(0,e).map(g=>g.tag)},l=async()=>{o.value=await S.notes.getNotePreviews({limit:e,offset:0,bookmarked:!0})};return{recentNotes:t,mostUsedTags:c,bookmarkedNotes:o,loadStatistic:a,loadBookmarks:l,loadPopularNotes:_,loadMostUsedTags:i}}),X=b({__name:"DashboardPage",setup(t,{expose:c}){c();const o=z(),e=R();o.loadTotal();const a=p(),_=async()=>{a.value=!0,await e.createFile()},i=H();A(async()=>{await i.loadStatistic()});const g={notesStore:o,fileManagerStore:e,creating:a,createNote:_,notesStatisticStore:i,toggleBookmark:async x=>{await o.toggleBookmark(x),await i.loadBookmarks()},LoaderSpinner:M,TagList:L,NoteRelativePath:G,NoData:P,PrettyCard:q};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),Y=t=>(j("data-v-e8c034d3"),t=t(),O(),t),Z={key:0,class:"fit column-center"},ee={class:"color-main capitalize"},te={key:1,class:"fit flex column items-start justify-center gap-16"},oe=Y(()=>s("h5",{class:"color-main text-italic"},"Welcome to OrgNote",-1)),ae={class:"title color-magenta flex gap-8"},se={class:"capitalize"},ne={class:"body text-h6"},ce={class:"title color-magenta capitalize flex gap-8"},re={class:"capitalize"},ie={class:"body text-h6 color-main"},le={class:"title color-magenta capitalize flex gap-8"},de={class:"capitalize"},_e={class:"body text-h6 color-main"},me={class:"capitalize"};function ue(t,c,o,e,a,_){return n(),h(F,{class:"center-container"},{default:m(()=>[e.creating||!e.notesStore.total?(n(),u("div",Z,[e.creating?(n(),h(e.LoaderSpinner,{key:0})):e.notesStore.total?k("",!0):(n(),u("div",{key:1,onClick:e.createNote,class:"full-width column-center gap-8 pointer",role:"button"},[s("h3",ee,d(t.$t("create your first note")),1),r(f,{class:"color-main",name:"add",size:"lg"})]))])):(n(),u("div",te,[oe,r(e.PrettyCard,null,{default:m(()=>[s("h3",ae,[r(f,{name:"schedule"}),s("div",se,d(t.$t("recent notes")),1)]),s("div",ne,[r(e.NoteRelativePath,{notes:e.notesStatisticStore.recentNotes},null,8,["notes"])])]),_:1}),r(e.PrettyCard,null,{default:m(()=>[s("h3",ce,[r(f,{name:"bookmark"}),s("div",re,d(t.$t("bookmarks")),1)]),s("div",ie,[r(e.NoteRelativePath,{notes:e.notesStatisticStore.bookmarkedNotes,"empty-text":"no bookmarks yet","before-action-icon":"o_cancel",onBeforeActionIcon:e.toggleBookmark},null,8,["notes"])])]),_:1}),r(e.PrettyCard,null,{default:m(()=>[s("h3",le,[r(f,{name:"tag"}),s("div",de,d(t.$t("tags")),1)]),s("div",_e,[e.notesStatisticStore.mostUsedTags.length?(n(),h(e.TagList,{key:0,tags:e.notesStatisticStore.mostUsedTags,"with-hash":!0},null,8,["tags"])):(n(),h(e.NoData,{key:1},{default:m(()=>[v(d(t.$t("no tags yet")),1)]),_:1}))])]),_:1}),s("div",{onClick:e.createNote,class:"full-width text-center flex row items-center justify-center gap-8 pointer color-main active pa-y-lg",role:"button"},[s("h6",me,[r(f,{name:"add",size:"sm"}),v(" "+d(t.$t("create note")),1)])])]))]),_:1})}const pe=y(X,[["render",ue],["__scopeId","data-v-e8c034d3"],["__file","DashboardPage.vue"]]);export{pe as default};
