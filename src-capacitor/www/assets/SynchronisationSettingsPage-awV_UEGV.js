import{N as g}from"./NavigationPage-BaryKgqP.js";import{h as b,l as I,d as h,an as v,s as N,J as p,I as P,m as x,ao as z,M as A,T as C,z as M,o as s,e as a,L as T,F as i,E as m}from"./index-CzwKTze0.js";import{b as k}from"./config-menu-builder-CDvGpAqw.js";const w=b({__name:"SynchronisationSettingsPage",setup(u,{expose:r}){r();const n=I(),e=h(()=>l.platform.is.mobile&&t.synchronization.type==="filesystem"),o=v(),{config:t}=N(),d=[{label:"force sync",disabled:h(()=>n.user?.isAnonymous||t.synchronization.type==="none"),handler:()=>o.forceResync(),color:p("blue")}],f=k(t.synchronization,{configScheme:z,excludeKeys:["path"]}),{orgNoteApi:c}=P(),S=[{label:"path",reactivePath:t.synchronization,reactiveKey:"path",type:"readonly"},{label:"select dir",type:"action",color:p("blue"),handler:async()=>{const _=await c.fileSystem.readPath();t.synchronization.path=_}}],l=x(),y={authStore:n,dirSyncAvailable:e,syncStore:o,config:t,forceSyncItems:d,syncTypeItems:f,orgNoteApi:c,pathPickItems:S,$q:l,NavigationPage:g,MenuGroup:A,TheDescription:C};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}});function G(u,r,n,e,o,t){return s(),a(e.NavigationPage,null,{default:T(()=>[i(e.MenuGroup,{title:"synchronization type",items:e.syncTypeItems},null,8,["items"]),e.dirSyncAvailable?(s(),a(e.MenuGroup,{key:0,title:"vault path",items:e.pathPickItems})):m("",!0),e.config.synchronization.type==="filesystem"?(s(),a(e.TheDescription,{key:1,text:"this functionality in development right now. It's not possible to sync notes with the filesystem yet."})):m("",!0),i(e.MenuGroup,{items:e.forceSyncItems}),i(e.TheDescription,{text:"this functionality will completely clear the local cache and reload all notes from an external source. Important: Unsaved notes will be deleted."})]),_:1})}const V=M(w,[["render",G],["__file","SynchronisationSettingsPage.vue"]]);export{V as default};
