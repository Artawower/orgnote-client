import{h as v,at as N,r as d,I as m,dl as h,z as w,o,A as a,F as k,N as p,a6 as y,B as _,e as u,G as g,D as S}from"./index-BLR50dHh.js";import{P}from"./PublicNotePreview-B1Itg-s9.js";import{L as b}from"./LoaderSpinner-u56xTrLm.js";import"./view-BR5rXTcg.js";import"./AuthorInfo-D1Eh1OxM.js";const B=v({__name:"NotePreviewLink",props:{id:{}},setup(t,{expose:s}){s();const n=t,e=N(),r=d(null),i=d(!0),f=async()=>{n.id&&([r.value]=await e.getNoteById(n.id),i.value=!1)},{orgNoteApi:c}=m(),l={props:n,currentNoteStore:e,note:r,loading:i,loadNote:f,orgNoteApi:c,openNote:()=>{c.navigation.editNote(r.value.id)},DynamicTooltip:h,PublicNotePreview:P,LoaderSpinner:b};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),L={class:"preview-link"},x={class:"note-preview-wrapper"},C={class:"preview-link-not-found flex items-center justify-center fit"},D={key:0};function A(t,s,n,e,r,i){return o(),a("span",L,[k(e.DynamicTooltip,{position:"bottom",onShow:e.loadNote},{content:p(()=>[y(t.$slots,"default",{},void 0,!0)]),tooltip:p(()=>[_("div",x,[_("div",C,[e.loading?(o(),u(e.LoaderSpinner,{key:0,class:"spinner"})):(o(),a(g,{key:1},[e.note?(o(),u(e.PublicNotePreview,{key:1,class:"q-pa-md",onClick:e.openNote,"note-preview":e.note,"show-author":!1,height:200,"hide-footer":!0,"full-height":!0},null,8,["note-preview"])):(o(),a("h1",D,S(t.$t("Note not found")),1))],64))])])]),_:3})])}const q=w(B,[["render",A],["__scopeId","data-v-b9ce72b5"],["__file","NotePreviewLink.vue"]]);export{q as default};
