import{h as g,r as d,l as w,p as V,k as x,d as B,s as S,q as A,x as P,R as q,z as N,o as n,A as l,B as c,C as f,D as m,F as r,G as Q,Q as b,H as R}from"./index-BLR50dHh.js";import{L as U}from"./LoginButtons-CIJgCB1i.js";const C=g({__name:"ActivationPage",setup(a,{expose:o}){o();const u=d(""),e=d(""),i=d(""),s=w();V(async()=>{y(),!(!s.user||s.user.isAnonymous)&&await h()});const t=x(),y=()=>{e.value=t.query.key,u.value=e.value,i.value=t.query.email},k=B(()=>window.location.pathname+window.location.search),{config:_}=S(),v=A(),h=async()=>{e.value&&(await s.subscribe(e.value,i.value),_.developer.developerMode&&await P(1e4),v.push({name:q.Home}))},p={initialKey:u,key:e,email:i,authStore:s,route:t,initFromQueryParams:y,redirectUrl:k,config:_,router:v,activate:h,LoginButtons:U};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),F={class:"fit q-pa-md flex items-center justify-center"},L={key:0},j={class:"text-h2 text-center"},D=c("br",null,null,-1),E={key:0,class:"text-h2 text-center"},H=c("br",null,null,-1),K={key:1,class:"color-secondary column gap-8 activation-form"};function M(a,o,u,e,i,s){return n(),l("div",F,[e.authStore.user.isAnonymous?(n(),l("div",L,[c("h3",j,[f(m(a.$t("to activate the license key you need to log in to the system")),1),D]),r(e.LoginButtons,{"redirect-url":e.redirectUrl},null,8,["redirect-url"])])):(n(),l(Q,{key:1},[e.initialKey?(n(),l("h2",E,[f(m(a.$t("wait a second, we are trying to activate your account")),1),H])):(n(),l("div",K,[c("h2",null,m(a.$t("Enter your activation key")),1),r(b,{class:"color-white",standout:"bg-black text-white",modelValue:e.key,"onUpdate:modelValue":o[0]||(o[0]=t=>e.key=t),label:a.$t("subscription key")},null,8,["modelValue","label"]),r(b,{class:"color-white",standout:"bg-black text-white",modelValue:e.email,"onUpdate:modelValue":o[1]||(o[1]=t=>e.email=t),label:"email"},null,8,["modelValue"]),r(R,{onClick:e.activate,disable:!e.key,flat:"",color:"primary",label:a.$t("activate"),"icon-right":"send",class:"gap-8"},null,8,["disable","label"])]))],64))])}const I=N(C,[["render",M],["__file","ActivationPage.vue"]]);export{I as default};
